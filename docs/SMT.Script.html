<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SMT.Script</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="SMT.Theory.html" class="Module">SMT.Theory</a>

<a id="25" class="Keyword">module</a> <a id="32" href="SMT.Script.html" class="Module">SMT.Script</a> <a id="43" class="Symbol">(</a><a id="44" href="SMT.Script.html#44" class="Bound">theory</a> <a id="51" class="Symbol">:</a> <a id="53" href="SMT.Theory.html#849" class="Record">Theory</a><a id="59" class="Symbol">)</a> <a id="61" class="Keyword">where</a>

<a id="68" class="Keyword">open</a> <a id="73" class="Keyword">import</a> <a id="80" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="89" class="Symbol">as</a> <a id="92" class="Module">Fin</a> <a id="96" class="Keyword">using</a> <a id="102" class="Symbol">(</a><a id="103" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a><a id="106" class="Symbol">)</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="Data.List.html" class="Module">Data.List</a> <a id="130" class="Symbol">as</a> <a id="133" class="Module">List</a> <a id="138" class="Keyword">using</a> <a id="144" class="Symbol">(</a><a id="145" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="149" class="Symbol">;</a> <a id="151" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="154" class="Symbol">;</a> <a id="156" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="158" class="Symbol">;</a> <a id="160" href="Data.List.Base.html#1763" class="Function Operator">_++_</a><a id="164" class="Symbol">)</a>
<a id="166" class="Keyword">open</a> <a id="171" class="Keyword">import</a> <a id="178" href="Data.List.NonEmpty.html" class="Module">Data.List.NonEmpty</a> <a id="197" class="Symbol">as</a> <a id="200" class="Module">List⁺</a> <a id="206" class="Keyword">using</a> <a id="212" class="Symbol">(</a><a id="213" href="Data.List.NonEmpty.html#1318" class="Record">List⁺</a><a id="218" class="Symbol">;</a> <a id="220" href="Data.List.NonEmpty.html#1364" class="InductiveConstructor Operator">_∷_</a><a id="223" class="Symbol">)</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="Data.Product.html" class="Module">Data.Product</a> <a id="250" class="Symbol">as</a> <a id="253" class="Module">Prod</a> <a id="258" class="Keyword">using</a> <a id="264" class="Symbol">(</a><a id="265" href="Data.Product.html#1369" class="Function">∃</a><a id="266" class="Symbol">;</a> <a id="268" href="Data.Product.html#1788" class="Function">∃-syntax</a><a id="276" class="Symbol">;</a> <a id="278" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="281" class="Symbol">)</a>
<a id="283" class="Keyword">open</a> <a id="288" class="Keyword">import</a> <a id="295" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="312" class="Keyword">using</a> <a id="318" class="Symbol">(</a><a id="319" href="Relation.Nullary.html#1508" class="Record">Dec</a><a id="322" class="Symbol">;</a> <a id="324" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a><a id="327" class="Symbol">;</a> <a id="329" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a><a id="331" class="Symbol">)</a>
<a id="333" class="Keyword">open</a> <a id="338" class="Keyword">import</a> <a id="345" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="372" class="Keyword">using</a> <a id="378" class="Symbol">(</a><a id="379" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="383" class="Symbol">)</a>
<a id="385" class="Keyword">open</a> <a id="390" class="Keyword">import</a> <a id="397" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="435" class="Keyword">using</a> <a id="441" class="Symbol">(</a><a id="442" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="445" class="Symbol">;</a> <a id="447" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="451" class="Symbol">)</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="SMT.Logics.html" class="Module">SMT.Logics</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Data.Environment.html" class="Module">Data.Environment</a> <a id="505" class="Symbol">as</a> <a id="508" class="Module">Env</a> <a id="512" class="Keyword">using</a> <a id="518" class="Symbol">(</a><a id="519" href="Data.Environment.html#352" class="Datatype">Env</a><a id="522" class="Symbol">;</a> <a id="524" href="Data.Environment.html#419" class="InductiveConstructor Operator">_∷_</a><a id="527" class="Symbol">;</a> <a id="529" href="Data.Environment.html#402" class="InductiveConstructor">[]</a><a id="531" class="Symbol">)</a>

<a id="534" class="Keyword">open</a> <a id="539" href="SMT.Theory.html#849" class="Module">Theory</a> <a id="546" href="SMT.Script.html#44" class="Bound">theory</a>

<a id="554" class="Comment">-------------------</a>
<a id="574" class="Comment">-- SMT-LIB Terms --</a>
<a id="594" class="Comment">-------------------</a>

<a id="615" class="Comment">-- |Typing contexts.</a>
<a id="Ctxt"></a><a id="636" href="SMT.Script.html#636" class="Function">Ctxt</a> <a id="641" class="Symbol">:</a> <a id="643" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="647" href="SMT.Script.html#636" class="Function">Ctxt</a> <a id="652" class="Symbol">=</a> <a id="654" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="659" href="SMT.Theory.html#881" class="Field">Sort</a>

<a id="665" class="Keyword">private</a>
  <a id="675" class="Keyword">variable</a>
    <a id="688" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="690" href="SMT.Script.html#690" class="Generalizable">σ′</a>    <a id="696" class="Symbol">:</a> <a id="698" href="SMT.Theory.html#881" class="Field">Sort</a>
    <a id="707" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="709" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="712" href="SMT.Script.html#712" class="Generalizable">δΓ</a> <a id="715" class="Symbol">:</a> <a id="717" href="SMT.Script.html#636" class="Function">Ctxt</a>
    <a id="726" href="SMT.Script.html#726" class="Generalizable">Δ</a> <a id="728" href="SMT.Script.html#728" class="Generalizable">Δ′</a>    <a id="734" class="Symbol">:</a> <a id="736" href="SMT.Script.html#636" class="Function">Ctxt</a>
    <a id="745" href="SMT.Script.html#745" class="Generalizable">Σ</a>       <a id="753" class="Symbol">:</a> <a id="755" href="SMT.Theory.html#329" class="Record">Signature</a> <a id="765" href="SMT.Script.html#688" class="Generalizable">σ</a>
    <a id="771" href="SMT.Script.html#771" class="Generalizable">Σ′</a>      <a id="779" class="Symbol">:</a> <a id="781" href="SMT.Theory.html#329" class="Record">Signature</a> <a id="791" href="SMT.Script.html#690" class="Generalizable">σ′</a>

<a id="795" class="Comment">-- |Well-typed variables.</a>
<a id="_∋_"></a><a id="821" href="SMT.Script.html#821" class="Function Operator">_∋_</a> <a id="825" class="Symbol">:</a> <a id="827" class="Symbol">(</a><a id="828" href="SMT.Script.html#828" class="Bound">Γ</a> <a id="830" class="Symbol">:</a> <a id="832" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="836" class="Symbol">)</a> <a id="838" class="Symbol">(</a><a id="839" href="SMT.Script.html#839" class="Bound">σ</a> <a id="841" class="Symbol">:</a> <a id="843" href="SMT.Theory.html#881" class="Field">Sort</a><a id="847" class="Symbol">)</a> <a id="849" class="Symbol">→</a> <a id="851" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="855" href="SMT.Script.html#855" class="Bound">Γ</a> <a id="857" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="859" href="SMT.Script.html#859" class="Bound">σ</a> <a id="861" class="Symbol">=</a> <a id="863" href="Data.Product.html#1788" class="Function">∃[</a> <a id="866" href="SMT.Script.html#866" class="Bound">i</a> <a id="868" href="Data.Product.html#1788" class="Function">]</a> <a id="870" class="Symbol">(</a><a id="871" href="Data.List.Base.html#5816" class="Function">List.lookup</a> <a id="883" href="SMT.Script.html#855" class="Bound">Γ</a> <a id="885" href="SMT.Script.html#866" class="Bound">i</a> <a id="887" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="889" href="SMT.Script.html#859" class="Bound">σ</a><a id="890" class="Symbol">)</a>

<a id="893" class="Comment">-- |SMT-LIB terms.</a>
<a id="912" class="Comment">--</a>
<a id="915" class="Comment">--  NOTE: match expressions are omitted, since we have no plans at the moment</a>
<a id="993" class="Comment">--        to support datatype sorts.</a>
<a id="1030" class="Keyword">mutual</a>
  <a id="1039" class="Keyword">data</a> <a id="Term"></a><a id="1044" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1049" class="Symbol">(</a><a id="1050" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1052" class="Symbol">:</a> <a id="1054" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="1058" class="Symbol">)</a> <a id="1060" class="Symbol">:</a> <a id="1062" class="Symbol">(</a><a id="1063" href="SMT.Script.html#1063" class="Bound">σ</a> <a id="1065" class="Symbol">:</a> <a id="1067" href="SMT.Theory.html#881" class="Field">Sort</a><a id="1071" class="Symbol">)</a> <a id="1073" class="Symbol">→</a> <a id="1075" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1079" class="Keyword">where</a>
    <a id="Term.var"></a><a id="1089" href="SMT.Script.html#1089" class="InductiveConstructor">var</a>    <a id="1096" class="Symbol">:</a> <a id="1098" class="Symbol">∀</a> <a id="1100" class="Symbol">{</a><a id="1101" href="SMT.Script.html#1101" class="Bound">σ</a><a id="1102" class="Symbol">}</a> <a id="1104" class="Symbol">(</a><a id="1105" href="SMT.Script.html#1105" class="Bound">x</a> <a id="1107" class="Symbol">:</a> <a id="1109" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1111" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="1113" href="SMT.Script.html#1101" class="Bound">σ</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">→</a> <a id="1118" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1123" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1125" href="SMT.Script.html#1101" class="Bound">σ</a>
    <a id="Term.lit"></a><a id="1131" href="SMT.Script.html#1131" class="InductiveConstructor">lit</a>    <a id="1138" class="Symbol">:</a> <a id="1140" class="Symbol">∀</a> <a id="1142" class="Symbol">{</a><a id="1143" href="SMT.Script.html#1143" class="Bound">σ</a><a id="1144" class="Symbol">}</a> <a id="1146" class="Symbol">(</a><a id="1147" href="SMT.Script.html#1147" class="Bound">l</a> <a id="1149" class="Symbol">:</a> <a id="1151" href="SMT.Theory.html#924" class="Field">Literal</a> <a id="1159" href="SMT.Script.html#1143" class="Bound">σ</a><a id="1160" class="Symbol">)</a> <a id="1162" class="Symbol">→</a> <a id="1164" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1169" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1171" href="SMT.Script.html#1143" class="Bound">σ</a>
    <a id="Term.app"></a><a id="1177" href="SMT.Script.html#1177" class="InductiveConstructor">app</a>    <a id="1184" class="Symbol">:</a> <a id="1186" class="Symbol">∀</a> <a id="1188" class="Symbol">{</a><a id="1189" href="SMT.Script.html#1189" class="Bound">σ</a><a id="1190" class="Symbol">}</a> <a id="1192" class="Symbol">{</a><a id="1193" href="SMT.Script.html#1193" class="Bound">Σ</a> <a id="1195" class="Symbol">:</a> <a id="1197" href="SMT.Theory.html#329" class="Record">Signature</a> <a id="1207" href="SMT.Script.html#1189" class="Bound">σ</a><a id="1208" class="Symbol">}</a> <a id="1210" class="Symbol">(</a><a id="1211" href="SMT.Script.html#1211" class="Bound">x</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="SMT.Theory.html#952" class="Field">Identifier</a> <a id="1226" href="SMT.Script.html#1193" class="Bound">Σ</a><a id="1227" class="Symbol">)</a> <a id="1229" class="Symbol">(</a><a id="1230" href="SMT.Script.html#1230" class="Bound">xs</a> <a id="1233" class="Symbol">:</a> <a id="1235" href="SMT.Script.html#1384" class="Function">Args</a> <a id="1240" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1242" class="Symbol">(</a><a id="1243" href="SMT.Theory.html#387" class="Field">ArgTypes</a> <a id="1252" href="SMT.Script.html#1193" class="Bound">Σ</a><a id="1253" class="Symbol">))</a> <a id="1256" class="Symbol">→</a> <a id="1258" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1263" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1265" href="SMT.Script.html#1189" class="Bound">σ</a>
    <a id="Term.forAll"></a><a id="1271" href="SMT.Script.html#1271" class="InductiveConstructor">forAll</a> <a id="1278" class="Symbol">:</a> <a id="1280" class="Symbol">∀</a> <a id="1282" class="Symbol">{</a><a id="1283" href="SMT.Script.html#1283" class="Bound">σ</a><a id="1284" class="Symbol">}</a> <a id="1286" class="Symbol">(</a><a id="1287" href="SMT.Script.html#1287" class="Bound">x</a> <a id="1289" class="Symbol">:</a> <a id="1291" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1296" class="Symbol">(</a><a id="1297" href="SMT.Script.html#1283" class="Bound">σ</a> <a id="1299" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1301" href="SMT.Script.html#1050" class="Bound">Γ</a><a id="1302" class="Symbol">)</a> <a id="1304" href="SMT.Theory.html#902" class="Field">BOOL</a><a id="1308" class="Symbol">)</a> <a id="1310" class="Symbol">→</a> <a id="1312" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1317" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1319" href="SMT.Theory.html#902" class="Field">BOOL</a>
    <a id="Term.exists"></a><a id="1328" href="SMT.Script.html#1328" class="InductiveConstructor">exists</a> <a id="1335" class="Symbol">:</a> <a id="1337" class="Symbol">∀</a> <a id="1339" class="Symbol">{</a><a id="1340" href="SMT.Script.html#1340" class="Bound">σ</a><a id="1341" class="Symbol">}</a> <a id="1343" class="Symbol">(</a><a id="1344" href="SMT.Script.html#1344" class="Bound">x</a> <a id="1346" class="Symbol">:</a> <a id="1348" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1353" class="Symbol">(</a><a id="1354" href="SMT.Script.html#1340" class="Bound">σ</a> <a id="1356" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1358" href="SMT.Script.html#1050" class="Bound">Γ</a><a id="1359" class="Symbol">)</a> <a id="1361" href="SMT.Theory.html#902" class="Field">BOOL</a><a id="1365" class="Symbol">)</a> <a id="1367" class="Symbol">→</a> <a id="1369" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1374" href="SMT.Script.html#1050" class="Bound">Γ</a> <a id="1376" href="SMT.Theory.html#902" class="Field">BOOL</a>

  <a id="Args"></a><a id="1384" href="SMT.Script.html#1384" class="Function">Args</a> <a id="1389" class="Symbol">:</a> <a id="1391" class="Symbol">(</a><a id="1392" href="SMT.Script.html#1392" class="Bound">Γ</a> <a id="1394" href="SMT.Script.html#1394" class="Bound">Δ</a> <a id="1396" class="Symbol">:</a> <a id="1398" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="1402" class="Symbol">)</a> <a id="1404" class="Symbol">→</a> <a id="1406" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="1412" href="SMT.Script.html#1384" class="Function">Args</a> <a id="1417" href="SMT.Script.html#1417" class="Bound">Γ</a> <a id="1419" class="Symbol">=</a> <a id="1421" href="Data.Environment.html#352" class="Datatype">Env</a> <a id="1425" class="Symbol">(λ</a> <a id="1428" href="SMT.Script.html#1428" class="Bound">σ</a> <a id="1430" href="SMT.Script.html#1430" class="Bound Operator">_Δ</a> <a id="1433" class="Symbol">→</a> <a id="1435" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1440" href="SMT.Script.html#1417" class="Bound">Γ</a> <a id="1442" href="SMT.Script.html#1428" class="Bound">σ</a><a id="1443" class="Symbol">)</a>

<a id="1446" class="Keyword">pattern</a> <a id="app₁"></a><a id="1454" href="SMT.Script.html#1454" class="InductiveConstructor">app₁</a> <a id="1459" href="SMT.Script.html#1473" class="Bound">f</a> <a id="1461" href="SMT.Script.html#1476" class="Bound">x</a>     <a id="1467" class="Symbol">=</a> <a id="1469" href="SMT.Script.html#1177" class="InductiveConstructor">app</a> <a id="1473" href="SMT.Script.html#1473" class="Bound">f</a> <a id="1475" class="Symbol">(</a><a id="1476" href="SMT.Script.html#1476" class="Bound">x</a> <a id="1478" class="InductiveConstructor Operator">∷</a> <a id="1480" class="InductiveConstructor">[]</a><a id="1482" class="Symbol">)</a>
<a id="1484" class="Keyword">pattern</a> <a id="app₂"></a><a id="1492" href="SMT.Script.html#1492" class="InductiveConstructor">app₂</a> <a id="1497" href="SMT.Script.html#1511" class="Bound">f</a> <a id="1499" href="SMT.Script.html#1514" class="Bound">x</a> <a id="1501" href="SMT.Script.html#1518" class="Bound">y</a>   <a id="1505" class="Symbol">=</a> <a id="1507" href="SMT.Script.html#1177" class="InductiveConstructor">app</a> <a id="1511" href="SMT.Script.html#1511" class="Bound">f</a> <a id="1513" class="Symbol">(</a><a id="1514" href="SMT.Script.html#1514" class="Bound">x</a> <a id="1516" class="InductiveConstructor Operator">∷</a> <a id="1518" href="SMT.Script.html#1518" class="Bound">y</a> <a id="1520" class="InductiveConstructor Operator">∷</a> <a id="1522" class="InductiveConstructor">[]</a><a id="1524" class="Symbol">)</a>
<a id="1526" class="Keyword">pattern</a> <a id="app₃"></a><a id="1534" href="SMT.Script.html#1534" class="InductiveConstructor">app₃</a> <a id="1539" href="SMT.Script.html#1553" class="Bound">f</a> <a id="1541" href="SMT.Script.html#1556" class="Bound">x</a> <a id="1543" href="SMT.Script.html#1560" class="Bound">y</a> <a id="1545" href="SMT.Script.html#1564" class="Bound">z</a> <a id="1547" class="Symbol">=</a> <a id="1549" href="SMT.Script.html#1177" class="InductiveConstructor">app</a> <a id="1553" href="SMT.Script.html#1553" class="Bound">f</a> <a id="1555" class="Symbol">(</a><a id="1556" href="SMT.Script.html#1556" class="Bound">x</a> <a id="1558" class="InductiveConstructor Operator">∷</a> <a id="1560" href="SMT.Script.html#1560" class="Bound">y</a> <a id="1562" class="InductiveConstructor Operator">∷</a> <a id="1564" href="SMT.Script.html#1564" class="Bound">z</a> <a id="1566" class="InductiveConstructor Operator">∷</a> <a id="1568" class="InductiveConstructor">[]</a><a id="1570" class="Symbol">)</a>

<a id="Rename"></a><a id="1573" href="SMT.Script.html#1573" class="Function">Rename</a> <a id="1580" class="Symbol">:</a> <a id="1582" class="Symbol">(</a><a id="1583" href="SMT.Script.html#1583" class="Bound">Γ</a> <a id="1585" href="SMT.Script.html#1585" class="Bound">Δ</a> <a id="1587" class="Symbol">:</a> <a id="1589" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="1593" class="Symbol">)</a> <a id="1595" class="Symbol">→</a> <a id="1597" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1601" href="SMT.Script.html#1573" class="Function">Rename</a> <a id="1608" href="SMT.Script.html#1608" class="Bound">Γ</a> <a id="1610" href="SMT.Script.html#1610" class="Bound">Δ</a> <a id="1612" class="Symbol">=</a> <a id="1614" class="Symbol">∀</a> <a id="1616" class="Symbol">{</a><a id="1617" href="SMT.Script.html#1617" class="Bound">σ</a><a id="1618" class="Symbol">}</a> <a id="1620" class="Symbol">→</a> <a id="1622" href="SMT.Script.html#1608" class="Bound">Γ</a> <a id="1624" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="1626" href="SMT.Script.html#1617" class="Bound">σ</a> <a id="1628" class="Symbol">→</a> <a id="1630" href="SMT.Script.html#1610" class="Bound">Δ</a> <a id="1632" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="1634" href="SMT.Script.html#1617" class="Bound">σ</a>

<a id="extendVar"></a><a id="1637" href="SMT.Script.html#1637" class="Function">extendVar</a> <a id="1647" class="Symbol">:</a> <a id="1649" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="1651" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="1653" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="1655" class="Symbol">→</a> <a id="1657" class="Symbol">(</a><a id="1658" href="SMT.Script.html#690" class="Generalizable">σ′</a> <a id="1661" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1663" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="1664" class="Symbol">)</a> <a id="1666" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="1668" href="SMT.Script.html#688" class="Generalizable">σ</a>
<a id="1670" href="SMT.Script.html#1637" class="Function">extendVar</a> <a id="1680" class="Symbol">(</a><a id="1681" href="SMT.Script.html#1681" class="Bound">i</a> <a id="1683" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1685" href="SMT.Script.html#1685" class="Bound">p</a><a id="1686" class="Symbol">)</a> <a id="1688" class="Symbol">=</a> <a id="1690" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="1698" href="SMT.Script.html#1681" class="Bound">i</a> <a id="1700" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1702" href="SMT.Script.html#1685" class="Bound">p</a>

<a id="extendRename"></a><a id="1705" href="SMT.Script.html#1705" class="Function">extendRename</a> <a id="1718" class="Symbol">:</a> <a id="1720" href="SMT.Script.html#1573" class="Function">Rename</a> <a id="1727" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="1729" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="1732" class="Symbol">→</a> <a id="1734" href="SMT.Script.html#1573" class="Function">Rename</a> <a id="1741" class="Symbol">(</a><a id="1742" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="1744" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1746" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="1747" class="Symbol">)</a> <a id="1749" class="Symbol">(</a><a id="1750" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="1752" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1754" href="SMT.Script.html#709" class="Generalizable">Γ′</a><a id="1756" class="Symbol">)</a>
<a id="1758" href="SMT.Script.html#1705" class="Function">extendRename</a> <a id="1771" href="SMT.Script.html#1771" class="Bound">r</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a>  <a id="1784" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1786" href="SMT.Script.html#1786" class="Bound">p</a><a id="1787" class="Symbol">)</a> <a id="1789" class="Symbol">=</a> <a id="1791" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a> <a id="1800" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1802" href="SMT.Script.html#1786" class="Bound">p</a>
<a id="1804" href="SMT.Script.html#1705" class="Function">extendRename</a> <a id="1817" href="SMT.Script.html#1817" class="Bound">r</a> <a id="1819" class="Symbol">(</a><a id="1820" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="1828" href="SMT.Script.html#1828" class="Bound">i</a> <a id="1830" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1832" href="SMT.Script.html#1832" class="Bound">p</a><a id="1833" class="Symbol">)</a> <a id="1835" class="Symbol">=</a> <a id="1837" href="SMT.Script.html#1637" class="Function">extendVar</a> <a id="1847" class="Symbol">(</a><a id="1848" href="SMT.Script.html#1817" class="Bound">r</a> <a id="1850" class="Symbol">(</a><a id="1851" href="SMT.Script.html#1828" class="Bound">i</a> <a id="1853" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1855" href="SMT.Script.html#1832" class="Bound">p</a><a id="1856" class="Symbol">))</a>

<a id="1860" class="Keyword">mutual</a>
  <a id="rename"></a><a id="1869" href="SMT.Script.html#1869" class="Function">rename</a> <a id="1876" class="Symbol">:</a> <a id="1878" href="SMT.Script.html#1573" class="Function">Rename</a> <a id="1885" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="1887" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="1890" class="Symbol">→</a> <a id="1892" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1897" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="1899" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="1901" class="Symbol">→</a> <a id="1903" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="1908" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="1911" href="SMT.Script.html#688" class="Generalizable">σ</a>
  <a id="1915" href="SMT.Script.html#1869" class="Function">rename</a> <a id="1922" href="SMT.Script.html#1922" class="Bound">r</a> <a id="1924" class="Symbol">(</a><a id="1925" href="SMT.Script.html#1089" class="InductiveConstructor">var</a> <a id="1929" href="SMT.Script.html#1929" class="Bound">i</a><a id="1930" class="Symbol">)</a>    <a id="1935" class="Symbol">=</a> <a id="1937" href="SMT.Script.html#1089" class="InductiveConstructor">var</a> <a id="1941" class="Symbol">(</a><a id="1942" href="SMT.Script.html#1922" class="Bound">r</a> <a id="1944" href="SMT.Script.html#1929" class="Bound">i</a><a id="1945" class="Symbol">)</a>
  <a id="1949" href="SMT.Script.html#1869" class="Function">rename</a> <a id="1956" href="SMT.Script.html#1956" class="Bound">r</a> <a id="1958" class="Symbol">(</a><a id="1959" href="SMT.Script.html#1131" class="InductiveConstructor">lit</a> <a id="1963" href="SMT.Script.html#1963" class="Bound">l</a><a id="1964" class="Symbol">)</a>    <a id="1969" class="Symbol">=</a> <a id="1971" href="SMT.Script.html#1131" class="InductiveConstructor">lit</a> <a id="1975" href="SMT.Script.html#1963" class="Bound">l</a>
  <a id="1979" href="SMT.Script.html#1869" class="Function">rename</a> <a id="1986" href="SMT.Script.html#1986" class="Bound">r</a> <a id="1988" class="Symbol">(</a><a id="1989" href="SMT.Script.html#1177" class="InductiveConstructor">app</a> <a id="1993" href="SMT.Script.html#1993" class="Bound">x</a> <a id="1995" href="SMT.Script.html#1995" class="Bound">xs</a><a id="1997" class="Symbol">)</a> <a id="1999" class="Symbol">=</a> <a id="2001" href="SMT.Script.html#1177" class="InductiveConstructor">app</a> <a id="2005" href="SMT.Script.html#1993" class="Bound">x</a> <a id="2007" class="Symbol">(</a><a id="2008" href="SMT.Script.html#2146" class="Function">renameArgs</a> <a id="2019" href="SMT.Script.html#1986" class="Bound">r</a> <a id="2021" href="SMT.Script.html#1995" class="Bound">xs</a><a id="2023" class="Symbol">)</a>
  <a id="2027" href="SMT.Script.html#1869" class="Function">rename</a> <a id="2034" href="SMT.Script.html#2034" class="Bound">r</a> <a id="2036" class="Symbol">(</a><a id="2037" href="SMT.Script.html#1271" class="InductiveConstructor">forAll</a> <a id="2044" href="SMT.Script.html#2044" class="Bound">x</a><a id="2045" class="Symbol">)</a> <a id="2047" class="Symbol">=</a> <a id="2049" href="SMT.Script.html#1271" class="InductiveConstructor">forAll</a> <a id="2056" class="Symbol">(</a><a id="2057" href="SMT.Script.html#1869" class="Function">rename</a> <a id="2064" class="Symbol">(</a><a id="2065" href="SMT.Script.html#1705" class="Function">extendRename</a> <a id="2078" href="SMT.Script.html#2034" class="Bound">r</a><a id="2079" class="Symbol">)</a> <a id="2081" href="SMT.Script.html#2044" class="Bound">x</a><a id="2082" class="Symbol">)</a>
  <a id="2086" href="SMT.Script.html#1869" class="Function">rename</a> <a id="2093" href="SMT.Script.html#2093" class="Bound">r</a> <a id="2095" class="Symbol">(</a><a id="2096" href="SMT.Script.html#1328" class="InductiveConstructor">exists</a> <a id="2103" href="SMT.Script.html#2103" class="Bound">x</a><a id="2104" class="Symbol">)</a> <a id="2106" class="Symbol">=</a> <a id="2108" href="SMT.Script.html#1328" class="InductiveConstructor">exists</a> <a id="2115" class="Symbol">(</a><a id="2116" href="SMT.Script.html#1869" class="Function">rename</a> <a id="2123" class="Symbol">(</a><a id="2124" href="SMT.Script.html#1705" class="Function">extendRename</a> <a id="2137" href="SMT.Script.html#2093" class="Bound">r</a><a id="2138" class="Symbol">)</a> <a id="2140" href="SMT.Script.html#2103" class="Bound">x</a><a id="2141" class="Symbol">)</a>

  <a id="renameArgs"></a><a id="2146" href="SMT.Script.html#2146" class="Function">renameArgs</a> <a id="2157" class="Symbol">:</a> <a id="2159" href="SMT.Script.html#1573" class="Function">Rename</a> <a id="2166" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="2168" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="2171" class="Symbol">→</a> <a id="2173" href="SMT.Script.html#1384" class="Function">Args</a> <a id="2178" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="2180" href="SMT.Script.html#726" class="Generalizable">Δ</a> <a id="2182" class="Symbol">→</a> <a id="2184" href="SMT.Script.html#1384" class="Function">Args</a> <a id="2189" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="2192" href="SMT.Script.html#726" class="Generalizable">Δ</a>
  <a id="2196" href="SMT.Script.html#2146" class="Function">renameArgs</a> <a id="2207" href="SMT.Script.html#2207" class="Bound">r</a> <a id="2209" href="Data.Environment.html#402" class="InductiveConstructor">[]</a> <a id="2212" class="Symbol">=</a> <a id="2214" href="Data.Environment.html#402" class="InductiveConstructor">[]</a>
  <a id="2219" href="SMT.Script.html#2146" class="Function">renameArgs</a> <a id="2230" href="SMT.Script.html#2230" class="Bound">r</a> <a id="2232" class="Symbol">(</a><a id="2233" href="SMT.Script.html#2233" class="Bound">x</a> <a id="2235" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="2237" href="SMT.Script.html#2237" class="Bound">xs</a><a id="2239" class="Symbol">)</a> <a id="2241" class="Symbol">=</a> <a id="2243" href="SMT.Script.html#1869" class="Function">rename</a> <a id="2250" href="SMT.Script.html#2230" class="Bound">r</a> <a id="2252" href="SMT.Script.html#2233" class="Bound">x</a> <a id="2254" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="2256" href="SMT.Script.html#2146" class="Function">renameArgs</a> <a id="2267" href="SMT.Script.html#2230" class="Bound">r</a> <a id="2269" href="SMT.Script.html#2237" class="Bound">xs</a>

<a id="weaken"></a><a id="2273" href="SMT.Script.html#2273" class="Function">weaken</a> <a id="2280" class="Symbol">:</a> <a id="2282" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="2287" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="2289" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="2291" class="Symbol">→</a> <a id="2293" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="2298" class="Symbol">(</a><a id="2299" href="SMT.Script.html#690" class="Generalizable">σ′</a> <a id="2302" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2304" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="2305" class="Symbol">)</a> <a id="2307" href="SMT.Script.html#688" class="Generalizable">σ</a>
<a id="2309" href="SMT.Script.html#2273" class="Function">weaken</a> <a id="2316" class="Symbol">=</a> <a id="2318" href="SMT.Script.html#1869" class="Function">rename</a> <a id="2325" href="SMT.Script.html#1637" class="Function">extendVar</a>

<a id="2336" class="Comment">---------------------</a>
<a id="2358" class="Comment">-- SMT-LIB Results --</a>
<a id="2380" class="Comment">---------------------</a>

<a id="2403" class="Comment">-- |Possible results.</a>
<a id="2425" class="Keyword">data</a> <a id="OutputType"></a><a id="2430" href="SMT.Script.html#2430" class="Datatype">OutputType</a> <a id="2441" class="Symbol">:</a> <a id="2443" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2447" class="Keyword">where</a>
  <a id="OutputType.SAT"></a><a id="2455" href="SMT.Script.html#2455" class="InductiveConstructor">SAT</a>   <a id="2461" class="Symbol">:</a> <a id="2463" href="SMT.Script.html#2430" class="Datatype">OutputType</a>
  <a id="OutputType.MODEL"></a><a id="2476" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="2482" class="Symbol">:</a> <a id="2484" href="SMT.Script.html#636" class="Function">Ctxt</a> <a id="2489" class="Symbol">→</a> <a id="2491" href="SMT.Script.html#2430" class="Datatype">OutputType</a>

<a id="2503" class="Comment">-- |Result contexts.</a>
<a id="OutputCtxt"></a><a id="2524" href="SMT.Script.html#2524" class="Function">OutputCtxt</a> <a id="2535" class="Symbol">:</a> <a id="2537" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2541" href="SMT.Script.html#2524" class="Function">OutputCtxt</a> <a id="2552" class="Symbol">=</a> <a id="2554" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2559" href="SMT.Script.html#2430" class="Datatype">OutputType</a>

<a id="2571" class="Keyword">private</a>
  <a id="2581" class="Keyword">variable</a>
    <a id="2594" href="SMT.Script.html#2594" class="Generalizable">ξ</a> <a id="2596" href="SMT.Script.html#2596" class="Generalizable">ξ′</a>    <a id="2602" class="Symbol">:</a> <a id="2604" href="SMT.Script.html#2430" class="Datatype">OutputType</a>
    <a id="2619" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="2621" href="SMT.Script.html#2621" class="Generalizable">Ξ′</a> <a id="2624" href="SMT.Script.html#2624" class="Generalizable">δΞ</a> <a id="2627" class="Symbol">:</a> <a id="2629" href="SMT.Script.html#2524" class="Function">OutputCtxt</a>

<a id="2641" class="Comment">-- |SMT-LIB satisfiability.</a>
<a id="2669" class="Keyword">data</a> <a id="Sat"></a><a id="2674" href="SMT.Script.html#2674" class="Datatype">Sat</a> <a id="2678" class="Symbol">:</a> <a id="2680" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2684" class="Keyword">where</a>
  <a id="Sat.sat"></a><a id="2692" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="2700" class="Symbol">:</a> <a id="2702" href="SMT.Script.html#2674" class="Datatype">Sat</a>
  <a id="Sat.unsat"></a><a id="2708" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="2716" class="Symbol">:</a> <a id="2718" href="SMT.Script.html#2674" class="Datatype">Sat</a>
  <a id="Sat.unknown"></a><a id="2724" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="2732" class="Symbol">:</a> <a id="2734" href="SMT.Script.html#2674" class="Datatype">Sat</a>

<a id="_≟-Sat_"></a><a id="2739" href="SMT.Script.html#2739" class="Function Operator">_≟-Sat_</a> <a id="2747" class="Symbol">:</a> <a id="2749" class="Symbol">(</a><a id="2750" href="SMT.Script.html#2750" class="Bound">s₁</a> <a id="2753" href="SMT.Script.html#2753" class="Bound">s₂</a> <a id="2756" class="Symbol">:</a> <a id="2758" href="SMT.Script.html#2674" class="Datatype">Sat</a><a id="2761" class="Symbol">)</a> <a id="2763" class="Symbol">→</a> <a id="2765" href="Relation.Nullary.html#1508" class="Record">Dec</a> <a id="2769" class="Symbol">(</a><a id="2770" href="SMT.Script.html#2750" class="Bound">s₁</a> <a id="2773" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2775" href="SMT.Script.html#2753" class="Bound">s₂</a><a id="2777" class="Symbol">)</a>
<a id="2779" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="2787" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2793" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="2801" class="Symbol">=</a> <a id="2803" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2807" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2812" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="2820" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2826" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="2834" class="Symbol">=</a> <a id="2836" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2839" class="Symbol">(λ</a> <a id="2842" class="Symbol">())</a>
<a id="2846" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="2854" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2860" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="2868" class="Symbol">=</a> <a id="2870" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2873" class="Symbol">(λ</a> <a id="2876" class="Symbol">())</a>
<a id="2880" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="2888" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2894" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="2902" class="Symbol">=</a> <a id="2904" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2907" class="Symbol">(λ</a> <a id="2910" class="Symbol">())</a>
<a id="2914" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="2922" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2928" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="2936" class="Symbol">=</a> <a id="2938" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2942" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2947" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="2955" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2961" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="2969" class="Symbol">=</a> <a id="2971" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2974" class="Symbol">(λ</a> <a id="2977" class="Symbol">())</a>
<a id="2981" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="2989" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="2995" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="3003" class="Symbol">=</a> <a id="3005" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="3008" class="Symbol">(λ</a> <a id="3011" class="Symbol">())</a>
<a id="3015" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="3023" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="3029" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="3037" class="Symbol">=</a> <a id="3039" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="3042" class="Symbol">(λ</a> <a id="3045" class="Symbol">())</a>
<a id="3049" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="3057" href="SMT.Script.html#2739" class="Function Operator">≟-Sat</a> <a id="3063" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="3071" class="Symbol">=</a> <a id="3073" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="3077" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="3083" class="Comment">-- |SMT-LIB models.</a>
<a id="Model"></a><a id="3103" href="SMT.Script.html#3103" class="Function">Model</a> <a id="3109" class="Symbol">:</a> <a id="3111" href="SMT.Script.html#636" class="Function">Ctxt</a> <a id="3116" class="Symbol">→</a> <a id="3118" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="3122" href="SMT.Script.html#3103" class="Function">Model</a> <a id="3128" class="Symbol">=</a> <a id="3130" href="Data.Environment.html#352" class="Datatype">Env</a> <a id="3134" class="Symbol">(λ</a> <a id="3137" href="SMT.Script.html#3137" class="Bound">σ</a> <a id="3139" href="SMT.Script.html#3139" class="Bound Operator">_Γ</a> <a id="3142" class="Symbol">→</a> <a id="3144" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="3149" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3152" href="SMT.Script.html#3137" class="Bound">σ</a><a id="3153" class="Symbol">)</a>

<a id="3156" class="Comment">-- |SMT-LIB script result.</a>
<a id="Result"></a><a id="3183" href="SMT.Script.html#3183" class="Function">Result</a> <a id="3190" class="Symbol">:</a> <a id="3192" href="SMT.Script.html#2430" class="Datatype">OutputType</a> <a id="3203" class="Symbol">→</a> <a id="3205" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="3209" href="SMT.Script.html#3183" class="Function">Result</a> <a id="3216" href="SMT.Script.html#2455" class="InductiveConstructor">SAT</a>       <a id="3226" class="Symbol">=</a> <a id="3228" href="SMT.Script.html#2674" class="Datatype">Sat</a>
<a id="3232" href="SMT.Script.html#3183" class="Function">Result</a> <a id="3239" class="Symbol">(</a><a id="3240" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="3246" href="SMT.Script.html#3246" class="Bound">Γ</a><a id="3247" class="Symbol">)</a> <a id="3249" class="Symbol">=</a> <a id="3251" href="SMT.Script.html#3103" class="Function">Model</a> <a id="3257" href="SMT.Script.html#3246" class="Bound">Γ</a>

<a id="3260" class="Comment">-- |List of SMT-LIB results.</a>
<a id="3289" class="Comment">--</a>
<a id="3292" class="Comment">-- The Results type *could* be defined as below, but it is defined as a</a>
<a id="3364" class="Comment">-- datatype of its own to help Agda&#39;s reflection mechanism fill in the</a>
<a id="3435" class="Comment">-- implicit arguments during unquoting.</a>
<a id="3475" class="Comment">--</a>
<a id="3478" class="Comment">-- @</a>
<a id="3483" class="Comment">--   Results : (Ξ : OutputCtxt) → Set</a>
<a id="3521" class="Comment">--   Results = Env (λ ξ _Ξ → Result ξ)</a>
<a id="3560" class="Comment">-- @</a>
<a id="3565" class="Comment">--</a>
<a id="3568" class="Keyword">data</a> <a id="Results"></a><a id="3573" href="SMT.Script.html#3573" class="Datatype">Results</a> <a id="3581" class="Symbol">:</a> <a id="3583" class="Symbol">(</a><a id="3584" href="SMT.Script.html#3584" class="Bound">Ξ</a> <a id="3586" class="Symbol">:</a> <a id="3588" href="SMT.Script.html#2524" class="Function">OutputCtxt</a><a id="3598" class="Symbol">)</a> <a id="3600" class="Symbol">→</a> <a id="3602" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3606" class="Keyword">where</a>
  <a id="Results.[]"></a><a id="3614" href="SMT.Script.html#3614" class="InductiveConstructor">[]</a>  <a id="3618" class="Symbol">:</a> <a id="3620" href="SMT.Script.html#3573" class="Datatype">Results</a> <a id="3628" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Results._∷_"></a><a id="3633" href="SMT.Script.html#3633" class="InductiveConstructor Operator">_∷_</a> <a id="3637" class="Symbol">:</a> <a id="3639" href="SMT.Script.html#3183" class="Function">Result</a> <a id="3646" href="SMT.Script.html#2594" class="Generalizable">ξ</a> <a id="3648" class="Symbol">→</a> <a id="3650" href="SMT.Script.html#3573" class="Datatype">Results</a> <a id="3658" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="3660" class="Symbol">→</a> <a id="3662" href="SMT.Script.html#3573" class="Datatype">Results</a> <a id="3670" class="Symbol">(</a><a id="3671" href="SMT.Script.html#2594" class="Generalizable">ξ</a> <a id="3673" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3675" href="SMT.Script.html#2619" class="Generalizable">Ξ</a><a id="3676" class="Symbol">)</a>


<a id="3680" class="Comment">----------------------</a>
<a id="3703" class="Comment">-- SMT-LIB Commands --</a>
<a id="3726" class="Comment">----------------------</a>

<a id="3750" class="Comment">-- |SMT-LIB commands.</a>
<a id="3772" class="Comment">--</a>
<a id="3775" class="Comment">--  NOTE: Scripts are lists of commands. Unfortunately, some commands,</a>
<a id="3846" class="Comment">--        such as `declare-const`, bind variables variables. Command has</a>
<a id="3919" class="Comment">--        two type-level arguments, `Γ` and `δΓ`, which represent the binding</a>
<a id="3997" class="Comment">--        context before and executing the command, and the new variables bound</a>
<a id="4077" class="Comment">--        after executing the command. We use a similar trick to gather the</a>
<a id="4153" class="Comment">--        types of the outputs, using `Ξ` and `δΞ`.</a>
<a id="4205" class="Comment">--</a>
<a id="4208" class="Keyword">data</a> <a id="Command"></a><a id="4213" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4221" class="Symbol">(</a><a id="4222" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4224" class="Symbol">:</a> <a id="4226" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="4230" class="Symbol">)</a> <a id="4232" class="Symbol">:</a> <a id="4234" class="Symbol">(</a><a id="4235" href="SMT.Script.html#4235" class="Bound">Ξ</a> <a id="4237" class="Symbol">:</a> <a id="4239" href="SMT.Script.html#2524" class="Function">OutputCtxt</a><a id="4249" class="Symbol">)</a> <a id="4251" class="Symbol">(</a><a id="4252" href="SMT.Script.html#4252" class="Bound">δΓ</a> <a id="4255" class="Symbol">:</a> <a id="4257" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="4261" class="Symbol">)</a> <a id="4263" class="Symbol">(</a><a id="4264" href="SMT.Script.html#4264" class="Bound">δΞ</a> <a id="4267" class="Symbol">:</a> <a id="4269" href="SMT.Script.html#2524" class="Function">OutputCtxt</a><a id="4279" class="Symbol">)</a> <a id="4281" class="Symbol">→</a> <a id="4283" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4287" class="Keyword">where</a>
  <a id="Command.set-logic"></a><a id="4295" href="SMT.Script.html#4295" class="InductiveConstructor">set-logic</a>     <a id="4309" class="Symbol">:</a> <a id="4311" class="Symbol">(</a><a id="4312" href="SMT.Script.html#4312" class="Bound">l</a> <a id="4314" class="Symbol">:</a> <a id="4316" href="SMT.Logics.html#533" class="Datatype">Logic</a><a id="4321" class="Symbol">)</a> <a id="4323" class="Symbol">→</a> <a id="4325" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4333" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4335" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="4337" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4340" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Command.declare-const"></a><a id="4345" href="SMT.Script.html#4345" class="InductiveConstructor">declare-const</a> <a id="4359" class="Symbol">:</a> <a id="4361" class="Symbol">(</a><a id="4362" href="SMT.Script.html#4362" class="Bound">σ</a> <a id="4364" class="Symbol">:</a> <a id="4366" href="SMT.Theory.html#881" class="Field">Sort</a><a id="4370" class="Symbol">)</a> <a id="4372" class="Symbol">→</a> <a id="4374" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4382" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4384" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="4386" class="Symbol">(</a><a id="4387" href="SMT.Script.html#4362" class="Bound">σ</a> <a id="4389" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4391" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4393" class="Symbol">)</a> <a id="4395" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Command.assert"></a><a id="4400" href="SMT.Script.html#4400" class="InductiveConstructor">assert</a>        <a id="4414" class="Symbol">:</a> <a id="4416" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="4421" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4423" href="SMT.Theory.html#902" class="Field">BOOL</a> <a id="4428" class="Symbol">→</a> <a id="4430" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4438" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4440" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="4442" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4445" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Command.check-sat"></a><a id="4450" href="SMT.Script.html#4450" class="InductiveConstructor">check-sat</a>     <a id="4464" class="Symbol">:</a> <a id="4466" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4474" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4476" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="4478" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4481" class="Symbol">(</a><a id="4482" href="SMT.Script.html#2455" class="InductiveConstructor">SAT</a> <a id="4486" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4488" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4490" class="Symbol">)</a>
  <a id="Command.get-model"></a><a id="4494" href="SMT.Script.html#4494" class="InductiveConstructor">get-model</a>     <a id="4508" class="Symbol">:</a> <a id="4510" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4518" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4520" class="Symbol">(</a><a id="4521" href="SMT.Script.html#2455" class="InductiveConstructor">SAT</a> <a id="4525" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4527" href="SMT.Script.html#2619" class="Generalizable">Ξ</a><a id="4528" class="Symbol">)</a> <a id="4530" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="4533" class="Symbol">(</a><a id="4534" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="4540" href="SMT.Script.html#4222" class="Bound">Γ</a> <a id="4542" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4544" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="4546" class="Symbol">)</a>


<a id="4550" class="Comment">---------------------</a>
<a id="4572" class="Comment">-- SMT-LIB Scripts --</a>
<a id="4594" class="Comment">---------------------</a>

<a id="4617" class="Comment">-- |SMT-LIB scripts.</a>
<a id="4638" class="Keyword">data</a> <a id="Script"></a><a id="4643" href="SMT.Script.html#4643" class="Datatype">Script</a> <a id="4650" class="Symbol">(</a><a id="4651" href="SMT.Script.html#4651" class="Bound">Γ</a> <a id="4653" class="Symbol">:</a> <a id="4655" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="4659" class="Symbol">)</a> <a id="4661" class="Symbol">:</a> <a id="4663" class="Symbol">(</a><a id="4664" href="SMT.Script.html#4664" class="Bound">Γ′</a> <a id="4667" class="Symbol">:</a> <a id="4669" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="4673" class="Symbol">)</a> <a id="4675" class="Symbol">(</a><a id="4676" href="SMT.Script.html#4676" class="Bound">Ξ</a> <a id="4678" class="Symbol">:</a> <a id="4680" href="SMT.Script.html#2524" class="Function">OutputCtxt</a><a id="4690" class="Symbol">)</a> <a id="4692" class="Symbol">→</a> <a id="4694" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4698" class="Keyword">where</a>
  <a id="Script.[]"></a><a id="4706" href="SMT.Script.html#4706" class="InductiveConstructor">[]</a>  <a id="4710" class="Symbol">:</a> <a id="4712" href="SMT.Script.html#4643" class="Datatype">Script</a> <a id="4719" href="SMT.Script.html#4651" class="Bound">Γ</a> <a id="4721" href="SMT.Script.html#4651" class="Bound">Γ</a> <a id="4723" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Script._∷_"></a><a id="4728" href="SMT.Script.html#4728" class="InductiveConstructor Operator">_∷_</a> <a id="4732" class="Symbol">:</a> <a id="4734" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="4742" href="SMT.Script.html#4651" class="Bound">Γ</a> <a id="4744" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="4746" href="SMT.Script.html#712" class="Generalizable">δΓ</a> <a id="4749" href="SMT.Script.html#2624" class="Generalizable">δΞ</a> <a id="4752" class="Symbol">→</a> <a id="4754" href="SMT.Script.html#4643" class="Datatype">Script</a> <a id="4761" class="Symbol">(</a><a id="4762" href="SMT.Script.html#712" class="Generalizable">δΓ</a> <a id="4765" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="4768" href="SMT.Script.html#4651" class="Bound">Γ</a><a id="4769" class="Symbol">)</a> <a id="4771" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="4774" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="4776" class="Symbol">→</a> <a id="4778" href="SMT.Script.html#4643" class="Datatype">Script</a> <a id="4785" href="SMT.Script.html#4651" class="Bound">Γ</a> <a id="4787" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="4790" class="Symbol">(</a><a id="4791" href="SMT.Script.html#2624" class="Generalizable">δΞ</a> <a id="4794" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="4797" href="SMT.Script.html#2619" class="Generalizable">Ξ</a><a id="4798" class="Symbol">)</a>


<a id="4802" class="Comment">--------------------------</a>
<a id="4829" class="Comment">-- Printing and Parsing --</a>
<a id="4856" class="Comment">--------------------------</a>

<a id="4884" class="Keyword">module</a> <a id="Interaction"></a><a id="4891" href="SMT.Script.html#4891" class="Module">Interaction</a>
  <a id="4905" class="Symbol">(</a><a id="4906" href="SMT.Script.html#4906" class="Bound">printable</a> <a id="4916" class="Symbol">:</a> <a id="4918" href="SMT.Theory.html#1004" class="Record">Printable</a> <a id="4928" href="SMT.Script.html#44" class="Bound">theory</a><a id="4934" class="Symbol">)</a>
  <a id="4938" class="Symbol">(</a><a id="4939" href="SMT.Script.html#4939" class="Bound">parsable</a> <a id="4948" class="Symbol">:</a> <a id="4950" href="SMT.Theory.html#1243" class="Record">Parsable</a> <a id="4959" href="SMT.Script.html#44" class="Bound">theory</a><a id="4965" class="Symbol">)</a>
  <a id="4969" class="Keyword">where</a>

  <a id="4978" class="Keyword">open</a> <a id="4983" class="Keyword">import</a> <a id="4990" href="Category.Monad.html" class="Module">Category.Monad</a>
  <a id="5007" class="Keyword">open</a> <a id="5012" class="Keyword">import</a> <a id="5019" href="Category.Monad.State.html" class="Module">Category.Monad.State</a> <a id="5040" class="Symbol">as</a> <a id="5043" class="Module">StateCat</a> <a id="5052" class="Keyword">using</a> <a id="5058" class="Symbol">(</a><a id="5059" href="Category.Monad.State.html#2659" class="Record">RawIMonadState</a><a id="5073" class="Symbol">;</a> <a id="5075" href="Category.Monad.State.html#666" class="Function">IStateT</a><a id="5082" class="Symbol">)</a>
  <a id="5086" class="Keyword">open</a> <a id="5091" class="Keyword">import</a> <a id="5098" href="Codata.Musical.Stream.html" class="Module">Codata.Musical.Stream</a> <a id="5120" class="Symbol">as</a> <a id="5123" class="Module">Stream</a> <a id="5130" class="Keyword">using</a> <a id="5136" class="Symbol">(</a><a id="5137" href="Codata.Musical.Stream.html#674" class="Datatype">Stream</a><a id="5143" class="Symbol">)</a>
  <a id="5147" class="Keyword">open</a> <a id="5152" class="Keyword">import</a> <a id="5159" href="Data.Char.html" class="Module">Data.Char</a> <a id="5169" class="Symbol">as</a> <a id="5172" class="Module">Char</a> <a id="5177" class="Keyword">using</a> <a id="5183" class="Symbol">(</a><a id="5184" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="5188" class="Symbol">)</a>
  <a id="5192" class="Keyword">open</a> <a id="5197" class="Keyword">import</a> <a id="5204" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="5215" class="Symbol">as</a> <a id="5218" class="Module">Maybe</a> <a id="5224" class="Keyword">using</a> <a id="5230" class="Symbol">(</a><a id="5231" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a><a id="5236" class="Symbol">;</a> <a id="5238" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a><a id="5242" class="Symbol">;</a> <a id="5244" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a><a id="5251" class="Symbol">)</a>
  <a id="5255" class="Keyword">open</a> <a id="5260" class="Keyword">import</a> <a id="5267" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="5276" class="Symbol">as</a> <a id="5279" class="Module">Nat</a> <a id="5283" class="Keyword">using</a> <a id="5289" class="Symbol">(</a><a id="5290" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5291" class="Symbol">)</a>
  <a id="5295" class="Keyword">open</a> <a id="5300" class="Keyword">import</a> <a id="5307" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a> <a id="5321" class="Keyword">renaming</a> <a id="5330" class="Symbol">(</a><a id="5331" href="Data.Nat.Show.html#1076" class="Function">show</a> <a id="5336" class="Symbol">to</a> <a id="Show.show"></a><a id="5339" href="SMT.Script.html#5339" class="Function">showℕ</a><a id="5344" class="Symbol">)</a>
  <a id="5348" class="Keyword">open</a> <a id="5353" class="Keyword">import</a> <a id="5360" href="Data.Product.html" class="Module">Data.Product</a> <a id="5373" class="Symbol">as</a> <a id="5376" class="Module">Product</a> <a id="5384" class="Keyword">using</a> <a id="5390" class="Symbol">(</a><a id="5391" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="5394" class="Symbol">;</a> <a id="5396" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="5399" class="Symbol">;</a> <a id="5401" href="Data.Product.html#2196" class="Function Operator">-,_</a><a id="5404" class="Symbol">;</a> <a id="5406" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="5411" class="Symbol">;</a> <a id="5413" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="5418" class="Symbol">)</a>
  <a id="5422" class="Keyword">open</a> <a id="5427" class="Keyword">import</a> <a id="5434" href="Data.String.html" class="Module">Data.String</a> <a id="5446" class="Symbol">as</a> <a id="5449" class="Module">String</a> <a id="5456" class="Keyword">using</a> <a id="5462" class="Symbol">(</a><a id="5463" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="5469" class="Symbol">)</a>
  <a id="5473" class="Keyword">open</a> <a id="5478" class="Keyword">import</a> <a id="5485" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="5495" class="Symbol">as</a> <a id="5498" class="Module">Unit</a> <a id="5503" class="Keyword">using</a> <a id="5509" class="Symbol">(</a><a id="5510" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="5511" class="Symbol">)</a>
  <a id="5515" class="Keyword">open</a> <a id="5520" class="Keyword">import</a> <a id="5527" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="5536" class="Symbol">as</a> <a id="5539" class="Module">Vec</a> <a id="5543" class="Keyword">using</a> <a id="5549" class="Symbol">(</a><a id="5550" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="5553" class="Symbol">)</a>
  <a id="5557" class="Keyword">open</a> <a id="5562" class="Keyword">import</a> <a id="5569" href="Function.html" class="Module">Function</a> <a id="5578" class="Keyword">using</a> <a id="5584" class="Symbol">(</a><a id="5585" href="Function.Base.html#636" class="Function">const</a><a id="5590" class="Symbol">;</a> <a id="5592" href="Function.Base.html#615" class="Function">id</a><a id="5594" class="Symbol">;</a> <a id="5596" href="Function.Base.html#992" class="Function Operator">_∘_</a><a id="5599" class="Symbol">;</a> <a id="5601" href="Function.Base.html#1577" class="Function Operator">_$_</a><a id="5604" class="Symbol">)</a>
  <a id="5608" class="Keyword">import</a> <a id="5615" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="5645" class="Symbol">as</a> <a id="5648" class="Module">Identity</a>
  <a id="5659" class="Keyword">open</a> <a id="5664" class="Keyword">import</a> <a id="5671" href="Text.Parser.String.html" class="Module">Text.Parser.String</a> <a id="5690" class="Symbol">as</a> <a id="5693" class="Module">P</a> <a id="5695" class="Keyword">hiding</a> <a id="5702" class="Symbol">(</a><a id="5703" href="Text.Parser.String.html#3950" class="Function Operator">_&gt;&gt;=_</a><a id="5708" class="Symbol">)</a>
  <a id="5712" class="Keyword">open</a> <a id="5717" class="Keyword">import</a> <a id="5724" href="Reflection.html" class="Module">Reflection</a> <a id="5735" class="Keyword">using</a> <a id="5741" class="Symbol">(</a><a id="5742" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a><a id="5745" class="Symbol">;</a> <a id="5747" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a><a id="5751" class="Symbol">)</a>

  <a id="5756" class="Keyword">open</a> <a id="5761" href="SMT.Theory.html#1004" class="Module">Printable</a> <a id="5771" href="SMT.Script.html#4906" class="Bound">printable</a>
  <a id="5783" class="Keyword">open</a> <a id="5788" href="SMT.Theory.html#1243" class="Module">Parsable</a> <a id="5797" href="SMT.Script.html#4939" class="Bound">parsable</a>

  <a id="5809" class="Comment">-- |Names.</a>
  <a id="Interaction.Name"></a><a id="5822" href="SMT.Script.html#5822" class="Function">Name</a> <a id="5827" class="Symbol">:</a> <a id="5829" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="5835" href="SMT.Script.html#5822" class="Function">Name</a> <a id="5840" class="Symbol">=</a> <a id="5842" href="Data.List.NonEmpty.html#1318" class="Record">List⁺</a> <a id="5848" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a>

  <a id="5856" class="Comment">-- |Show names.</a>
  <a id="Interaction.showName"></a><a id="5874" href="SMT.Script.html#5874" class="Function">showName</a> <a id="5883" class="Symbol">:</a> <a id="5885" href="SMT.Script.html#5822" class="Function">Name</a> <a id="5890" class="Symbol">→</a> <a id="5892" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="5901" href="SMT.Script.html#5874" class="Function">showName</a> <a id="5910" class="Symbol">=</a> <a id="5912" href="Data.String.Base.html#1546" class="Primitive">String.fromList</a> <a id="5928" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="5930" href="Data.List.NonEmpty.html#1760" class="Function">List⁺.toList</a>

  <a id="5946" class="Comment">-- |Name environments, i.e., lists where the types of the elements</a>
  <a id="6015" class="Comment">--  are determined by a type-level list.</a>
  <a id="Interaction.NameEnv"></a><a id="6058" href="SMT.Script.html#6058" class="Function">NameEnv</a> <a id="6066" class="Symbol">:</a> <a id="6068" href="SMT.Script.html#636" class="Function">Ctxt</a> <a id="6073" class="Symbol">→</a> <a id="6075" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="6081" href="SMT.Script.html#6058" class="Function">NameEnv</a> <a id="6089" class="Symbol">=</a> <a id="6091" href="Data.Environment.html#352" class="Datatype">Env</a> <a id="6095" class="Symbol">(λ</a> <a id="6098" href="SMT.Script.html#6098" class="Bound Operator">_σ</a> <a id="6101" href="SMT.Script.html#6101" class="Bound Operator">_Γ</a> <a id="6104" class="Symbol">→</a> <a id="6106" href="SMT.Script.html#5822" class="Function">Name</a><a id="6110" class="Symbol">)</a>

  <a id="6115" class="Comment">-- |Name states, i.e., an environment of names, one for every</a>
  <a id="6179" class="Comment">--  variable in the context Γ, and a supply  of fresh names.</a>
  <a id="6242" class="Comment">--</a>
  <a id="6247" class="Comment">--  NOTE: the current implementation does not guarantee that</a>
  <a id="6310" class="Comment">--        each name in the supply is distinct. If we need this</a>
  <a id="6375" class="Comment">--        in the future, there is `Data.List.Fresh`.</a>
  <a id="6430" class="Comment">--</a>
  <a id="6435" class="Keyword">record</a> <a id="Interaction.Names"></a><a id="6442" href="SMT.Script.html#6442" class="Record">Names</a> <a id="6448" class="Symbol">(</a><a id="6449" href="SMT.Script.html#6449" class="Bound">Γ</a> <a id="6451" class="Symbol">:</a> <a id="6453" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="6457" class="Symbol">)</a> <a id="6459" class="Symbol">:</a> <a id="6461" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6465" class="Keyword">where</a>
    <a id="6475" class="Keyword">field</a>
      <a id="Interaction.Names.nameEnv"></a><a id="6487" href="SMT.Script.html#6487" class="Field">nameEnv</a>    <a id="6498" class="Symbol">:</a> <a id="6500" href="SMT.Script.html#6058" class="Function">NameEnv</a> <a id="6508" href="SMT.Script.html#6449" class="Bound">Γ</a>
      <a id="Interaction.Names.nameSupply"></a><a id="6516" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="6527" class="Symbol">:</a> <a id="6529" href="Codata.Musical.Stream.html#674" class="Datatype">Stream</a> <a id="6536" href="SMT.Script.html#5822" class="Function">Name</a>

  <a id="6544" class="Keyword">open</a> <a id="6549" href="SMT.Script.html#6442" class="Module">Names</a> <a id="6555" class="Comment">-- bring `nameEnv` and `nameSupply` in scope</a>

  <a id="6603" class="Comment">-- When showing terms, we need to pass around a name state,</a>
  <a id="6665" class="Comment">-- for which we&#39;ll use an indexed monad, indexed by the context,</a>
  <a id="6732" class="Comment">-- so we bring the functions from the indexed monad in scope.</a>
  <a id="6796" class="Keyword">private</a>
    <a id="Interaction.monadStateNameState"></a><a id="6808" href="SMT.Script.html#6808" class="Function">monadStateNameState</a> <a id="6828" class="Symbol">=</a> <a id="6830" href="Category.Monad.State.html#2986" class="Function">StateCat.StateTIMonadState</a> <a id="6857" href="SMT.Script.html#6442" class="Record">Names</a> <a id="6863" href="Function.Identity.Categorical.html#651" class="Function">Identity.monad</a>

  <a id="6881" class="Keyword">open</a> <a id="6886" href="Category.Monad.State.html#2659" class="Module">RawIMonadState</a> <a id="6901" href="SMT.Script.html#6808" class="Function">monadStateNameState</a>
    <a id="6925" class="Keyword">using</a> <a id="6931" class="Symbol">(</a><a id="6932" href="Category.Monad.Indexed.html#644" class="Function">return</a><a id="6938" class="Symbol">;</a> <a id="6940" href="Category.Monad.Indexed.html#677" class="Function Operator">_&gt;&gt;=_</a><a id="6945" class="Symbol">;</a> <a id="6947" href="Category.Monad.Indexed.html#735" class="Function Operator">_&gt;&gt;_</a><a id="6951" class="Symbol">;</a> <a id="6953" href="Category.Monad.State.html#2831" class="Field">put</a><a id="6956" class="Symbol">;</a> <a id="6958" href="Category.Monad.State.html#2799" class="Field">get</a><a id="6961" class="Symbol">;</a> <a id="6963" href="Category.Monad.State.html#2906" class="Function">modify</a><a id="6969" class="Symbol">)</a>


  <a id="6975" class="Comment">-- |Add a fresh name to the front of the name environment.</a>
  <a id="Interaction.pushFreshName"></a><a id="7036" href="SMT.Script.html#7036" class="Function">pushFreshName</a> <a id="7050" class="Symbol">:</a> <a id="7052" class="Symbol">(</a><a id="7053" href="SMT.Script.html#7053" class="Bound">σ</a> <a id="7055" class="Symbol">:</a> <a id="7057" href="SMT.Theory.html#881" class="Field">Sort</a><a id="7061" class="Symbol">)</a> <a id="7063" class="Symbol">→</a> <a id="7065" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="7073" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7079" href="Function.Base.html#615" class="Function">id</a> <a id="7082" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="7084" class="Symbol">(</a><a id="7085" href="SMT.Script.html#7053" class="Bound">σ</a> <a id="7087" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7089" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="7090" class="Symbol">)</a> <a id="7092" href="SMT.Script.html#5822" class="Function">Name</a>
  <a id="7099" href="SMT.Script.html#7036" class="Function">pushFreshName</a> <a id="7113" href="SMT.Script.html#7113" class="Bound">σ</a> <a id="7115" class="Symbol">=</a> <a id="7117" class="Keyword">do</a>
    <a id="7124" href="SMT.Script.html#7124" class="Bound">names</a> <a id="7130" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7132" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="7140" class="Keyword">let</a> <a id="7144" href="SMT.Script.html#7144" class="Bound">names′</a> <a id="7151" class="Symbol">=</a> <a id="7153" href="SMT.Script.html#7246" class="Function">pushFreshName′</a> <a id="7168" href="SMT.Script.html#7113" class="Bound">σ</a> <a id="7170" href="SMT.Script.html#7124" class="Bound">names</a>
    <a id="7180" href="Category.Monad.State.html#2831" class="Function">put</a> <a id="7184" href="SMT.Script.html#7144" class="Bound">names′</a>
    <a id="7195" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7202" class="Symbol">(</a><a id="7203" href="Data.Environment.html#582" class="Function">Env.head</a> <a id="7212" class="Symbol">(</a><a id="7213" href="SMT.Script.html#6487" class="Field">nameEnv</a> <a id="7221" href="SMT.Script.html#7144" class="Bound">names′</a><a id="7227" class="Symbol">))</a>
    <a id="7234" class="Keyword">where</a>
      <a id="7246" href="SMT.Script.html#7246" class="Function">pushFreshName′</a> <a id="7261" class="Symbol">:</a> <a id="7263" class="Symbol">(</a><a id="7264" href="SMT.Script.html#7264" class="Bound">σ</a> <a id="7266" class="Symbol">:</a> <a id="7268" href="SMT.Theory.html#881" class="Field">Sort</a><a id="7272" class="Symbol">)</a> <a id="7274" class="Symbol">→</a> <a id="7276" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7282" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="7284" class="Symbol">→</a> <a id="7286" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7292" class="Symbol">(</a><a id="7293" href="SMT.Script.html#7264" class="Bound">σ</a> <a id="7295" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7297" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="7298" class="Symbol">)</a>
      <a id="7306" href="SMT.Script.html#6487" class="Field">nameEnv</a>    <a id="7317" class="Symbol">(</a><a id="7318" href="SMT.Script.html#7246" class="Function">pushFreshName′</a> <a id="7333" href="SMT.Script.html#7333" class="Bound">σ</a> <a id="7335" href="SMT.Script.html#7335" class="Bound">names</a><a id="7340" class="Symbol">)</a> <a id="7342" class="Symbol">=</a> <a id="7344" href="Codata.Musical.Stream.html#1028" class="Function">Stream.head</a> <a id="7356" class="Symbol">(</a><a id="7357" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="7368" href="SMT.Script.html#7335" class="Bound">names</a><a id="7373" class="Symbol">)</a> <a id="7375" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="7377" href="SMT.Script.html#6487" class="Field">nameEnv</a> <a id="7385" href="SMT.Script.html#7335" class="Bound">names</a>
      <a id="7397" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="7408" class="Symbol">(</a><a id="7409" href="SMT.Script.html#7246" class="Function">pushFreshName′</a> <a id="7424" href="SMT.Script.html#7424" class="Bound">σ</a> <a id="7426" href="SMT.Script.html#7426" class="Bound">names</a><a id="7431" class="Symbol">)</a> <a id="7433" class="Symbol">=</a> <a id="7435" href="Codata.Musical.Stream.html#1087" class="Function">Stream.tail</a> <a id="7447" class="Symbol">(</a><a id="7448" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="7459" href="SMT.Script.html#7426" class="Bound">names</a><a id="7464" class="Symbol">)</a>


  <a id="7470" class="Comment">-- |Remove first name from the name environment.</a>
  <a id="Interaction.popName"></a><a id="7521" href="SMT.Script.html#7521" class="Function">popName</a> <a id="7529" class="Symbol">:</a> <a id="7531" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="7539" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7545" href="Function.Base.html#615" class="Function">id</a> <a id="7548" class="Symbol">(</a><a id="7549" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="7551" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7553" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="7554" class="Symbol">)</a> <a id="7556" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="7558" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="7562" href="SMT.Script.html#7521" class="Function">popName</a> <a id="7570" class="Symbol">=</a> <a id="7572" class="Keyword">do</a> <a id="7575" href="Category.Monad.State.html#2906" class="Function">modify</a> <a id="7582" href="SMT.Script.html#7617" class="Function">popName′</a><a id="7590" class="Symbol">;</a> <a id="7592" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7599" class="Symbol">_</a>
    <a id="7605" class="Keyword">where</a>
      <a id="7617" href="SMT.Script.html#7617" class="Function">popName′</a> <a id="7626" class="Symbol">:</a> <a id="7628" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7634" class="Symbol">(</a><a id="7635" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="7637" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7639" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="7640" class="Symbol">)</a> <a id="7642" class="Symbol">→</a> <a id="7644" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7650" href="SMT.Script.html#707" class="Generalizable">Γ</a>
      <a id="7658" href="SMT.Script.html#6487" class="Field">nameEnv</a>    <a id="7669" class="Symbol">(</a><a id="7670" href="SMT.Script.html#7617" class="Function">popName′</a> <a id="7679" href="SMT.Script.html#7679" class="Bound">names</a><a id="7684" class="Symbol">)</a> <a id="7686" class="Symbol">=</a> <a id="7688" href="Data.Environment.html#634" class="Function">Env.tail</a> <a id="7697" class="Symbol">(</a><a id="7698" href="SMT.Script.html#6487" class="Field">nameEnv</a> <a id="7706" href="SMT.Script.html#7679" class="Bound">names</a><a id="7711" class="Symbol">)</a>
      <a id="7719" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="7730" class="Symbol">(</a><a id="7731" href="SMT.Script.html#7617" class="Function">popName′</a> <a id="7740" href="SMT.Script.html#7740" class="Bound">names</a><a id="7745" class="Symbol">)</a> <a id="7747" class="Symbol">=</a> <a id="7749" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="7760" href="SMT.Script.html#7740" class="Bound">names</a>


  <a id="7770" class="Comment">-- |Get i&#39;th name from the name environment in the state monad.</a>
  <a id="Interaction.getName"></a><a id="7836" href="SMT.Script.html#7836" class="Function">getName</a> <a id="7844" class="Symbol">:</a> <a id="7846" class="Symbol">(</a><a id="7847" href="SMT.Script.html#7847" class="Bound">i</a> <a id="7849" class="Symbol">:</a> <a id="7851" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="7853" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="7855" href="SMT.Script.html#688" class="Generalizable">σ</a><a id="7856" class="Symbol">)</a> <a id="7858" class="Symbol">→</a> <a id="7860" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="7868" href="SMT.Script.html#6442" class="Record">Names</a> <a id="7874" href="Function.Base.html#615" class="Function">id</a> <a id="7877" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="7879" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="7881" href="SMT.Script.html#5822" class="Function">Name</a>
  <a id="7888" href="SMT.Script.html#7836" class="Function">getName</a> <a id="7896" class="Symbol">(</a><a id="7897" href="SMT.Script.html#7897" class="Bound">i</a> <a id="7899" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7901" href="SMT.Script.html#7901" class="Bound Operator">_prf</a><a id="7905" class="Symbol">)</a> <a id="7907" class="Symbol">=</a> <a id="7909" class="Keyword">do</a>
    <a id="7916" href="SMT.Script.html#7916" class="Bound">names</a> <a id="7922" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7924" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="7932" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7939" class="Symbol">(</a><a id="7940" href="Data.Environment.html#841" class="Function">Env.lookup</a> <a id="7951" class="Symbol">(</a><a id="7952" href="SMT.Script.html#6487" class="Field">nameEnv</a> <a id="7960" href="SMT.Script.html#7916" class="Bound">names</a><a id="7965" class="Symbol">)</a> <a id="7967" href="SMT.Script.html#7897" class="Bound">i</a><a id="7968" class="Symbol">)</a>


  <a id="7974" class="Comment">-- |Create an S-expression from a list of strings.</a>
  <a id="8027" class="Comment">--</a>
  <a id="8032" class="Comment">-- @</a>
  <a id="8039" class="Comment">--   mkSTerm (&quot;*&quot; ∷ &quot;4&quot; ∷ &quot;5&quot;) ≡ &quot;(* 4 5)&quot;</a>
  <a id="8084" class="Comment">-- @</a>
  <a id="8091" class="Comment">--</a>
  <a id="Interaction.mkSTerm"></a><a id="8096" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="8104" class="Symbol">:</a> <a id="8106" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8111" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="8118" class="Symbol">→</a> <a id="8120" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="8129" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="8137" class="Symbol">=</a> <a id="8139" href="Data.String.Base.html#2863" class="Function">String.parens</a> <a id="8153" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="8155" href="Data.String.Base.html#2805" class="Function">String.unwords</a>

  <a id="Interaction.ParserEnv"></a><a id="8173" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8183" class="Symbol">:</a> <a id="8185" href="SMT.Script.html#636" class="Function">Ctxt</a> <a id="8190" class="Symbol">→</a> <a id="8192" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="8198" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8208" class="Symbol">=</a> <a id="8210" href="Data.Environment.html#352" class="Datatype">Env</a> <a id="8214" class="Symbol">(λ</a> <a id="8217" href="SMT.Script.html#8217" class="Bound">σ</a> <a id="8219" href="SMT.Script.html#8219" class="Bound">Γ</a> <a id="8221" class="Symbol">→</a> <a id="8223" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="8226" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="8233" class="Symbol">((</a><a id="8235" href="SMT.Script.html#8217" class="Bound">σ</a> <a id="8237" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8239" href="SMT.Script.html#8219" class="Bound">Γ</a><a id="8240" class="Symbol">)</a> <a id="8242" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="8244" href="SMT.Script.html#8217" class="Bound">σ</a><a id="8245" class="Symbol">)</a> <a id="8247" href="Relation.Unary.html#3359" class="Function">]</a><a id="8248" class="Symbol">)</a>

  <a id="8253" class="Comment">-- |Extend an environment with a number of failing parsers.</a>
  <a id="Interaction.extendPE"></a><a id="8315" href="SMT.Script.html#8315" class="Function">extendPE</a> <a id="8324" class="Symbol">:</a> <a id="8326" class="Symbol">(</a><a id="8327" href="SMT.Script.html#8327" class="Bound">δΓ</a> <a id="8330" class="Symbol">:</a> <a id="8332" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="8336" class="Symbol">)</a> <a id="8338" class="Symbol">→</a> <a id="8340" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8350" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="8352" class="Symbol">→</a> <a id="8354" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8364" class="Symbol">(</a><a id="8365" href="SMT.Script.html#8327" class="Bound">δΓ</a> <a id="8368" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="8371" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="8372" class="Symbol">)</a>
  <a id="8376" href="SMT.Script.html#8315" class="Function">extendPE</a> <a id="8385" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>       <a id="8394" href="SMT.Script.html#8394" class="Bound">env</a> <a id="8398" class="Symbol">=</a> <a id="8400" href="SMT.Script.html#8394" class="Bound">env</a>
  <a id="8406" href="SMT.Script.html#8315" class="Function">extendPE</a> <a id="8415" class="Symbol">(</a><a id="8416" href="SMT.Script.html#8416" class="Bound">σ</a> <a id="8418" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8420" href="SMT.Script.html#8420" class="Bound">δΓ</a><a id="8422" class="Symbol">)</a> <a id="8424" href="SMT.Script.html#8424" class="Bound">env</a> <a id="8428" class="Symbol">=</a> <a id="8430" href="Text.Parser.String.html#4391" class="Function">fail</a> <a id="8435" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8437" href="SMT.Script.html#8315" class="Function">extendPE</a> <a id="8446" href="SMT.Script.html#8420" class="Bound">δΓ</a> <a id="8449" href="SMT.Script.html#8424" class="Bound">env</a>

  <a id="8456" class="Comment">-- |An environment of failing variable parsers.</a>
  <a id="Interaction.failPE"></a><a id="8506" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="8513" class="Symbol">:</a> <a id="8515" class="Symbol">(</a><a id="8516" href="SMT.Script.html#8516" class="Bound">Γ</a> <a id="8518" class="Symbol">:</a> <a id="8520" href="SMT.Script.html#636" class="Function">Ctxt</a><a id="8524" class="Symbol">)</a> <a id="8526" class="Symbol">→</a> <a id="8528" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8538" href="SMT.Script.html#8516" class="Bound">Γ</a>
  <a id="8542" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="8549" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>      <a id="8557" class="Symbol">=</a> <a id="8559" href="Data.Environment.html#402" class="InductiveConstructor">[]</a>
  <a id="8564" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="8571" class="Symbol">(</a><a id="8572" href="SMT.Script.html#8572" class="Bound">σ</a> <a id="8574" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8576" href="SMT.Script.html#8576" class="Bound">Γ</a><a id="8577" class="Symbol">)</a> <a id="8579" class="Symbol">=</a> <a id="8581" href="Text.Parser.String.html#4391" class="Function">fail</a> <a id="8586" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8588" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="8595" href="SMT.Script.html#8576" class="Bound">Γ</a>

  <a id="8600" class="Comment">-- |A singleton variable parser.</a>
  <a id="Interaction.varPE"></a><a id="8635" href="SMT.Script.html#8635" class="Function">varPE</a> <a id="8641" class="Symbol">:</a> <a id="8643" href="SMT.Script.html#5822" class="Function">Name</a> <a id="8648" class="Symbol">→</a> <a id="8650" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="8652" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="8654" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="8656" class="Symbol">→</a> <a id="8658" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8668" href="SMT.Script.html#707" class="Generalizable">Γ</a>
  <a id="8672" href="SMT.Script.html#8635" class="Function">varPE</a> <a id="8678" class="Symbol">{</a><a id="8679" href="SMT.Script.html#8679" class="Bound">σ′</a> <a id="8682" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8684" href="SMT.Script.html#8684" class="Bound">Γ</a><a id="8685" class="Symbol">}</a> <a id="8687" href="SMT.Script.html#8687" class="Bound">n</a> <a id="8689" href="SMT.Script.html#8689" class="Bound">x</a><a id="8690" class="Symbol">@(</a><a id="8692" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a>  <a id="8702" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8704" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="8708" class="Symbol">)</a> <a id="8710" class="Symbol">=</a> <a id="8712" class="Symbol">(</a><a id="8713" href="SMT.Script.html#8689" class="Bound">x</a> <a id="8715" href="Text.Parser.String.html#4658" class="Function Operator">&lt;$</a> <a id="8718" href="Text.Parser.String.html#5590" class="Function">exacts</a> <a id="8725" href="SMT.Script.html#8687" class="Bound">n</a><a id="8726" class="Symbol">)</a> <a id="8728" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8730" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="8737" href="SMT.Script.html#8684" class="Bound">Γ</a>
  <a id="8741" href="SMT.Script.html#8635" class="Function">varPE</a> <a id="8747" class="Symbol">{</a><a id="8748" href="SMT.Script.html#8748" class="Bound">σ′</a> <a id="8751" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8753" href="SMT.Script.html#8753" class="Bound">Γ</a><a id="8754" class="Symbol">}</a> <a id="8756" href="SMT.Script.html#8756" class="Bound">n</a>   <a id="8760" class="Symbol">(</a><a id="8761" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="8769" href="SMT.Script.html#8769" class="Bound">i</a> <a id="8771" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8773" href="SMT.Script.html#8773" class="Bound">p</a><a id="8774" class="Symbol">)</a>    <a id="8779" class="Symbol">=</a> <a id="8781" href="Text.Parser.String.html#4391" class="Function">fail</a> <a id="8786" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8788" href="SMT.Script.html#8635" class="Function">varPE</a> <a id="8794" class="Symbol">{</a><a id="8795" href="SMT.Script.html#8753" class="Bound">Γ</a><a id="8796" class="Symbol">}</a> <a id="8798" href="SMT.Script.html#8756" class="Bound">n</a> <a id="8800" class="Symbol">(</a><a id="8801" href="SMT.Script.html#8769" class="Bound">i</a> <a id="8803" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="8805" href="SMT.Script.html#8773" class="Bound">p</a><a id="8806" class="Symbol">)</a>

  <a id="8811" class="Comment">-- |Merge two environments of variable parsers.</a>
  <a id="Interaction._&lt;||&gt;_"></a><a id="8861" href="SMT.Script.html#8861" class="Function Operator">_&lt;||&gt;_</a> <a id="8868" class="Symbol">:</a> <a id="8870" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8880" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="8882" class="Symbol">→</a> <a id="8884" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8894" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="8896" class="Symbol">→</a> <a id="8898" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="8908" href="SMT.Script.html#707" class="Generalizable">Γ</a>
  <a id="8912" href="Data.Environment.html#402" class="InductiveConstructor">[]</a> <a id="8915" href="SMT.Script.html#8861" class="Function Operator">&lt;||&gt;</a> <a id="8920" href="Data.Environment.html#402" class="InductiveConstructor">[]</a> <a id="8923" class="Symbol">=</a> <a id="8925" href="Data.Environment.html#402" class="InductiveConstructor">[]</a>
  <a id="8930" class="Symbol">(</a><a id="8931" href="SMT.Script.html#8931" class="Bound">p₁</a> <a id="8934" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8936" href="SMT.Script.html#8936" class="Bound">env₁</a><a id="8940" class="Symbol">)</a> <a id="8942" href="SMT.Script.html#8861" class="Function Operator">&lt;||&gt;</a> <a id="8947" class="Symbol">(</a><a id="8948" href="SMT.Script.html#8948" class="Bound">p₂</a> <a id="8951" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8953" href="SMT.Script.html#8953" class="Bound">env₂</a><a id="8957" class="Symbol">)</a> <a id="8959" class="Symbol">=</a> <a id="8961" class="Symbol">(</a><a id="8962" href="SMT.Script.html#8931" class="Bound">p₁</a> <a id="8965" href="Text.Parser.String.html#4464" class="Function Operator">&lt;|&gt;</a> <a id="8969" href="SMT.Script.html#8948" class="Bound">p₂</a><a id="8971" class="Symbol">)</a> <a id="8973" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="8975" class="Symbol">(</a><a id="8976" href="SMT.Script.html#8936" class="Bound">env₁</a> <a id="8981" href="SMT.Script.html#8861" class="Function Operator">&lt;||&gt;</a> <a id="8986" href="SMT.Script.html#8953" class="Bound">env₂</a><a id="8990" class="Symbol">)</a>

  <a id="8995" class="Comment">-- |Fold an ParserEnv to a variable parser.</a>
  <a id="Interaction.foldPE"></a><a id="9041" href="SMT.Script.html#9041" class="Function">foldPE</a> <a id="9048" class="Symbol">:</a> <a id="9050" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="9060" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="9062" class="Symbol">→</a> <a id="9064" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="9067" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="9074" class="Symbol">(</a><a id="9075" href="Data.Product.html#1788" class="Function">∃[</a> <a id="9078" href="SMT.Script.html#9078" class="Bound">σ</a> <a id="9080" href="Data.Product.html#1788" class="Function">]</a> <a id="9082" class="Symbol">(</a><a id="9083" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="9085" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="9087" href="SMT.Script.html#9078" class="Bound">σ</a><a id="9088" class="Symbol">))</a> <a id="9091" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="9095" href="SMT.Script.html#9041" class="Function">foldPE</a> <a id="9102" href="Data.Environment.html#402" class="InductiveConstructor">[]</a>            <a id="9116" class="Symbol">=</a> <a id="9118" href="Text.Parser.String.html#4391" class="Function">fail</a>
  <a id="9125" href="SMT.Script.html#9041" class="Function">foldPE</a> <a id="9132" class="Symbol">(</a><a id="9133" href="SMT.Script.html#9133" class="Bound">p</a> <a id="9135" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="9137" href="SMT.Script.html#9137" class="Bound">env</a><a id="9140" class="Symbol">)</a> <a id="9142" class="Symbol">{</a><a id="9143" href="SMT.Script.html#9143" class="Bound">x</a><a id="9144" class="Symbol">}</a> <a id="9146" class="Symbol">=</a> <a id="9148" class="Symbol">(</a><a id="9149" href="Data.Product.html#2196" class="Function Operator">-,_</a> <a id="9153" href="Text.Parser.String.html#4562" class="Function Operator">&lt;$&gt;</a> <a id="9157" href="SMT.Script.html#9133" class="Bound">p</a> <a id="9159" class="Symbol">{</a><a id="9160" href="SMT.Script.html#9143" class="Bound">x</a><a id="9161" class="Symbol">})</a> <a id="9164" href="Text.Parser.String.html#4464" class="Function Operator">&lt;|&gt;</a> <a id="9168" class="Symbol">(</a><a id="9169" href="Data.Product.html#2435" class="Function">Prod.map</a> <a id="9178" href="Function.Base.html#615" class="Function">id</a> <a id="9181" href="SMT.Script.html#1637" class="Function">extendVar</a> <a id="9191" href="Text.Parser.String.html#4562" class="Function Operator">&lt;$&gt;</a> <a id="9195" href="SMT.Script.html#9041" class="Function">foldPE</a> <a id="9202" href="SMT.Script.html#9137" class="Bound">env</a> <a id="9206" class="Symbol">{</a><a id="9207" href="SMT.Script.html#9143" class="Bound">x</a><a id="9208" class="Symbol">})</a>

  <a id="9214" class="Keyword">mutual</a>

    <a id="9226" class="Comment">-- |Show a term as an S-expression. The code below passes a name state in</a>
    <a id="9304" class="Comment">--  a state monad. For the pure version, see `showTerm` below.</a>
    <a id="Interaction.showTermS"></a><a id="9371" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9381" class="Symbol">:</a> <a id="9383" href="SMT.Script.html#1044" class="Datatype">Term</a> <a id="9388" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="9390" href="SMT.Script.html#688" class="Generalizable">σ</a> <a id="9392" class="Symbol">→</a> <a id="9394" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="9402" href="SMT.Script.html#6442" class="Record">Names</a> <a id="9408" href="Function.Base.html#615" class="Function">id</a> <a id="9411" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="9413" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="9415" class="Symbol">(</a><a id="9416" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="9423" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="9425" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="9435" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="9436" class="Symbol">)</a>
    <a id="9442" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9452" class="Symbol">{</a><a id="9453" href="SMT.Script.html#9453" class="Bound">Γ</a><a id="9454" class="Symbol">}</a> <a id="9456" class="Symbol">{</a><a id="9457" href="SMT.Script.html#9457" class="Bound">σ</a><a id="9458" class="Symbol">}</a> <a id="9460" class="Symbol">(</a><a id="9461" href="SMT.Script.html#1089" class="InductiveConstructor">var</a> <a id="9465" href="SMT.Script.html#9465" class="Bound">i</a><a id="9466" class="Symbol">)</a> <a id="9468" class="Symbol">=</a> <a id="9470" class="Keyword">do</a>
      <a id="9479" href="SMT.Script.html#9479" class="Bound">n</a> <a id="9481" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9483" href="SMT.Script.html#7836" class="Function">getName</a> <a id="9491" href="SMT.Script.html#9465" class="Bound">i</a>
      <a id="9499" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9506" class="Symbol">(</a><a id="9507" href="SMT.Script.html#5874" class="Function">showName</a> <a id="9516" href="SMT.Script.html#9479" class="Bound">n</a> <a id="9518" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9520" href="SMT.Script.html#8635" class="Function">varPE</a> <a id="9526" href="SMT.Script.html#9479" class="Bound">n</a> <a id="9528" href="SMT.Script.html#9465" class="Bound">i</a><a id="9529" class="Symbol">)</a>
    <a id="9535" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9545" class="Symbol">{</a><a id="9546" href="SMT.Script.html#9546" class="Bound">Γ</a><a id="9547" class="Symbol">}</a> <a id="9549" class="Symbol">{</a><a id="9550" href="SMT.Script.html#9550" class="Bound">σ</a><a id="9551" class="Symbol">}</a> <a id="9553" class="Symbol">(</a><a id="9554" href="SMT.Script.html#1131" class="InductiveConstructor">lit</a> <a id="9558" href="SMT.Script.html#9558" class="Bound">l</a><a id="9559" class="Symbol">)</a> <a id="9561" class="Symbol">=</a>
      <a id="9569" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9576" class="Symbol">(</a><a id="9577" href="SMT.Theory.html#1112" class="Function">showLiteral</a> <a id="9589" href="SMT.Script.html#9558" class="Bound">l</a> <a id="9591" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9593" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="9600" href="SMT.Script.html#9546" class="Bound">Γ</a><a id="9601" class="Symbol">)</a>
    <a id="9607" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9617" class="Symbol">(</a><a id="9618" href="SMT.Script.html#1177" class="InductiveConstructor">app</a> <a id="9622" href="SMT.Script.html#9622" class="Bound">x</a> <a id="9624" href="SMT.Script.html#9624" class="Bound">xs</a><a id="9626" class="Symbol">)</a> <a id="9628" class="Symbol">=</a> <a id="9630" class="Keyword">do</a>
      <a id="9639" class="Keyword">let</a> <a id="9643" href="SMT.Script.html#9643" class="Bound">x</a> <a id="9645" class="Symbol">=</a> <a id="9647" href="SMT.Theory.html#1165" class="Function">showIdentifier</a> <a id="9662" href="SMT.Script.html#9622" class="Bound">x</a>
      <a id="9670" class="Symbol">(</a><a id="9671" href="SMT.Script.html#9671" class="Bound">xs</a> <a id="9674" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9676" href="SMT.Script.html#9676" class="Bound">p</a><a id="9677" class="Symbol">)</a> <a id="9679" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9681" href="SMT.Script.html#10387" class="Function">showArgsS</a> <a id="9691" href="SMT.Script.html#9624" class="Bound">xs</a>
      <a id="9700" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9707" class="Symbol">(</a><a id="9708" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="9716" class="Symbol">(</a><a id="9717" href="SMT.Script.html#9643" class="Bound">x</a> <a id="9719" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9721" href="SMT.Script.html#9671" class="Bound">xs</a><a id="9723" class="Symbol">)</a> <a id="9725" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9727" href="SMT.Script.html#9676" class="Bound">p</a><a id="9728" class="Symbol">)</a>
    <a id="9734" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9744" class="Symbol">(</a><a id="9745" href="SMT.Script.html#1271" class="InductiveConstructor">forAll</a> <a id="9752" class="Symbol">{</a><a id="9753" href="SMT.Script.html#9753" class="Bound">σ</a><a id="9754" class="Symbol">}</a> <a id="9756" href="SMT.Script.html#9756" class="Bound">x</a><a id="9757" class="Symbol">)</a> <a id="9759" class="Symbol">=</a> <a id="9761" class="Keyword">do</a>
      <a id="9770" href="SMT.Script.html#9770" class="Bound">n</a> <a id="9772" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9774" href="SMT.Script.html#7036" class="Function">pushFreshName</a> <a id="9788" href="SMT.Script.html#9753" class="Bound">σ</a>
      <a id="9796" class="Symbol">(</a><a id="9797" href="SMT.Script.html#9797" class="Bound">x</a> <a id="9799" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9801" href="SMT.Script.html#9801" class="Bound">p</a><a id="9802" class="Symbol">)</a> <a id="9804" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9806" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9816" href="SMT.Script.html#9756" class="Bound">x</a>
      <a id="9824" href="SMT.Script.html#7521" class="Function">popName</a>
      <a id="9838" class="Keyword">let</a> <a id="9842" href="SMT.Script.html#9842" class="Bound">nσs</a> <a id="9846" class="Symbol">=</a> <a id="9848" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="9856" class="Symbol">(</a><a id="9857" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="9865" class="Symbol">(</a><a id="9866" href="SMT.Script.html#5874" class="Function">showName</a> <a id="9875" href="SMT.Script.html#9770" class="Bound">n</a> <a id="9877" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9879" href="SMT.Theory.html#1077" class="Function">showSort</a> <a id="9888" href="SMT.Script.html#9753" class="Bound">σ</a> <a id="9890" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9892" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9894" class="Symbol">)</a> <a id="9896" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9898" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9900" class="Symbol">)</a>
      <a id="9908" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9915" class="Symbol">(</a><a id="9916" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="9924" class="Symbol">(</a><a id="9925" class="String">&quot;forall&quot;</a> <a id="9934" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9936" href="SMT.Script.html#9842" class="Bound">nσs</a> <a id="9940" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9942" href="SMT.Script.html#9797" class="Bound">x</a> <a id="9944" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9946" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9948" class="Symbol">)</a> <a id="9950" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="9952" href="Data.Environment.html#634" class="Function">Env.tail</a> <a id="9961" href="SMT.Script.html#9801" class="Bound">p</a><a id="9962" class="Symbol">)</a>
    <a id="9968" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="9978" class="Symbol">(</a><a id="9979" href="SMT.Script.html#1328" class="InductiveConstructor">exists</a> <a id="9986" class="Symbol">{</a><a id="9987" href="SMT.Script.html#9987" class="Bound">σ</a><a id="9988" class="Symbol">}</a> <a id="9990" href="SMT.Script.html#9990" class="Bound">x</a><a id="9991" class="Symbol">)</a> <a id="9993" class="Symbol">=</a> <a id="9995" class="Keyword">do</a>
      <a id="10004" href="SMT.Script.html#10004" class="Bound">n</a> <a id="10006" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10008" href="SMT.Script.html#7036" class="Function">pushFreshName</a> <a id="10022" href="SMT.Script.html#9987" class="Bound">σ</a>
      <a id="10030" class="Symbol">(</a><a id="10031" href="SMT.Script.html#10031" class="Bound">x</a> <a id="10033" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10035" href="SMT.Script.html#10035" class="Bound">p</a><a id="10036" class="Symbol">)</a> <a id="10038" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10040" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="10050" href="SMT.Script.html#9990" class="Bound">x</a>
      <a id="10058" href="SMT.Script.html#7521" class="Function">popName</a>
      <a id="10072" class="Keyword">let</a> <a id="10076" href="SMT.Script.html#10076" class="Bound">nσs</a> <a id="10080" class="Symbol">=</a> <a id="10082" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="10090" class="Symbol">(</a><a id="10091" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="10099" class="Symbol">(</a><a id="10100" href="SMT.Script.html#5874" class="Function">showName</a> <a id="10109" href="SMT.Script.html#10004" class="Bound">n</a> <a id="10111" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10113" href="SMT.Theory.html#1077" class="Function">showSort</a> <a id="10122" href="SMT.Script.html#9987" class="Bound">σ</a> <a id="10124" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10126" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10128" class="Symbol">)</a> <a id="10130" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10132" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10134" class="Symbol">)</a>
      <a id="10142" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10149" class="Symbol">(</a><a id="10150" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="10158" class="Symbol">(</a><a id="10159" class="String">&quot;exists&quot;</a> <a id="10168" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10170" href="SMT.Script.html#10076" class="Bound">nσs</a> <a id="10174" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10176" href="SMT.Script.html#10031" class="Bound">x</a> <a id="10178" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10180" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10182" class="Symbol">)</a> <a id="10184" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10186" href="Data.Environment.html#634" class="Function">Env.tail</a> <a id="10195" href="SMT.Script.html#10035" class="Bound">p</a><a id="10196" class="Symbol">)</a>

    <a id="10203" class="Comment">-- |Show a series of terms as S-expression.</a>
    <a id="10251" class="Comment">--</a>
    <a id="10258" class="Comment">--  This is explicit to avoid sized-types, as Agda cannot infer that the call</a>
    <a id="10340" class="Comment">--  `mapM showTermS xs` terminates.</a>
    <a id="10380" class="Comment">--</a>
    <a id="Interaction.showArgsS"></a><a id="10387" href="SMT.Script.html#10387" class="Function">showArgsS</a> <a id="10397" class="Symbol">:</a> <a id="10399" href="SMT.Script.html#1384" class="Function">Args</a> <a id="10404" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="10406" href="SMT.Script.html#726" class="Generalizable">Δ</a> <a id="10408" class="Symbol">→</a> <a id="10410" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="10418" href="SMT.Script.html#6442" class="Record">Names</a> <a id="10424" href="Function.Base.html#615" class="Function">id</a> <a id="10427" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="10429" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="10431" class="Symbol">(</a><a id="10432" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="10437" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="10444" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="10446" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="10456" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="10457" class="Symbol">)</a>
    <a id="10463" href="SMT.Script.html#10387" class="Function">showArgsS</a> <a id="10473" class="Symbol">{</a><a id="10474" href="SMT.Script.html#10474" class="Bound">Γ</a><a id="10475" class="Symbol">}</a> <a id="10477" class="Symbol">{</a><a id="10478" href="SMT.Script.html#10478" class="Bound">Δ</a><a id="10479" class="Symbol">}</a> <a id="10481" href="Data.Environment.html#402" class="InductiveConstructor">[]</a> <a id="10484" class="Symbol">=</a>
      <a id="10492" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10499" class="Symbol">(</a><a id="10500" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="10503" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10505" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="10512" href="SMT.Script.html#10474" class="Bound">Γ</a><a id="10513" class="Symbol">)</a>
    <a id="10519" href="SMT.Script.html#10387" class="Function">showArgsS</a> <a id="10529" class="Symbol">{</a><a id="10530" href="SMT.Script.html#10530" class="Bound">Γ</a><a id="10531" class="Symbol">}</a> <a id="10533" class="Symbol">{</a><a id="10534" href="SMT.Script.html#10534" class="Bound">Δ</a><a id="10535" class="Symbol">}</a> <a id="10537" class="Symbol">(</a><a id="10538" href="SMT.Script.html#10538" class="Bound">x</a> <a id="10540" href="Data.Environment.html#419" class="InductiveConstructor Operator">∷</a> <a id="10542" href="SMT.Script.html#10542" class="Bound">xs</a><a id="10544" class="Symbol">)</a> <a id="10546" class="Symbol">=</a> <a id="10548" class="Keyword">do</a>
      <a id="10557" class="Symbol">(</a><a id="10558" href="SMT.Script.html#10558" class="Bound">x</a> <a id="10560" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10562" href="SMT.Script.html#10562" class="Bound">p₁</a><a id="10564" class="Symbol">)</a> <a id="10566" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10568" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="10578" href="SMT.Script.html#10538" class="Bound">x</a>
      <a id="10586" class="Symbol">(</a><a id="10587" href="SMT.Script.html#10587" class="Bound">xs</a> <a id="10590" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10592" href="SMT.Script.html#10592" class="Bound">p₂</a><a id="10594" class="Symbol">)</a> <a id="10596" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10598" href="SMT.Script.html#10387" class="Function">showArgsS</a> <a id="10608" href="SMT.Script.html#10542" class="Bound">xs</a>
      <a id="10617" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10624" class="Symbol">(</a><a id="10625" href="SMT.Script.html#10558" class="Bound">x</a> <a id="10627" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10629" href="SMT.Script.html#10587" class="Bound">xs</a> <a id="10632" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10634" class="Symbol">(</a><a id="10635" href="SMT.Script.html#10562" class="Bound">p₁</a> <a id="10638" href="SMT.Script.html#8861" class="Function Operator">&lt;||&gt;</a> <a id="10643" href="SMT.Script.html#10592" class="Bound">p₂</a><a id="10645" class="Symbol">))</a>


  <a id="10652" class="Comment">-- |Show a command as an S-expression. The code below passes a name state in</a>
  <a id="10731" class="Comment">--  a state monad. For the pure version, see `showCommand` below.</a>
  <a id="Interaction.showCommandS"></a><a id="10799" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="10812" class="Symbol">:</a> <a id="10814" href="SMT.Script.html#4213" class="Datatype">Command</a> <a id="10822" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="10824" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="10826" href="SMT.Script.html#712" class="Generalizable">δΓ</a> <a id="10829" href="SMT.Script.html#2624" class="Generalizable">δΞ</a> <a id="10832" class="Symbol">→</a> <a id="10834" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="10842" href="SMT.Script.html#6442" class="Record">Names</a> <a id="10848" href="Function.Base.html#615" class="Function">id</a> <a id="10851" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="10853" class="Symbol">(</a><a id="10854" href="SMT.Script.html#712" class="Generalizable">δΓ</a> <a id="10857" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="10860" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="10861" class="Symbol">)</a> <a id="10863" class="Symbol">(</a><a id="10864" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="10871" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="10873" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="10883" class="Symbol">(</a><a id="10884" href="SMT.Script.html#712" class="Generalizable">δΓ</a> <a id="10887" href="Data.List.Base.html#1763" class="Function Operator">++</a> <a id="10890" href="SMT.Script.html#707" class="Generalizable">Γ</a><a id="10891" class="Symbol">))</a>
  <a id="10896" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="10909" class="Symbol">{</a><a id="10910" href="SMT.Script.html#10910" class="Bound">Γ′</a><a id="10912" class="Symbol">}</a> <a id="10914" class="Symbol">{</a><a id="10915" href="SMT.Script.html#10915" class="Bound">Ξ′</a><a id="10917" class="Symbol">}</a> <a id="10919" class="Symbol">(</a><a id="10920" href="SMT.Script.html#4295" class="InductiveConstructor">set-logic</a> <a id="10930" href="SMT.Script.html#10930" class="Bound">l</a><a id="10931" class="Symbol">)</a> <a id="10933" class="Symbol">=</a>
    <a id="10939" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10946" class="Symbol">(</a><a id="10947" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="10955" class="Symbol">(</a><a id="10956" class="String">&quot;set-logic&quot;</a> <a id="10968" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10970" href="SMT.Logics.html#6232" class="Function">showLogic</a> <a id="10980" href="SMT.Script.html#10930" class="Bound">l</a> <a id="10982" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10984" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10986" class="Symbol">)</a> <a id="10988" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="10990" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="10997" href="SMT.Script.html#10910" class="Bound">Γ′</a><a id="10999" class="Symbol">)</a>
  <a id="11003" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="11016" class="Symbol">{</a><a id="11017" href="SMT.Script.html#11017" class="Bound">Γ′</a><a id="11019" class="Symbol">}</a> <a id="11021" class="Symbol">{</a><a id="11022" href="SMT.Script.html#11022" class="Bound">Ξ′</a><a id="11024" class="Symbol">}</a> <a id="11026" class="Symbol">(</a><a id="11027" href="SMT.Script.html#4345" class="InductiveConstructor">declare-const</a> <a id="11041" href="SMT.Script.html#11041" class="Bound">σ</a><a id="11042" class="Symbol">)</a> <a id="11044" class="Symbol">=</a> <a id="11046" class="Keyword">do</a>
    <a id="11053" href="SMT.Script.html#11053" class="Bound">n</a> <a id="11055" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11057" href="SMT.Script.html#7036" class="Function">pushFreshName</a> <a id="11071" href="SMT.Script.html#11041" class="Bound">σ</a>
    <a id="11077" class="Keyword">let</a> <a id="11081" href="SMT.Script.html#11081" class="Bound">p</a> <a id="11083" class="Symbol">=</a> <a id="11085" href="SMT.Script.html#8635" class="Function">varPE</a> <a id="11091" href="SMT.Script.html#11053" class="Bound">n</a> <a id="11093" class="Symbol">(</a><a id="11094" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a> <a id="11103" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11105" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="11109" class="Symbol">)</a>
    <a id="11115" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11122" class="Symbol">(</a><a id="11123" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="11131" class="Symbol">(</a><a id="11132" class="String">&quot;declare-const&quot;</a> <a id="11148" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11150" href="SMT.Script.html#5874" class="Function">showName</a> <a id="11159" href="SMT.Script.html#11053" class="Bound">n</a> <a id="11161" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11163" href="SMT.Theory.html#1077" class="Function">showSort</a> <a id="11172" href="SMT.Script.html#11041" class="Bound">σ</a> <a id="11174" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11176" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="11178" class="Symbol">)</a> <a id="11180" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11182" href="SMT.Script.html#11081" class="Bound">p</a><a id="11183" class="Symbol">)</a>
  <a id="11187" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="11200" class="Symbol">{</a><a id="11201" href="SMT.Script.html#11201" class="Bound">Γ′</a><a id="11203" class="Symbol">}</a> <a id="11205" class="Symbol">{</a><a id="11206" href="SMT.Script.html#11206" class="Bound">Ξ′</a><a id="11208" class="Symbol">}</a> <a id="11210" class="Symbol">(</a><a id="11211" href="SMT.Script.html#4400" class="InductiveConstructor">assert</a> <a id="11218" href="SMT.Script.html#11218" class="Bound">x</a><a id="11219" class="Symbol">)</a> <a id="11221" class="Symbol">=</a> <a id="11223" class="Keyword">do</a>
    <a id="11230" class="Symbol">(</a><a id="11231" href="SMT.Script.html#11231" class="Bound">x</a> <a id="11233" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11235" href="SMT.Script.html#11235" class="Bound">p</a><a id="11236" class="Symbol">)</a> <a id="11238" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11240" href="SMT.Script.html#9371" class="Function">showTermS</a> <a id="11250" href="SMT.Script.html#11218" class="Bound">x</a>
    <a id="11256" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11263" class="Symbol">(</a><a id="11264" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="11272" class="Symbol">(</a><a id="11273" class="String">&quot;assert&quot;</a> <a id="11282" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11284" href="SMT.Script.html#11231" class="Bound">x</a> <a id="11286" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11288" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="11290" class="Symbol">)</a> <a id="11292" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11294" href="SMT.Script.html#11235" class="Bound">p</a><a id="11295" class="Symbol">)</a>
  <a id="11299" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="11312" class="Symbol">{</a><a id="11313" href="SMT.Script.html#11313" class="Bound">Γ′</a><a id="11315" class="Symbol">}</a> <a id="11317" class="Symbol">{</a><a id="11318" href="SMT.Script.html#11318" class="Bound">Ξ′</a><a id="11320" class="Symbol">}</a> <a id="11322" href="SMT.Script.html#4450" class="InductiveConstructor">check-sat</a> <a id="11332" class="Symbol">=</a>
    <a id="11338" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11345" class="Symbol">(</a><a id="11346" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="11354" class="Symbol">(</a><a id="11355" class="String">&quot;check-sat&quot;</a> <a id="11367" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11369" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="11371" class="Symbol">)</a> <a id="11373" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11375" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="11382" href="SMT.Script.html#11313" class="Bound">Γ′</a><a id="11384" class="Symbol">)</a>
  <a id="11388" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="11401" class="Symbol">{</a><a id="11402" href="SMT.Script.html#11402" class="Bound">Γ′</a><a id="11404" class="Symbol">}</a> <a id="11406" class="Symbol">{</a><a id="11407" href="SMT.Script.html#11407" class="Bound">Ξ′</a><a id="11409" class="Symbol">}</a> <a id="11411" href="SMT.Script.html#4494" class="InductiveConstructor">get-model</a> <a id="11421" class="Symbol">=</a>
    <a id="11427" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11434" class="Symbol">(</a><a id="11435" href="SMT.Script.html#8096" class="Function">mkSTerm</a> <a id="11443" class="Symbol">(</a><a id="11444" class="String">&quot;get-model&quot;</a> <a id="11456" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11458" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="11460" class="Symbol">)</a> <a id="11462" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11464" href="SMT.Script.html#8506" class="Function">failPE</a> <a id="11471" href="SMT.Script.html#11402" class="Bound">Γ′</a><a id="11473" class="Symbol">)</a>

  <a id="11478" class="Comment">-- |Show a script as an S-expression. The code below passes a name state in</a>
  <a id="11556" class="Comment">--  a state monad. For the pure version, see `showScript` below.</a>
  <a id="Interaction.showScriptS"></a><a id="11623" href="SMT.Script.html#11623" class="Function">showScriptS</a> <a id="11635" class="Symbol">:</a> <a id="11637" href="SMT.Script.html#4643" class="Datatype">Script</a> <a id="11644" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="11646" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="11649" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="11651" class="Symbol">→</a> <a id="11653" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="11661" href="SMT.Script.html#6442" class="Record">Names</a> <a id="11667" href="Function.Base.html#615" class="Function">id</a> <a id="11670" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="11672" href="SMT.Script.html#709" class="Generalizable">Γ′</a> <a id="11675" class="Symbol">(</a><a id="11676" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="11681" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="11688" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="11690" class="Symbol">(</a><a id="11691" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="11701" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="11703" class="Symbol">→</a> <a id="11705" href="SMT.Script.html#8173" class="Function">ParserEnv</a> <a id="11715" href="SMT.Script.html#709" class="Generalizable">Γ′</a><a id="11717" class="Symbol">))</a>
  <a id="11722" href="SMT.Script.html#11623" class="Function">showScriptS</a> <a id="11734" class="Symbol">{</a><a id="11735" href="SMT.Script.html#11735" class="Bound">Γ</a><a id="11736" class="Symbol">}</a> <a id="11738" href="SMT.Script.html#4706" class="InductiveConstructor">[]</a> <a id="11741" class="Symbol">=</a>
    <a id="11747" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11754" class="Symbol">(</a><a id="11755" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11758" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11760" href="Function.Base.html#615" class="Function">id</a><a id="11762" class="Symbol">)</a>
  <a id="11766" href="SMT.Script.html#11623" class="Function">showScriptS</a> <a id="11778" class="Symbol">(</a><a id="11779" href="SMT.Script.html#11779" class="Bound">cmd</a> <a id="11783" href="SMT.Script.html#4728" class="InductiveConstructor Operator">∷</a> <a id="11785" href="SMT.Script.html#11785" class="Bound">scr</a><a id="11788" class="Symbol">)</a> <a id="11790" class="Symbol">=</a> <a id="11792" class="Keyword">do</a>
    <a id="11799" class="Symbol">(</a><a id="11800" href="SMT.Script.html#11800" class="Bound">cmd</a> <a id="11804" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11806" href="SMT.Script.html#11806" class="Bound">p₁</a><a id="11808" class="Symbol">)</a> <a id="11810" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11812" href="SMT.Script.html#10799" class="Function">showCommandS</a> <a id="11825" href="SMT.Script.html#11779" class="Bound">cmd</a>
    <a id="11833" class="Symbol">(</a><a id="11834" href="SMT.Script.html#11834" class="Bound">scr</a> <a id="11838" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11840" href="SMT.Script.html#11840" class="Bound">δp</a><a id="11842" class="Symbol">)</a> <a id="11844" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="11846" href="SMT.Script.html#11623" class="Function">showScriptS</a> <a id="11858" href="SMT.Script.html#11785" class="Bound">scr</a>
    <a id="11866" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="11873" class="Symbol">(</a><a id="11874" href="SMT.Script.html#11800" class="Bound">cmd</a> <a id="11878" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11880" href="SMT.Script.html#11834" class="Bound">scr</a> <a id="11884" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="11886" class="Symbol">λ</a> <a id="11888" href="SMT.Script.html#11888" class="Bound">p₂</a> <a id="11891" class="Symbol">→</a> <a id="11893" href="SMT.Script.html#11840" class="Bound">δp</a> <a id="11896" class="Symbol">(</a><a id="11897" href="SMT.Script.html#11806" class="Bound">p₁</a> <a id="11900" href="SMT.Script.html#8861" class="Function Operator">&lt;||&gt;</a> <a id="11905" href="SMT.Script.html#8315" class="Function">extendPE</a> <a id="11914" class="Symbol">_</a> <a id="11916" href="SMT.Script.html#11888" class="Bound">p₂</a><a id="11918" class="Symbol">))</a>


  <a id="11925" class="Comment">-- |A name state for the empty context, which supplies the names x0, x1, x2, ...</a>
  <a id="Interaction.x′es"></a><a id="12008" href="SMT.Script.html#12008" class="Function">x′es</a> <a id="12013" class="Symbol">:</a> <a id="12015" href="SMT.Script.html#6442" class="Record">Names</a> <a id="12021" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="12026" href="SMT.Script.html#6487" class="Field">nameEnv</a>    <a id="12037" href="SMT.Script.html#12008" class="Function">x′es</a> <a id="12042" class="Symbol">=</a> <a id="12044" href="Data.Environment.html#402" class="InductiveConstructor">[]</a>
  <a id="12049" href="SMT.Script.html#6516" class="Field">nameSupply</a> <a id="12060" href="SMT.Script.html#12008" class="Function">x′es</a> <a id="12065" class="Symbol">=</a> <a id="12067" href="Codata.Musical.Stream.html#1156" class="Function">Stream.map</a> <a id="12078" class="Symbol">(λ</a> <a id="12081" href="SMT.Script.html#12081" class="Bound">n</a> <a id="12083" class="Symbol">→</a> <a id="12085" class="String">&#39;x&#39;</a> <a id="12089" href="Data.List.NonEmpty.html#1364" class="InductiveConstructor Operator">∷</a> <a id="12091" href="Data.String.Base.html#1513" class="Primitive">String.toList</a> <a id="12105" class="Symbol">(</a><a id="12106" href="SMT.Script.html#5339" class="Function">showℕ</a> <a id="12112" href="SMT.Script.html#12081" class="Bound">n</a><a id="12113" class="Symbol">))</a> <a id="12116" class="Symbol">(</a><a id="12117" href="Codata.Musical.Stream.html#1753" class="Function">Stream.iterate</a> <a id="12132" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">ℕ.suc</a> <a id="12138" class="Number">0</a><a id="12139" class="Symbol">)</a>


  <a id="12145" class="Comment">-- |Show a script as an S-expression.</a>
  <a id="Interaction.showScript"></a><a id="12185" href="SMT.Script.html#12185" class="Function">showScript</a> <a id="12196" class="Symbol">:</a> <a id="12198" href="SMT.Script.html#4643" class="Datatype">Script</a> <a id="12205" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="12208" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="12210" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="12212" class="Symbol">→</a> <a id="12214" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="12221" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12223" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="12226" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="12233" class="Symbol">(</a><a id="12234" href="Data.Product.html#1788" class="Function">∃[</a> <a id="12237" href="SMT.Script.html#12237" class="Bound">σ</a> <a id="12239" href="Data.Product.html#1788" class="Function">]</a> <a id="12241" class="Symbol">(</a><a id="12242" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="12244" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="12246" href="SMT.Script.html#12237" class="Bound">σ</a><a id="12247" class="Symbol">))</a> <a id="12250" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="12254" href="SMT.Script.html#12185" class="Function">showScript</a> <a id="12265" href="SMT.Script.html#12265" class="Bound">scr</a> <a id="12269" class="Symbol">=</a>
    <a id="12275" href="Data.Product.html#2435" class="Function">Prod.map</a> <a id="12284" href="Data.String.Base.html#2550" class="Function">String.unlines</a> <a id="12299" class="Symbol">(λ</a> <a id="12302" href="SMT.Script.html#12302" class="Bound">p</a> <a id="12304" class="Symbol">→</a> <a id="12306" href="Text.Parser.String.html#5762" class="Function">withSpaces</a> <a id="12317" class="Symbol">(</a><a id="12318" href="SMT.Script.html#9041" class="Function">foldPE</a> <a id="12325" class="Symbol">(</a><a id="12326" href="SMT.Script.html#12302" class="Bound">p</a> <a id="12328" href="Data.Environment.html#402" class="InductiveConstructor">[]</a><a id="12330" class="Symbol">)))</a> <a id="12334" class="Symbol">(</a><a id="12335" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="12341" class="Symbol">(</a><a id="12342" href="SMT.Script.html#11623" class="Function">showScriptS</a> <a id="12354" href="SMT.Script.html#12265" class="Bound">scr</a> <a id="12358" href="SMT.Script.html#12008" class="Function">x′es</a><a id="12362" class="Symbol">))</a>


  <a id="12369" class="Comment">-- |Parse a satisfiability result.</a>
  <a id="Interaction.parseSat"></a><a id="12406" href="SMT.Script.html#12406" class="Function">parseSat</a> <a id="12415" class="Symbol">:</a> <a id="12417" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="12420" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="12427" href="SMT.Script.html#2674" class="Datatype">Sat</a> <a id="12431" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="12435" href="SMT.Script.html#12406" class="Function">parseSat</a> <a id="12444" class="Symbol">=</a> <a id="12446" href="Text.Parser.String.html#5762" class="Function">withSpaces</a> <a id="12457" class="Symbol">(</a><a id="12458" href="SMT.Script.html#12504" class="Function">pSat</a> <a id="12463" href="Text.Parser.String.html#4464" class="Function Operator">&lt;|&gt;</a> <a id="12467" href="SMT.Script.html#12543" class="Function">pUnsat</a> <a id="12474" href="Text.Parser.String.html#4464" class="Function Operator">&lt;|&gt;</a> <a id="12478" href="SMT.Script.html#12584" class="Function">pUnknown</a><a id="12486" class="Symbol">)</a>
    <a id="12492" class="Keyword">where</a>
      <a id="12504" href="SMT.Script.html#12504" class="Function">pSat</a>     <a id="12513" class="Symbol">=</a> <a id="12515" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="12523" href="Text.Parser.String.html#4658" class="Function Operator">&lt;$</a> <a id="12526" href="Text.Parser.String.html#5406" class="Function">text</a> <a id="12531" class="String">&quot;sat&quot;</a>
      <a id="12543" href="SMT.Script.html#12543" class="Function">pUnsat</a>   <a id="12552" class="Symbol">=</a> <a id="12554" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="12562" href="Text.Parser.String.html#4658" class="Function Operator">&lt;$</a> <a id="12565" href="Text.Parser.String.html#5406" class="Function">text</a> <a id="12570" class="String">&quot;unsat&quot;</a>
      <a id="12584" href="SMT.Script.html#12584" class="Function">pUnknown</a> <a id="12593" class="Symbol">=</a> <a id="12595" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="12603" href="Text.Parser.String.html#4658" class="Function Operator">&lt;$</a> <a id="12606" href="Text.Parser.String.html#5406" class="Function">text</a> <a id="12611" class="String">&quot;unknown&quot;</a>


  <a id="12625" href="SMT.Script.html#12625" class="Function">_</a> <a id="12627" class="Symbol">:</a> <a id="12629" href="SMT.Script.html#12406" class="Function">parseSat</a> <a id="12638" href="Text.Parser.String.html#6989" class="Function Operator">parses</a> <a id="12645" class="String">&quot;sat&quot;</a> <a id="12651" href="Text.Parser.String.html#6989" class="Function Operator">as</a> <a id="12654" class="Symbol">(</a><a id="12655" href="SMT.Script.html#2739" class="Function Operator">_≟-Sat</a> <a id="12662" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a><a id="12665" class="Symbol">)</a>
  <a id="12669" class="Symbol">_</a> <a id="12671" class="Symbol">=</a> <a id="12673" class="Symbol">_</a>

  <a id="12678" href="SMT.Script.html#12678" class="Function">_</a> <a id="12680" class="Symbol">:</a> <a id="12682" href="SMT.Script.html#12406" class="Function">parseSat</a> <a id="12691" href="Text.Parser.String.html#6989" class="Function Operator">parses</a> <a id="12698" class="String">&quot;unsat&quot;</a> <a id="12706" href="Text.Parser.String.html#6989" class="Function Operator">as</a> <a id="12709" class="Symbol">(</a><a id="12710" href="SMT.Script.html#2739" class="Function Operator">_≟-Sat</a> <a id="12717" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a><a id="12722" class="Symbol">)</a>
  <a id="12726" class="Symbol">_</a> <a id="12728" class="Symbol">=</a> <a id="12730" class="Symbol">_</a>

  <a id="12735" href="SMT.Script.html#12735" class="Function">_</a> <a id="12737" class="Symbol">:</a> <a id="12739" href="SMT.Script.html#12406" class="Function">parseSat</a> <a id="12748" href="Text.Parser.String.html#6989" class="Function Operator">parses</a> <a id="12755" class="String">&quot;unknown&quot;</a> <a id="12765" href="Text.Parser.String.html#6989" class="Function Operator">as</a> <a id="12768" class="Symbol">(</a><a id="12769" href="SMT.Script.html#2739" class="Function Operator">_≟-Sat</a> <a id="12776" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a><a id="12783" class="Symbol">)</a>
  <a id="12787" class="Symbol">_</a> <a id="12789" class="Symbol">=</a> <a id="12791" class="Symbol">_</a>

  <a id="12796" href="SMT.Script.html#12796" class="Function">_</a> <a id="12798" class="Symbol">:</a> <a id="12800" href="SMT.Script.html#12406" class="Function">parseSat</a> <a id="12809" href="Text.Parser.String.html#7482" class="Function Operator">rejects</a> <a id="12817" class="String">&quot;dogfood&quot;</a>
  <a id="12829" class="Symbol">_</a> <a id="12831" class="Symbol">=</a> <a id="12833" class="Symbol">_</a>

  <a id="12838" class="Comment">-- |Parse a variable assignment.</a>
  <a id="Interaction.parseVarAssign"></a><a id="12873" href="SMT.Script.html#12873" class="Function">parseVarAssign</a> <a id="12888" class="Symbol">:</a> <a id="12890" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="12893" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="12900" class="Symbol">(</a><a id="12901" href="Data.Product.html#1788" class="Function">∃[</a> <a id="12904" href="SMT.Script.html#12904" class="Bound">σ</a> <a id="12906" href="Data.Product.html#1788" class="Function">]</a> <a id="12908" class="Symbol">(</a><a id="12909" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="12911" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="12913" href="SMT.Script.html#12904" class="Bound">σ</a><a id="12914" class="Symbol">))</a> <a id="12917" href="Relation.Unary.html#3359" class="Function">]</a> <a id="12919" class="Symbol">→</a> <a id="12921" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="12924" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="12931" class="Symbol">(</a><a id="12932" href="Data.Product.html#1788" class="Function">∃[</a> <a id="12935" href="SMT.Script.html#12935" class="Bound">σ</a> <a id="12937" href="Data.Product.html#1788" class="Function">]</a> <a id="12939" class="Symbol">(</a><a id="12940" href="SMT.Script.html#707" class="Generalizable">Γ</a> <a id="12942" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="12944" href="SMT.Script.html#12935" class="Bound">σ</a> <a id="12946" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="12948" href="SMT.Theory.html#1396" class="Field">Value</a> <a id="12954" href="SMT.Script.html#12935" class="Bound">σ</a><a id="12955" class="Symbol">))</a> <a id="12958" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="12962" href="SMT.Script.html#12873" class="Function">parseVarAssign</a> <a id="12977" class="Symbol">{</a><a id="12978" href="SMT.Script.html#12978" class="Bound">Γ</a><a id="12979" class="Symbol">}</a> <a id="12981" href="SMT.Script.html#12981" class="Bound">parseVarName</a> <a id="12994" class="Symbol">=</a> <a id="12996" href="Text.Parser.String.html#5685" class="Function">parens</a> <a id="13003" class="Symbol">(</a><a id="13004" href="Text.Parser.String.html#4324" class="Function">box</a> <a id="13008" class="Symbol">(</a><a id="13009" href="Text.Parser.String.html#3860" class="Function">guardM</a> <a id="13016" href="SMT.Script.html#13576" class="Function">checkVarAssign</a> <a id="13031" href="SMT.Script.html#13321" class="Function">unsafeParseVarAssign</a><a id="13051" class="Symbol">))</a>
    <a id="13058" class="Keyword">where</a>
      <a id="13070" class="Comment">-- Parse a pair of a sort and a value of that sort.</a>
      <a id="13128" href="SMT.Script.html#13128" class="Function">parseSortValue</a> <a id="13143" class="Symbol">:</a> <a id="13145" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="13148" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="13155" class="Symbol">(</a><a id="13156" href="Data.Product.html#1788" class="Function">∃[</a> <a id="13159" href="SMT.Script.html#13159" class="Bound">σ</a> <a id="13161" href="Data.Product.html#1788" class="Function">]</a> <a id="13163" class="Symbol">(</a><a id="13164" href="SMT.Theory.html#1396" class="Field">Value</a> <a id="13170" href="SMT.Script.html#13159" class="Bound">σ</a><a id="13171" class="Symbol">))</a> <a id="13174" href="Relation.Unary.html#3359" class="Function">]</a>
      <a id="13182" href="SMT.Script.html#13128" class="Function">parseSortValue</a> <a id="13197" class="Symbol">=</a> <a id="13199" href="SMT.Theory.html#1362" class="Field">readSort</a> <a id="13208" href="Text.Parser.String.html#3950" class="Function Operator">P.&gt;&gt;=</a> <a id="13214" class="Symbol">λ</a> <a id="13216" href="SMT.Script.html#13216" class="Bound">σ</a> <a id="13218" class="Symbol">→</a> <a id="13220" href="Text.Parser.String.html#4324" class="Function">box</a> <a id="13224" class="Symbol">(</a><a id="13225" href="Data.Product.html#2196" class="Function Operator">-,_</a> <a id="13229" href="Text.Parser.String.html#4562" class="Function Operator">&lt;$&gt;</a> <a id="13233" href="SMT.Theory.html#1424" class="Field">readValue</a> <a id="13243" href="SMT.Script.html#13216" class="Bound">σ</a><a id="13244" class="Symbol">)</a>

      <a id="13253" class="Comment">-- Parse a variable assignment, with possibly distinct sorts.</a>
      <a id="13321" href="SMT.Script.html#13321" class="Function">unsafeParseVarAssign</a> <a id="13342" class="Symbol">:</a> <a id="13344" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="13347" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="13354" class="Symbol">(</a><a id="13355" href="Data.Product.html#1788" class="Function">∃[</a> <a id="13358" href="SMT.Script.html#13358" class="Bound">σ</a> <a id="13360" href="Data.Product.html#1788" class="Function">]</a> <a id="13362" class="Symbol">(</a><a id="13363" href="SMT.Script.html#12978" class="Bound">Γ</a> <a id="13365" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="13367" href="SMT.Script.html#13358" class="Bound">σ</a><a id="13368" class="Symbol">)</a> <a id="13370" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="13372" href="Data.Product.html#1788" class="Function">∃[</a> <a id="13375" href="SMT.Script.html#13375" class="Bound">σ</a> <a id="13377" href="Data.Product.html#1788" class="Function">]</a> <a id="13379" class="Symbol">(</a><a id="13380" href="SMT.Theory.html#1396" class="Field">Value</a> <a id="13386" href="SMT.Script.html#13375" class="Bound">σ</a><a id="13387" class="Symbol">))</a> <a id="13390" href="Relation.Unary.html#3359" class="Function">]</a>
      <a id="13398" href="SMT.Script.html#13321" class="Function">unsafeParseVarAssign</a> <a id="13419" class="Symbol">=</a>
        <a id="13429" href="Text.Parser.String.html#5406" class="Function">text</a> <a id="13434" class="String">&quot;define-fun&quot;</a> <a id="13447" href="Text.Parser.String.html#4243" class="Function Operator">&amp;&gt;</a> <a id="13450" href="Text.Parser.String.html#4324" class="Function">box</a> <a id="13454" class="Symbol">(</a><a id="13455" href="SMT.Script.html#12981" class="Bound">parseVarName</a> <a id="13468" href="Text.Parser.String.html#4072" class="Function Operator">&lt;&amp;&gt;</a> <a id="13472" href="Text.Parser.String.html#4324" class="Function">box</a> <a id="13476" class="Symbol">(</a><a id="13477" href="Text.Parser.String.html#5406" class="Function">text</a> <a id="13482" class="String">&quot;()&quot;</a> <a id="13487" href="Text.Parser.String.html#4243" class="Function Operator">&amp;&gt;</a> <a id="13490" href="Text.Parser.String.html#4324" class="Function">box</a> <a id="13494" href="SMT.Script.html#13128" class="Function">parseSortValue</a><a id="13508" class="Symbol">))</a>

      <a id="13518" class="Comment">-- Check if the expect and actual sorts correspond.</a>
      <a id="13576" href="SMT.Script.html#13576" class="Function">checkVarAssign</a> <a id="13591" class="Symbol">:</a> <a id="13593" href="Data.Product.html#1788" class="Function">∃[</a> <a id="13596" href="SMT.Script.html#13596" class="Bound">σ</a> <a id="13598" href="Data.Product.html#1788" class="Function">]</a> <a id="13600" class="Symbol">(</a><a id="13601" href="SMT.Script.html#12978" class="Bound">Γ</a> <a id="13603" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="13605" href="SMT.Script.html#13596" class="Bound">σ</a><a id="13606" class="Symbol">)</a> <a id="13608" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="13610" href="Data.Product.html#1788" class="Function">∃[</a> <a id="13613" href="SMT.Script.html#13613" class="Bound">σ</a> <a id="13615" href="Data.Product.html#1788" class="Function">]</a> <a id="13617" class="Symbol">(</a><a id="13618" href="SMT.Theory.html#1396" class="Field">Value</a> <a id="13624" href="SMT.Script.html#13613" class="Bound">σ</a><a id="13625" class="Symbol">)</a> <a id="13627" class="Symbol">→</a> <a id="13629" href="Agda.Builtin.Maybe.html#136" class="Datatype">Maybe</a> <a id="13635" class="Symbol">(</a><a id="13636" href="Data.Product.html#1788" class="Function">∃[</a> <a id="13639" href="SMT.Script.html#13639" class="Bound">σ</a> <a id="13641" href="Data.Product.html#1788" class="Function">]</a> <a id="13643" class="Symbol">(</a><a id="13644" href="SMT.Script.html#12978" class="Bound">Γ</a> <a id="13646" href="SMT.Script.html#821" class="Function Operator">∋</a> <a id="13648" href="SMT.Script.html#13639" class="Bound">σ</a> <a id="13650" href="Data.Product.html#1167" class="Function Operator">×</a> <a id="13652" href="SMT.Theory.html#1396" class="Field">Value</a> <a id="13658" href="SMT.Script.html#13639" class="Bound">σ</a><a id="13659" class="Symbol">))</a>
      <a id="13668" href="SMT.Script.html#13576" class="Function">checkVarAssign</a> <a id="13683" class="Symbol">((</a><a id="13685" href="SMT.Script.html#13685" class="Bound">σ₁</a> <a id="13688" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13690" href="SMT.Script.html#13690" class="Bound">x</a><a id="13691" class="Symbol">)</a> <a id="13693" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13695" class="Symbol">(</a><a id="13696" href="SMT.Script.html#13696" class="Bound">σ₂</a> <a id="13699" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13701" href="SMT.Script.html#13701" class="Bound">v</a><a id="13702" class="Symbol">))</a> <a id="13705" class="Keyword">with</a> <a id="13710" href="SMT.Script.html#13685" class="Bound">σ₁</a> <a id="13713" href="SMT.Theory.html#1316" class="Field Operator">≟-Sort</a> <a id="13720" href="SMT.Script.html#13696" class="Bound">σ₂</a>
      <a id="13729" class="Symbol">...</a> <a id="13733" class="Symbol">|</a> <a id="13735" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="13739" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a> <a id="13744" class="Symbol">=</a> <a id="13746" href="Agda.Builtin.Maybe.html#174" class="InductiveConstructor">just</a> <a id="13751" class="Symbol">(</a><a id="13752" class="Bound">σ₂</a> <a id="13755" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13757" class="Bound">x</a> <a id="13759" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="13761" class="Bound">v</a><a id="13762" class="Symbol">)</a>
      <a id="13770" class="Symbol">...</a> <a id="13774" class="Symbol">|</a> <a id="13776" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a>  <a id="13780" class="Symbol">_</a>    <a id="13785" class="Symbol">=</a> <a id="13787" href="Agda.Builtin.Maybe.html#195" class="InductiveConstructor">nothing</a>

  <a id="13798" class="Comment">-- TODO: connect the output of showScript, via parseVarAssign, to the parseResults function.</a>
  <a id="13893" class="Comment">-- parseModel : ∀[ Parser (∃[ σ ] (Γ ∋ σ)) ] → ∀[ Parser (Model Γ) ]</a>
  <a id="13964" class="Comment">-- parseModel parseVarName = {!!}</a>

  <a id="14001" class="Comment">-- |Parse a result.</a>
  <a id="Interaction.parseResult"></a><a id="14023" href="SMT.Script.html#14023" class="Function">parseResult</a> <a id="14035" class="Symbol">:</a> <a id="14037" class="Symbol">(</a><a id="14038" href="SMT.Script.html#14038" class="Bound">ξ</a> <a id="14040" class="Symbol">:</a> <a id="14042" href="SMT.Script.html#2430" class="Datatype">OutputType</a><a id="14052" class="Symbol">)</a> <a id="14054" class="Symbol">→</a> <a id="14056" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="14059" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="14066" class="Symbol">(</a><a id="14067" href="SMT.Script.html#3183" class="Function">Result</a> <a id="14074" href="SMT.Script.html#14038" class="Bound">ξ</a><a id="14075" class="Symbol">)</a> <a id="14077" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="14081" href="SMT.Script.html#14023" class="Function">parseResult</a> <a id="14093" href="SMT.Script.html#2455" class="InductiveConstructor">SAT</a>       <a id="14103" class="Symbol">=</a> <a id="14105" href="SMT.Script.html#12406" class="Function">parseSat</a>
  <a id="14116" href="SMT.Script.html#14023" class="Function">parseResult</a> <a id="14128" class="Symbol">(</a><a id="14129" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="14135" href="SMT.Script.html#14135" class="Bound">Γ</a><a id="14136" class="Symbol">)</a> <a id="14138" class="Symbol">=</a> <a id="14140" href="SMT.Script.html#14192" class="Postulate">notYetImplemented</a>
    <a id="14162" class="Keyword">where</a>
      <a id="14174" class="Keyword">postulate</a>
        <a id="14192" href="SMT.Script.html#14192" class="Postulate">notYetImplemented</a> <a id="14210" class="Symbol">:</a> <a id="14212" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="14215" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="14222" class="Symbol">(</a><a id="14223" href="SMT.Script.html#3183" class="Function">Result</a> <a id="14230" class="Symbol">(</a><a id="14231" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="14237" href="SMT.Script.html#14135" class="Bound">Γ</a><a id="14238" class="Symbol">))</a><a id="14240" href="Relation.Unary.html#3359" class="Function">]</a>

  <a id="14245" class="Comment">-- |Parse a list of results.</a>
  <a id="Interaction.parseResults"></a><a id="14276" href="SMT.Script.html#14276" class="Function">parseResults</a> <a id="14289" class="Symbol">:</a> <a id="14291" class="Symbol">(</a><a id="14292" href="SMT.Script.html#14292" class="Bound">ξ</a> <a id="14294" class="Symbol">:</a> <a id="14296" href="SMT.Script.html#2430" class="Datatype">OutputType</a><a id="14306" class="Symbol">)</a> <a id="14308" class="Symbol">(</a><a id="14309" href="SMT.Script.html#14309" class="Bound">Ξ</a> <a id="14311" class="Symbol">:</a> <a id="14313" href="SMT.Script.html#2524" class="Function">OutputCtxt</a><a id="14323" class="Symbol">)</a> <a id="14325" class="Symbol">→</a> <a id="14327" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="14330" href="Text.Parser.String.html#2571" class="Function">Parser</a> <a id="14337" class="Symbol">(</a><a id="14338" href="SMT.Script.html#3573" class="Datatype">Results</a> <a id="14346" class="Symbol">(</a><a id="14347" href="SMT.Script.html#14292" class="Bound">ξ</a> <a id="14349" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="14351" href="SMT.Script.html#14309" class="Bound">Ξ</a><a id="14352" class="Symbol">))</a> <a id="14355" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="14359" href="SMT.Script.html#14276" class="Function">parseResults</a> <a id="14372" href="SMT.Script.html#14372" class="Bound">ξ</a> <a id="14374" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="14377" class="Symbol">=</a> <a id="14379" class="Symbol">(</a><a id="14380" href="SMT.Script.html#3633" class="InductiveConstructor Operator">_∷</a> <a id="14383" href="SMT.Script.html#3614" class="InductiveConstructor">[]</a><a id="14385" class="Symbol">)</a> <a id="14387" href="Text.Parser.String.html#4562" class="Function Operator">&lt;$&gt;</a> <a id="14391" href="SMT.Script.html#14023" class="Function">parseResult</a> <a id="14403" href="SMT.Script.html#14372" class="Bound">ξ</a>
  <a id="14407" href="SMT.Script.html#14276" class="Function">parseResults</a> <a id="14420" href="SMT.Script.html#14420" class="Bound">ξ</a> <a id="14422" class="Symbol">(</a><a id="14423" href="SMT.Script.html#14423" class="Bound">ξ′</a> <a id="14426" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="14428" href="SMT.Script.html#14428" class="Bound">Ξ</a><a id="14429" class="Symbol">)</a> <a id="14431" class="Symbol">=</a> <a id="14433" href="SMT.Script.html#3633" class="InductiveConstructor Operator">_∷_</a> <a id="14437" href="Text.Parser.String.html#4562" class="Function Operator">&lt;$&gt;</a> <a id="14441" href="SMT.Script.html#14023" class="Function">parseResult</a> <a id="14453" href="SMT.Script.html#14420" class="Bound">ξ</a> <a id="14455" href="Text.Parser.String.html#4746" class="Function Operator">&lt;*&gt;</a> <a id="14459" href="Text.Parser.String.html#4324" class="Function">box</a> <a id="14463" class="Symbol">(</a><a id="14464" href="SMT.Script.html#14276" class="Function">parseResults</a> <a id="14477" href="SMT.Script.html#14423" class="Bound">ξ′</a> <a id="14480" href="SMT.Script.html#14428" class="Bound">Ξ</a><a id="14481" class="Symbol">)</a>


  <a id="14487" class="Comment">-- |Quote a satisfiability result.</a>
  <a id="Interaction.quoteSat"></a><a id="14524" href="SMT.Script.html#14524" class="Function">quoteSat</a> <a id="14533" class="Symbol">:</a> <a id="14535" href="SMT.Script.html#2674" class="Datatype">Sat</a> <a id="14539" class="Symbol">→</a> <a id="14541" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Reflection.Term</a>
  <a id="14559" href="SMT.Script.html#14524" class="Function">quoteSat</a> <a id="14568" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a>     <a id="14576" class="Symbol">=</a> <a id="14578" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="14582" class="Symbol">(</a><a id="14583" class="Keyword">quote</a> <a id="14589" href="SMT.Script.html#2692" class="InductiveConstructor">sat</a><a id="14592" class="Symbol">)</a> <a id="14594" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="14599" href="SMT.Script.html#14524" class="Function">quoteSat</a> <a id="14608" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a>   <a id="14616" class="Symbol">=</a> <a id="14618" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="14622" class="Symbol">(</a><a id="14623" class="Keyword">quote</a> <a id="14629" href="SMT.Script.html#2708" class="InductiveConstructor">unsat</a><a id="14634" class="Symbol">)</a> <a id="14636" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="14641" href="SMT.Script.html#14524" class="Function">quoteSat</a> <a id="14650" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a> <a id="14658" class="Symbol">=</a> <a id="14660" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="14664" class="Symbol">(</a><a id="14665" class="Keyword">quote</a> <a id="14671" href="SMT.Script.html#2724" class="InductiveConstructor">unknown</a><a id="14678" class="Symbol">)</a> <a id="14680" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

  <a id="14686" class="Comment">-- |Quote a result.</a>
  <a id="Interaction.quoteResult"></a><a id="14708" href="SMT.Script.html#14708" class="Function">quoteResult</a> <a id="14720" class="Symbol">:</a> <a id="14722" href="SMT.Script.html#3183" class="Function">Result</a> <a id="14729" href="SMT.Script.html#2594" class="Generalizable">ξ</a> <a id="14731" class="Symbol">→</a> <a id="14733" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Reflection.Term</a>
  <a id="14751" href="SMT.Script.html#14708" class="Function">quoteResult</a> <a id="14763" class="Symbol">{</a><a id="14764" href="SMT.Script.html#2455" class="InductiveConstructor">SAT</a><a id="14767" class="Symbol">}</a>     <a id="14773" href="SMT.Script.html#14773" class="Bound">r</a> <a id="14775" class="Symbol">=</a> <a id="14777" href="SMT.Script.html#14524" class="Function">quoteSat</a> <a id="14786" href="SMT.Script.html#14773" class="Bound">r</a>
  <a id="14790" href="SMT.Script.html#14708" class="Function">quoteResult</a> <a id="14802" class="Symbol">{</a><a id="14803" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="14809" href="SMT.Script.html#14809" class="Bound">Γ</a><a id="14810" class="Symbol">}</a> <a id="14812" href="SMT.Script.html#14812" class="Bound">r</a> <a id="14814" class="Symbol">=</a> <a id="14816" href="SMT.Script.html#14870" class="Postulate">notYetImplemented</a> <a id="14834" href="SMT.Script.html#14812" class="Bound">r</a>
    <a id="14840" class="Keyword">where</a>
      <a id="14852" class="Keyword">postulate</a>
        <a id="14870" href="SMT.Script.html#14870" class="Postulate">notYetImplemented</a> <a id="14888" class="Symbol">:</a> <a id="14890" href="SMT.Script.html#3183" class="Function">Result</a> <a id="14897" class="Symbol">(</a><a id="14898" href="SMT.Script.html#2476" class="InductiveConstructor">MODEL</a> <a id="14904" href="SMT.Script.html#14809" class="Bound">Γ</a><a id="14905" class="Symbol">)</a> <a id="14907" class="Symbol">→</a> <a id="14909" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Reflection.Term</a>

  <a id="14928" class="Comment">-- |Quote a list of results.</a>
  <a id="Interaction.quoteResults"></a><a id="14959" href="SMT.Script.html#14959" class="Function">quoteResults</a> <a id="14972" class="Symbol">:</a> <a id="14974" href="SMT.Script.html#3573" class="Datatype">Results</a> <a id="14982" href="SMT.Script.html#2619" class="Generalizable">Ξ</a> <a id="14984" class="Symbol">→</a> <a id="14986" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Reflection.Term</a>
  <a id="15004" href="SMT.Script.html#14959" class="Function">quoteResults</a> <a id="15017" href="SMT.Script.html#3614" class="InductiveConstructor">[]</a> <a id="15020" class="Symbol">=</a> <a id="15022" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="15026" class="Symbol">(</a><a id="15027" class="Keyword">quote</a> <a id="15033" href="SMT.Script.html#3614" class="InductiveConstructor">Results.[]</a><a id="15043" class="Symbol">)</a> <a id="15045" href="Function.Base.html#1577" class="Function Operator">$</a> <a id="15047" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="15052" href="SMT.Script.html#14959" class="Function">quoteResults</a> <a id="15065" class="Symbol">(</a><a id="15066" href="SMT.Script.html#15066" class="Bound">r</a> <a id="15068" href="SMT.Script.html#3633" class="InductiveConstructor Operator">∷</a> <a id="15070" href="SMT.Script.html#15070" class="Bound">rs</a><a id="15072" class="Symbol">)</a> <a id="15074" class="Symbol">=</a> <a id="15076" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="15080" class="Symbol">(</a><a id="15081" class="Keyword">quote</a> <a id="15087" href="SMT.Script.html#3633" class="InductiveConstructor Operator">Results._∷_</a><a id="15098" class="Symbol">)</a> <a id="15100" href="Function.Base.html#1577" class="Function Operator">$</a> <a id="15102" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="15107" class="Symbol">(</a><a id="15108" href="SMT.Script.html#14708" class="Function">quoteResult</a> <a id="15120" href="SMT.Script.html#15066" class="Bound">r</a><a id="15121" class="Symbol">)</a> <a id="15123" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15125" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="15130" class="Symbol">(</a><a id="15131" href="SMT.Script.html#14959" class="Function">quoteResults</a> <a id="15144" href="SMT.Script.html#15070" class="Bound">rs</a><a id="15146" class="Symbol">)</a> <a id="15148" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="15150" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>

<a id="15154" class="Comment">-- -}</a>
<a id="15160" class="Comment">-- -}</a>
<a id="15166" class="Comment">-- -}</a>
<a id="15172" class="Comment">-- -}</a>
<a id="15178" class="Comment">-- -}</a>
</pre></body></html>