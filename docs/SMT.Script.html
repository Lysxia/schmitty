<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>SMT.Script</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Keyword">open</a> <a id="6" class="Keyword">import</a> <a id="13" href="SMT.Theory.html" class="Module">SMT.Theory</a>

<a id="25" class="Keyword">module</a> <a id="32" href="SMT.Script.html" class="Module">SMT.Script</a> <a id="43" class="Symbol">(</a><a id="44" href="SMT.Script.html#44" class="Bound">theory</a> <a id="51" class="Symbol">:</a> <a id="53" href="SMT.Theory.html#700" class="Record">Theory</a><a id="59" class="Symbol">)</a> <a id="61" class="Keyword">where</a>

<a id="68" class="Keyword">open</a> <a id="73" class="Keyword">import</a> <a id="80" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="89" class="Symbol">as</a> <a id="92" class="Module">Fin</a> <a id="96" class="Keyword">using</a> <a id="102" class="Symbol">(</a><a id="103" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a><a id="106" class="Symbol">)</a>
<a id="108" class="Keyword">open</a> <a id="113" class="Keyword">import</a> <a id="120" href="Data.List.html" class="Module">Data.List</a> <a id="130" class="Symbol">as</a> <a id="133" class="Module">List</a> <a id="138" class="Keyword">using</a> <a id="144" class="Symbol">(</a><a id="145" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="149" class="Symbol">;</a> <a id="151" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="154" class="Symbol">;</a> <a id="156" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="158" class="Symbol">)</a>
<a id="160" class="Keyword">open</a> <a id="165" class="Keyword">import</a> <a id="172" href="Data.Product.html" class="Module">Data.Product</a> <a id="185" class="Keyword">using</a> <a id="191" class="Symbol">(</a><a id="192" href="Data.Product.html#1369" class="Function">∃</a><a id="193" class="Symbol">;</a> <a id="195" href="Data.Product.html#1788" class="Function">∃-syntax</a><a id="203" class="Symbol">;</a> <a id="205" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="208" class="Symbol">)</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="Level.html" class="Module">Level</a> <a id="228" class="Keyword">using</a> <a id="234" class="Symbol">(</a><a id="235" href="Level.html#400" class="Record">Lift</a><a id="239" class="Symbol">;</a> <a id="241" href="Level.html#457" class="InductiveConstructor">lift</a><a id="245" class="Symbol">;</a> <a id="247" href="Level.html#470" class="Field">lower</a><a id="252" class="Symbol">;</a> <a id="254" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a><a id="257" class="Symbol">)</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="288" class="Keyword">using</a> <a id="294" class="Symbol">(</a><a id="295" href="Relation.Nullary.html#1508" class="Record">Dec</a><a id="298" class="Symbol">;</a> <a id="300" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a><a id="303" class="Symbol">;</a> <a id="305" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a><a id="307" class="Symbol">)</a>
<a id="309" class="Keyword">open</a> <a id="314" class="Keyword">import</a> <a id="321" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="348" class="Keyword">using</a> <a id="354" class="Symbol">(</a><a id="355" href="Relation.Nullary.Decidable.Core.html#1365" class="Function">True</a><a id="359" class="Symbol">)</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="411" class="Keyword">using</a> <a id="417" class="Symbol">(</a><a id="418" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="421" class="Symbol">;</a> <a id="423" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="427" class="Symbol">)</a>
<a id="429" class="Keyword">open</a> <a id="434" class="Keyword">import</a> <a id="441" href="SMT.Logics.html" class="Module">SMT.Logics</a>

<a id="453" class="Keyword">open</a> <a id="458" href="SMT.Theory.html#700" class="Module">Theory</a> <a id="465" href="SMT.Script.html#44" class="Bound">theory</a>


<a id="474" class="Comment">-------------------</a>
<a id="494" class="Comment">-- SMT-LIB Terms --</a>
<a id="514" class="Comment">-------------------</a>

<a id="535" class="Comment">-- |Typing contexts.</a>
<a id="Ctxt"></a><a id="556" href="SMT.Script.html#556" class="Function">Ctxt</a> <a id="561" class="Symbol">:</a> <a id="563" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="567" href="SMT.Script.html#556" class="Function">Ctxt</a> <a id="572" class="Symbol">=</a> <a id="574" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="579" href="SMT.Theory.html#732" class="Field">Sort</a>

<a id="585" class="Keyword">private</a>
  <a id="595" class="Keyword">variable</a>
    <a id="608" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="610" href="SMT.Script.html#610" class="Generalizable">σ′</a>    <a id="616" class="Symbol">:</a> <a id="618" href="SMT.Theory.html#732" class="Field">Sort</a>
    <a id="627" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="629" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="632" href="SMT.Script.html#632" class="Generalizable">Γ″</a> <a id="635" class="Symbol">:</a> <a id="637" href="SMT.Script.html#556" class="Function">Ctxt</a>
    <a id="646" href="SMT.Script.html#646" class="Generalizable">Δ</a> <a id="648" href="SMT.Script.html#648" class="Generalizable">Δ′</a>    <a id="654" class="Symbol">:</a> <a id="656" href="SMT.Script.html#556" class="Function">Ctxt</a>
    <a id="665" href="SMT.Script.html#665" class="Generalizable">Σ</a>       <a id="673" class="Symbol">:</a> <a id="675" href="SMT.Theory.html#180" class="Record">Signature</a> <a id="685" href="SMT.Script.html#608" class="Generalizable">σ</a>
    <a id="691" href="SMT.Script.html#691" class="Generalizable">Σ′</a>      <a id="699" class="Symbol">:</a> <a id="701" href="SMT.Theory.html#180" class="Record">Signature</a> <a id="711" href="SMT.Script.html#610" class="Generalizable">σ′</a>

<a id="715" class="Comment">-- |Well-typed variables.</a>
<a id="_∋_"></a><a id="741" href="SMT.Script.html#741" class="Function Operator">_∋_</a> <a id="745" class="Symbol">:</a> <a id="747" class="Symbol">(</a><a id="748" href="SMT.Script.html#748" class="Bound">Γ</a> <a id="750" class="Symbol">:</a> <a id="752" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="756" class="Symbol">)</a> <a id="758" class="Symbol">(</a><a id="759" href="SMT.Script.html#759" class="Bound">σ</a> <a id="761" class="Symbol">:</a> <a id="763" href="SMT.Theory.html#732" class="Field">Sort</a><a id="767" class="Symbol">)</a> <a id="769" class="Symbol">→</a> <a id="771" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="775" href="SMT.Script.html#775" class="Bound">Γ</a> <a id="777" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="779" href="SMT.Script.html#779" class="Bound">σ</a> <a id="781" class="Symbol">=</a> <a id="783" href="Data.Product.html#1788" class="Function">∃[</a> <a id="786" href="SMT.Script.html#786" class="Bound">i</a> <a id="788" href="Data.Product.html#1788" class="Function">]</a> <a id="790" class="Symbol">(</a><a id="791" href="Data.List.Base.html#5816" class="Function">List.lookup</a> <a id="803" href="SMT.Script.html#775" class="Bound">Γ</a> <a id="805" href="SMT.Script.html#786" class="Bound">i</a> <a id="807" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="809" href="SMT.Script.html#779" class="Bound">σ</a><a id="810" class="Symbol">)</a>

<a id="813" class="Comment">-- |SMT-LIB terms.</a>
<a id="832" class="Comment">--</a>
<a id="835" class="Comment">--  NOTE: match expressions are omitted, since we have no plans at the moment</a>
<a id="913" class="Comment">--        to support datatype sorts.</a>
<a id="950" class="Keyword">mutual</a>
  <a id="959" class="Keyword">data</a> <a id="Term"></a><a id="964" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="969" class="Symbol">(</a><a id="970" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="972" class="Symbol">:</a> <a id="974" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="978" class="Symbol">)</a> <a id="980" class="Symbol">:</a> <a id="982" class="Symbol">(</a><a id="983" href="SMT.Script.html#983" class="Bound">σ</a> <a id="985" class="Symbol">:</a> <a id="987" href="SMT.Theory.html#732" class="Field">Sort</a><a id="991" class="Symbol">)</a> <a id="993" class="Symbol">→</a> <a id="995" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="999" class="Keyword">where</a>
    <a id="Term.var"></a><a id="1009" href="SMT.Script.html#1009" class="InductiveConstructor">var</a>    <a id="1016" class="Symbol">:</a> <a id="1018" class="Symbol">∀</a> <a id="1020" class="Symbol">{</a><a id="1021" href="SMT.Script.html#1021" class="Bound">σ</a><a id="1022" class="Symbol">}</a> <a id="1024" class="Symbol">(</a><a id="1025" href="SMT.Script.html#1025" class="Bound">x</a> <a id="1027" class="Symbol">:</a> <a id="1029" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1031" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="1033" href="SMT.Script.html#1021" class="Bound">σ</a><a id="1034" class="Symbol">)</a> <a id="1036" class="Symbol">→</a> <a id="1038" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1043" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1045" href="SMT.Script.html#1021" class="Bound">σ</a>
    <a id="Term.lit"></a><a id="1051" href="SMT.Script.html#1051" class="InductiveConstructor">lit</a>    <a id="1058" class="Symbol">:</a> <a id="1060" class="Symbol">∀</a> <a id="1062" class="Symbol">{</a><a id="1063" href="SMT.Script.html#1063" class="Bound">σ</a><a id="1064" class="Symbol">}</a> <a id="1066" class="Symbol">(</a><a id="1067" href="SMT.Script.html#1067" class="Bound">l</a> <a id="1069" class="Symbol">:</a> <a id="1071" href="SMT.Theory.html#775" class="Field">Literal</a> <a id="1079" href="SMT.Script.html#1063" class="Bound">σ</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1089" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1091" href="SMT.Script.html#1063" class="Bound">σ</a>
    <a id="Term.app"></a><a id="1097" href="SMT.Script.html#1097" class="InductiveConstructor">app</a>    <a id="1104" class="Symbol">:</a> <a id="1106" class="Symbol">∀</a> <a id="1108" class="Symbol">{</a><a id="1109" href="SMT.Script.html#1109" class="Bound">σ</a><a id="1110" class="Symbol">}</a> <a id="1112" class="Symbol">{</a><a id="1113" href="SMT.Script.html#1113" class="Bound">Σ</a> <a id="1115" class="Symbol">:</a> <a id="1117" href="SMT.Theory.html#180" class="Record">Signature</a> <a id="1127" href="SMT.Script.html#1109" class="Bound">σ</a><a id="1128" class="Symbol">}</a> <a id="1130" class="Symbol">(</a><a id="1131" href="SMT.Script.html#1131" class="Bound">x</a> <a id="1133" class="Symbol">:</a> <a id="1135" href="SMT.Theory.html#803" class="Field">Identifier</a> <a id="1146" href="SMT.Script.html#1113" class="Bound">Σ</a><a id="1147" class="Symbol">)</a> <a id="1149" class="Symbol">(</a><a id="1150" href="SMT.Script.html#1150" class="Bound">xs</a> <a id="1153" class="Symbol">:</a> <a id="1155" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="1160" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1162" class="Symbol">(</a><a id="1163" href="SMT.Theory.html#238" class="Field">ArgTypes</a> <a id="1172" href="SMT.Script.html#1113" class="Bound">Σ</a><a id="1173" class="Symbol">))</a> <a id="1176" class="Symbol">→</a> <a id="1178" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1183" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1185" href="SMT.Script.html#1109" class="Bound">σ</a>
    <a id="Term.forAll"></a><a id="1191" href="SMT.Script.html#1191" class="InductiveConstructor">forAll</a> <a id="1198" class="Symbol">:</a> <a id="1200" class="Symbol">∀</a> <a id="1202" class="Symbol">{</a><a id="1203" href="SMT.Script.html#1203" class="Bound">σ</a><a id="1204" class="Symbol">}</a> <a id="1206" class="Symbol">(</a><a id="1207" href="SMT.Script.html#1207" class="Bound">x</a> <a id="1209" class="Symbol">:</a> <a id="1211" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1216" class="Symbol">(</a><a id="1217" href="SMT.Script.html#1203" class="Bound">σ</a> <a id="1219" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1221" href="SMT.Script.html#970" class="Bound">Γ</a><a id="1222" class="Symbol">)</a> <a id="1224" href="SMT.Theory.html#753" class="Field">BOOL</a><a id="1228" class="Symbol">)</a> <a id="1230" class="Symbol">→</a> <a id="1232" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1237" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1239" href="SMT.Theory.html#753" class="Field">BOOL</a>
    <a id="Term.exists"></a><a id="1248" href="SMT.Script.html#1248" class="InductiveConstructor">exists</a> <a id="1255" class="Symbol">:</a> <a id="1257" class="Symbol">∀</a> <a id="1259" class="Symbol">{</a><a id="1260" href="SMT.Script.html#1260" class="Bound">σ</a><a id="1261" class="Symbol">}</a> <a id="1263" class="Symbol">(</a><a id="1264" href="SMT.Script.html#1264" class="Bound">x</a> <a id="1266" class="Symbol">:</a> <a id="1268" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1273" class="Symbol">(</a><a id="1274" href="SMT.Script.html#1260" class="Bound">σ</a> <a id="1276" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1278" href="SMT.Script.html#970" class="Bound">Γ</a><a id="1279" class="Symbol">)</a> <a id="1281" href="SMT.Theory.html#753" class="Field">BOOL</a><a id="1285" class="Symbol">)</a> <a id="1287" class="Symbol">→</a> <a id="1289" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1294" href="SMT.Script.html#970" class="Bound">Γ</a> <a id="1296" href="SMT.Theory.html#753" class="Field">BOOL</a>

  <a id="1304" class="Keyword">data</a> <a id="Args"></a><a id="1309" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="1314" class="Symbol">(</a><a id="1315" href="SMT.Script.html#1315" class="Bound">Γ</a> <a id="1317" class="Symbol">:</a> <a id="1319" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="1323" class="Symbol">)</a> <a id="1325" class="Symbol">:</a> <a id="1327" class="Symbol">(</a><a id="1328" href="SMT.Script.html#1328" class="Bound">Δ</a> <a id="1330" class="Symbol">:</a> <a id="1332" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="1336" class="Symbol">)</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1344" class="Keyword">where</a>
    <a id="Args.[]"></a><a id="1354" href="SMT.Script.html#1354" class="InductiveConstructor">[]</a>  <a id="1358" class="Symbol">:</a> <a id="1360" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="1365" href="SMT.Script.html#1315" class="Bound">Γ</a> <a id="1367" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="Args._∷_"></a><a id="1374" href="SMT.Script.html#1374" class="InductiveConstructor Operator">_∷_</a> <a id="1378" class="Symbol">:</a> <a id="1380" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1385" href="SMT.Script.html#1315" class="Bound">Γ</a> <a id="1387" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="1389" class="Symbol">→</a> <a id="1391" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="1396" href="SMT.Script.html#1315" class="Bound">Γ</a> <a id="1398" href="SMT.Script.html#646" class="Generalizable">Δ</a> <a id="1400" class="Symbol">→</a> <a id="1402" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="1407" href="SMT.Script.html#1315" class="Bound">Γ</a> <a id="1409" class="Symbol">(</a><a id="1410" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="1412" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1414" href="SMT.Script.html#646" class="Generalizable">Δ</a><a id="1415" class="Symbol">)</a>

<a id="1418" class="Keyword">pattern</a> <a id="app₁"></a><a id="1426" href="SMT.Script.html#1426" class="InductiveConstructor">app₁</a> <a id="1431" href="SMT.Script.html#1445" class="Bound">f</a> <a id="1433" href="SMT.Script.html#1448" class="Bound">x</a>     <a id="1439" class="Symbol">=</a> <a id="1441" href="SMT.Script.html#1097" class="InductiveConstructor">app</a> <a id="1445" href="SMT.Script.html#1445" class="Bound">f</a> <a id="1447" class="Symbol">(</a><a id="1448" href="SMT.Script.html#1448" class="Bound">x</a> <a id="1450" class="InductiveConstructor Operator">∷</a> <a id="1452" class="InductiveConstructor">[]</a><a id="1454" class="Symbol">)</a>
<a id="1456" class="Keyword">pattern</a> <a id="app₂"></a><a id="1464" href="SMT.Script.html#1464" class="InductiveConstructor">app₂</a> <a id="1469" href="SMT.Script.html#1483" class="Bound">f</a> <a id="1471" href="SMT.Script.html#1486" class="Bound">x</a> <a id="1473" href="SMT.Script.html#1490" class="Bound">y</a>   <a id="1477" class="Symbol">=</a> <a id="1479" href="SMT.Script.html#1097" class="InductiveConstructor">app</a> <a id="1483" href="SMT.Script.html#1483" class="Bound">f</a> <a id="1485" class="Symbol">(</a><a id="1486" href="SMT.Script.html#1486" class="Bound">x</a> <a id="1488" class="InductiveConstructor Operator">∷</a> <a id="1490" href="SMT.Script.html#1490" class="Bound">y</a> <a id="1492" class="InductiveConstructor Operator">∷</a> <a id="1494" class="InductiveConstructor">[]</a><a id="1496" class="Symbol">)</a>
<a id="1498" class="Keyword">pattern</a> <a id="app₃"></a><a id="1506" href="SMT.Script.html#1506" class="InductiveConstructor">app₃</a> <a id="1511" href="SMT.Script.html#1525" class="Bound">f</a> <a id="1513" href="SMT.Script.html#1528" class="Bound">x</a> <a id="1515" href="SMT.Script.html#1532" class="Bound">y</a> <a id="1517" href="SMT.Script.html#1536" class="Bound">z</a> <a id="1519" class="Symbol">=</a> <a id="1521" href="SMT.Script.html#1097" class="InductiveConstructor">app</a> <a id="1525" href="SMT.Script.html#1525" class="Bound">f</a> <a id="1527" class="Symbol">(</a><a id="1528" href="SMT.Script.html#1528" class="Bound">x</a> <a id="1530" class="InductiveConstructor Operator">∷</a> <a id="1532" href="SMT.Script.html#1532" class="Bound">y</a> <a id="1534" class="InductiveConstructor Operator">∷</a> <a id="1536" href="SMT.Script.html#1536" class="Bound">z</a> <a id="1538" class="InductiveConstructor Operator">∷</a> <a id="1540" class="InductiveConstructor">[]</a><a id="1542" class="Symbol">)</a>

<a id="Rename"></a><a id="1545" href="SMT.Script.html#1545" class="Function">Rename</a> <a id="1552" class="Symbol">:</a> <a id="1554" class="Symbol">(</a><a id="1555" href="SMT.Script.html#1555" class="Bound">Γ</a> <a id="1557" href="SMT.Script.html#1557" class="Bound">Δ</a> <a id="1559" class="Symbol">:</a> <a id="1561" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="1565" class="Symbol">)</a> <a id="1567" class="Symbol">→</a> <a id="1569" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="1573" href="SMT.Script.html#1545" class="Function">Rename</a> <a id="1580" href="SMT.Script.html#1580" class="Bound">Γ</a> <a id="1582" href="SMT.Script.html#1582" class="Bound">Δ</a> <a id="1584" class="Symbol">=</a> <a id="1586" class="Symbol">∀</a> <a id="1588" class="Symbol">{</a><a id="1589" href="SMT.Script.html#1589" class="Bound">σ</a><a id="1590" class="Symbol">}</a> <a id="1592" class="Symbol">→</a> <a id="1594" href="SMT.Script.html#1580" class="Bound">Γ</a> <a id="1596" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="1598" href="SMT.Script.html#1589" class="Bound">σ</a> <a id="1600" class="Symbol">→</a> <a id="1602" href="SMT.Script.html#1582" class="Bound">Δ</a> <a id="1604" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="1606" href="SMT.Script.html#1589" class="Bound">σ</a>

<a id="extendVar"></a><a id="1609" href="SMT.Script.html#1609" class="Function">extendVar</a> <a id="1619" class="Symbol">:</a> <a id="1621" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="1623" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="1625" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="1627" class="Symbol">→</a> <a id="1629" class="Symbol">(</a><a id="1630" href="SMT.Script.html#610" class="Generalizable">σ′</a> <a id="1633" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1635" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="1636" class="Symbol">)</a> <a id="1638" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="1640" href="SMT.Script.html#608" class="Generalizable">σ</a>
<a id="1642" href="SMT.Script.html#1609" class="Function">extendVar</a> <a id="1652" class="Symbol">(</a><a id="1653" href="SMT.Script.html#1653" class="Bound">i</a> <a id="1655" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1657" href="SMT.Script.html#1657" class="Bound">p</a><a id="1658" class="Symbol">)</a> <a id="1660" class="Symbol">=</a> <a id="1662" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="1670" href="SMT.Script.html#1653" class="Bound">i</a> <a id="1672" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1674" href="SMT.Script.html#1657" class="Bound">p</a>

<a id="extendRename"></a><a id="1677" href="SMT.Script.html#1677" class="Function">extendRename</a> <a id="1690" class="Symbol">:</a> <a id="1692" href="SMT.Script.html#1545" class="Function">Rename</a> <a id="1699" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="1701" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="1704" class="Symbol">→</a> <a id="1706" href="SMT.Script.html#1545" class="Function">Rename</a> <a id="1713" class="Symbol">(</a><a id="1714" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="1716" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1718" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="1719" class="Symbol">)</a> <a id="1721" class="Symbol">(</a><a id="1722" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="1724" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1726" href="SMT.Script.html#629" class="Generalizable">Γ′</a><a id="1728" class="Symbol">)</a>
<a id="1730" href="SMT.Script.html#1677" class="Function">extendRename</a> <a id="1743" href="SMT.Script.html#1743" class="Bound">r</a> <a id="1745" class="Symbol">(</a><a id="1746" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a>  <a id="1756" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1758" href="SMT.Script.html#1758" class="Bound">p</a><a id="1759" class="Symbol">)</a> <a id="1761" class="Symbol">=</a> <a id="1763" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a> <a id="1772" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1774" href="SMT.Script.html#1758" class="Bound">p</a>
<a id="1776" href="SMT.Script.html#1677" class="Function">extendRename</a> <a id="1789" href="SMT.Script.html#1789" class="Bound">r</a> <a id="1791" class="Symbol">(</a><a id="1792" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="1800" href="SMT.Script.html#1800" class="Bound">i</a> <a id="1802" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1804" href="SMT.Script.html#1804" class="Bound">p</a><a id="1805" class="Symbol">)</a> <a id="1807" class="Symbol">=</a> <a id="1809" href="SMT.Script.html#1609" class="Function">extendVar</a> <a id="1819" class="Symbol">(</a><a id="1820" href="SMT.Script.html#1789" class="Bound">r</a> <a id="1822" class="Symbol">(</a><a id="1823" href="SMT.Script.html#1800" class="Bound">i</a> <a id="1825" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="1827" href="SMT.Script.html#1804" class="Bound">p</a><a id="1828" class="Symbol">))</a>

<a id="1832" class="Keyword">mutual</a>
  <a id="rename"></a><a id="1841" href="SMT.Script.html#1841" class="Function">rename</a> <a id="1848" class="Symbol">:</a> <a id="1850" href="SMT.Script.html#1545" class="Function">Rename</a> <a id="1857" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="1859" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="1862" class="Symbol">→</a> <a id="1864" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1869" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="1871" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="1873" class="Symbol">→</a> <a id="1875" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="1880" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="1883" href="SMT.Script.html#608" class="Generalizable">σ</a>
  <a id="1887" href="SMT.Script.html#1841" class="Function">rename</a> <a id="1894" href="SMT.Script.html#1894" class="Bound">r</a> <a id="1896" class="Symbol">(</a><a id="1897" href="SMT.Script.html#1009" class="InductiveConstructor">var</a> <a id="1901" href="SMT.Script.html#1901" class="Bound">i</a><a id="1902" class="Symbol">)</a>    <a id="1907" class="Symbol">=</a> <a id="1909" href="SMT.Script.html#1009" class="InductiveConstructor">var</a> <a id="1913" class="Symbol">(</a><a id="1914" href="SMT.Script.html#1894" class="Bound">r</a> <a id="1916" href="SMT.Script.html#1901" class="Bound">i</a><a id="1917" class="Symbol">)</a>
  <a id="1921" href="SMT.Script.html#1841" class="Function">rename</a> <a id="1928" href="SMT.Script.html#1928" class="Bound">r</a> <a id="1930" class="Symbol">(</a><a id="1931" href="SMT.Script.html#1051" class="InductiveConstructor">lit</a> <a id="1935" href="SMT.Script.html#1935" class="Bound">l</a><a id="1936" class="Symbol">)</a>    <a id="1941" class="Symbol">=</a> <a id="1943" href="SMT.Script.html#1051" class="InductiveConstructor">lit</a> <a id="1947" href="SMT.Script.html#1935" class="Bound">l</a>
  <a id="1951" href="SMT.Script.html#1841" class="Function">rename</a> <a id="1958" href="SMT.Script.html#1958" class="Bound">r</a> <a id="1960" class="Symbol">(</a><a id="1961" href="SMT.Script.html#1097" class="InductiveConstructor">app</a> <a id="1965" href="SMT.Script.html#1965" class="Bound">x</a> <a id="1967" href="SMT.Script.html#1967" class="Bound">xs</a><a id="1969" class="Symbol">)</a> <a id="1971" class="Symbol">=</a> <a id="1973" href="SMT.Script.html#1097" class="InductiveConstructor">app</a> <a id="1977" href="SMT.Script.html#1965" class="Bound">x</a> <a id="1979" class="Symbol">(</a><a id="1980" href="SMT.Script.html#2118" class="Function">renameArgs</a> <a id="1991" href="SMT.Script.html#1958" class="Bound">r</a> <a id="1993" href="SMT.Script.html#1967" class="Bound">xs</a><a id="1995" class="Symbol">)</a>
  <a id="1999" href="SMT.Script.html#1841" class="Function">rename</a> <a id="2006" href="SMT.Script.html#2006" class="Bound">r</a> <a id="2008" class="Symbol">(</a><a id="2009" href="SMT.Script.html#1191" class="InductiveConstructor">forAll</a> <a id="2016" href="SMT.Script.html#2016" class="Bound">x</a><a id="2017" class="Symbol">)</a> <a id="2019" class="Symbol">=</a> <a id="2021" href="SMT.Script.html#1191" class="InductiveConstructor">forAll</a> <a id="2028" class="Symbol">(</a><a id="2029" href="SMT.Script.html#1841" class="Function">rename</a> <a id="2036" class="Symbol">(</a><a id="2037" href="SMT.Script.html#1677" class="Function">extendRename</a> <a id="2050" href="SMT.Script.html#2006" class="Bound">r</a><a id="2051" class="Symbol">)</a> <a id="2053" href="SMT.Script.html#2016" class="Bound">x</a><a id="2054" class="Symbol">)</a>
  <a id="2058" href="SMT.Script.html#1841" class="Function">rename</a> <a id="2065" href="SMT.Script.html#2065" class="Bound">r</a> <a id="2067" class="Symbol">(</a><a id="2068" href="SMT.Script.html#1248" class="InductiveConstructor">exists</a> <a id="2075" href="SMT.Script.html#2075" class="Bound">x</a><a id="2076" class="Symbol">)</a> <a id="2078" class="Symbol">=</a> <a id="2080" href="SMT.Script.html#1248" class="InductiveConstructor">exists</a> <a id="2087" class="Symbol">(</a><a id="2088" href="SMT.Script.html#1841" class="Function">rename</a> <a id="2095" class="Symbol">(</a><a id="2096" href="SMT.Script.html#1677" class="Function">extendRename</a> <a id="2109" href="SMT.Script.html#2065" class="Bound">r</a><a id="2110" class="Symbol">)</a> <a id="2112" href="SMT.Script.html#2075" class="Bound">x</a><a id="2113" class="Symbol">)</a>

  <a id="renameArgs"></a><a id="2118" href="SMT.Script.html#2118" class="Function">renameArgs</a> <a id="2129" class="Symbol">:</a> <a id="2131" href="SMT.Script.html#1545" class="Function">Rename</a> <a id="2138" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="2140" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="2143" class="Symbol">→</a> <a id="2145" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="2150" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="2152" href="SMT.Script.html#646" class="Generalizable">Δ</a> <a id="2154" class="Symbol">→</a> <a id="2156" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="2161" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="2164" href="SMT.Script.html#646" class="Generalizable">Δ</a>
  <a id="2168" href="SMT.Script.html#2118" class="Function">renameArgs</a> <a id="2179" href="SMT.Script.html#2179" class="Bound">r</a> <a id="2181" href="SMT.Script.html#1354" class="InductiveConstructor">[]</a> <a id="2184" class="Symbol">=</a> <a id="2186" href="SMT.Script.html#1354" class="InductiveConstructor">[]</a>
  <a id="2191" href="SMT.Script.html#2118" class="Function">renameArgs</a> <a id="2202" href="SMT.Script.html#2202" class="Bound">r</a> <a id="2204" class="Symbol">(</a><a id="2205" href="SMT.Script.html#2205" class="Bound">x</a> <a id="2207" href="SMT.Script.html#1374" class="InductiveConstructor Operator">∷</a> <a id="2209" href="SMT.Script.html#2209" class="Bound">xs</a><a id="2211" class="Symbol">)</a> <a id="2213" class="Symbol">=</a> <a id="2215" href="SMT.Script.html#1841" class="Function">rename</a> <a id="2222" href="SMT.Script.html#2202" class="Bound">r</a> <a id="2224" href="SMT.Script.html#2205" class="Bound">x</a> <a id="2226" href="SMT.Script.html#1374" class="InductiveConstructor Operator">∷</a> <a id="2228" href="SMT.Script.html#2118" class="Function">renameArgs</a> <a id="2239" href="SMT.Script.html#2202" class="Bound">r</a> <a id="2241" href="SMT.Script.html#2209" class="Bound">xs</a>

<a id="weaken"></a><a id="2245" href="SMT.Script.html#2245" class="Function">weaken</a> <a id="2252" class="Symbol">:</a> <a id="2254" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="2259" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="2261" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="2263" class="Symbol">→</a> <a id="2265" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="2270" class="Symbol">(</a><a id="2271" href="SMT.Script.html#610" class="Generalizable">σ′</a> <a id="2274" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2276" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="2277" class="Symbol">)</a> <a id="2279" href="SMT.Script.html#608" class="Generalizable">σ</a>
<a id="2281" href="SMT.Script.html#2245" class="Function">weaken</a> <a id="2288" class="Symbol">=</a> <a id="2290" href="SMT.Script.html#1841" class="Function">rename</a> <a id="2297" href="SMT.Script.html#1609" class="Function">extendVar</a>

<a id="2308" class="Comment">---------------------</a>
<a id="2330" class="Comment">-- SMT-LIB Results --</a>
<a id="2352" class="Comment">---------------------</a>

<a id="2375" class="Comment">-- |Possible results.</a>
<a id="2397" class="Keyword">data</a> <a id="OutputType"></a><a id="2402" href="SMT.Script.html#2402" class="Datatype">OutputType</a> <a id="2413" class="Symbol">:</a> <a id="2415" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2419" class="Keyword">where</a>
  <a id="OutputType.SAT"></a><a id="2427" href="SMT.Script.html#2427" class="InductiveConstructor">SAT</a>   <a id="2433" class="Symbol">:</a> <a id="2435" href="SMT.Script.html#2402" class="Datatype">OutputType</a>
  <a id="OutputType.MODEL"></a><a id="2448" href="SMT.Script.html#2448" class="InductiveConstructor">MODEL</a> <a id="2454" class="Symbol">:</a> <a id="2456" href="SMT.Script.html#556" class="Function">Ctxt</a> <a id="2461" class="Symbol">→</a> <a id="2463" href="SMT.Script.html#2402" class="Datatype">OutputType</a>

<a id="2475" class="Comment">-- |Result contexts.</a>
<a id="OutputCtxt"></a><a id="2496" href="SMT.Script.html#2496" class="Function">OutputCtxt</a> <a id="2507" class="Symbol">:</a> <a id="2509" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="2513" href="SMT.Script.html#2496" class="Function">OutputCtxt</a> <a id="2524" class="Symbol">=</a> <a id="2526" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="2531" href="SMT.Script.html#2402" class="Datatype">OutputType</a>

<a id="2543" class="Keyword">private</a>
  <a id="2553" class="Keyword">variable</a>
    <a id="2566" href="SMT.Script.html#2566" class="Generalizable">ξ</a> <a id="2568" href="SMT.Script.html#2568" class="Generalizable">ξ′</a>    <a id="2574" class="Symbol">:</a> <a id="2576" href="SMT.Script.html#2402" class="Datatype">OutputType</a>
    <a id="2591" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="2593" href="SMT.Script.html#2593" class="Generalizable">Ξ′</a>    <a id="2599" class="Symbol">:</a> <a id="2601" href="SMT.Script.html#2496" class="Function">OutputCtxt</a>

<a id="2613" class="Comment">-- |SMT-LIB satisfiability.</a>
<a id="2641" class="Keyword">data</a> <a id="Sat"></a><a id="2646" href="SMT.Script.html#2646" class="Datatype">Sat</a> <a id="2650" class="Symbol">:</a> <a id="2652" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="2656" class="Keyword">where</a>
  <a id="Sat.sat"></a><a id="2664" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2672" class="Symbol">:</a> <a id="2674" href="SMT.Script.html#2646" class="Datatype">Sat</a>
  <a id="Sat.unsat"></a><a id="2680" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="2688" class="Symbol">:</a> <a id="2690" href="SMT.Script.html#2646" class="Datatype">Sat</a>
  <a id="Sat.unknown"></a><a id="2696" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="2704" class="Symbol">:</a> <a id="2706" href="SMT.Script.html#2646" class="Datatype">Sat</a>

<a id="_≟-Sat_"></a><a id="2711" href="SMT.Script.html#2711" class="Function Operator">_≟-Sat_</a> <a id="2719" class="Symbol">:</a> <a id="2721" class="Symbol">(</a><a id="2722" href="SMT.Script.html#2722" class="Bound">s₁</a> <a id="2725" href="SMT.Script.html#2725" class="Bound">s₂</a> <a id="2728" class="Symbol">:</a> <a id="2730" href="SMT.Script.html#2646" class="Datatype">Sat</a><a id="2733" class="Symbol">)</a> <a id="2735" class="Symbol">→</a> <a id="2737" href="Relation.Nullary.html#1508" class="Record">Dec</a> <a id="2741" class="Symbol">(</a><a id="2742" href="SMT.Script.html#2722" class="Bound">s₁</a> <a id="2745" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2747" href="SMT.Script.html#2725" class="Bound">s₂</a><a id="2749" class="Symbol">)</a>
<a id="2751" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2759" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2765" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2773" class="Symbol">=</a> <a id="2775" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2779" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2784" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2792" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2798" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="2806" class="Symbol">=</a> <a id="2808" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2811" class="Symbol">(λ</a> <a id="2814" class="Symbol">())</a>
<a id="2818" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2826" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2832" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="2840" class="Symbol">=</a> <a id="2842" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2845" class="Symbol">(λ</a> <a id="2848" class="Symbol">())</a>
<a id="2852" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="2860" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2866" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2874" class="Symbol">=</a> <a id="2876" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2879" class="Symbol">(λ</a> <a id="2882" class="Symbol">())</a>
<a id="2886" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="2894" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2900" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="2908" class="Symbol">=</a> <a id="2910" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="2914" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2919" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="2927" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2933" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="2941" class="Symbol">=</a> <a id="2943" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2946" class="Symbol">(λ</a> <a id="2949" class="Symbol">())</a>
<a id="2953" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="2961" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="2967" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="2975" class="Symbol">=</a> <a id="2977" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="2980" class="Symbol">(λ</a> <a id="2983" class="Symbol">())</a>
<a id="2987" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="2995" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="3001" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="3009" class="Symbol">=</a> <a id="3011" href="Relation.Nullary.html#1682" class="InductiveConstructor">no</a> <a id="3014" class="Symbol">(λ</a> <a id="3017" class="Symbol">())</a>
<a id="3021" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="3029" href="SMT.Script.html#2711" class="Function Operator">≟-Sat</a> <a id="3035" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="3043" class="Symbol">=</a> <a id="3045" href="Relation.Nullary.html#1645" class="InductiveConstructor">yes</a> <a id="3049" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>

<a id="3055" class="Comment">-- |SMT-LIB models.</a>
<a id="3075" class="Keyword">data</a> <a id="Model"></a><a id="3080" href="SMT.Script.html#3080" class="Datatype">Model</a> <a id="3086" class="Symbol">:</a> <a id="3088" class="Symbol">(</a><a id="3089" href="SMT.Script.html#3089" class="Bound">Γ</a> <a id="3091" class="Symbol">:</a> <a id="3093" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="3097" class="Symbol">)</a> <a id="3099" class="Symbol">→</a> <a id="3101" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3105" class="Keyword">where</a>
  <a id="Model.[]"></a><a id="3113" href="SMT.Script.html#3113" class="InductiveConstructor">[]</a>  <a id="3117" class="Symbol">:</a> <a id="3119" href="SMT.Script.html#3080" class="Datatype">Model</a> <a id="3125" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Model._∷_"></a><a id="3130" href="SMT.Script.html#3130" class="InductiveConstructor Operator">_∷_</a> <a id="3134" class="Symbol">:</a> <a id="3136" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="3141" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="3144" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="3146" class="Symbol">→</a> <a id="3148" href="SMT.Script.html#3080" class="Datatype">Model</a> <a id="3154" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="3156" class="Symbol">→</a> <a id="3158" href="SMT.Script.html#3080" class="Datatype">Model</a> <a id="3164" class="Symbol">(</a><a id="3165" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="3167" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3169" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="3170" class="Symbol">)</a>

<a id="3173" class="Comment">-- |SMT-LIB script result.</a>
<a id="Result"></a><a id="3200" href="SMT.Script.html#3200" class="Function">Result</a> <a id="3207" class="Symbol">:</a> <a id="3209" href="SMT.Script.html#2402" class="Datatype">OutputType</a> <a id="3220" class="Symbol">→</a> <a id="3222" href="Agda.Primitive.html#326" class="Primitive">Set</a>
<a id="3226" href="SMT.Script.html#3200" class="Function">Result</a> <a id="3233" href="SMT.Script.html#2427" class="InductiveConstructor">SAT</a>       <a id="3243" class="Symbol">=</a> <a id="3245" href="SMT.Script.html#2646" class="Datatype">Sat</a>
<a id="3249" href="SMT.Script.html#3200" class="Function">Result</a> <a id="3256" class="Symbol">(</a><a id="3257" href="SMT.Script.html#2448" class="InductiveConstructor">MODEL</a> <a id="3263" href="SMT.Script.html#3263" class="Bound">Γ</a><a id="3264" class="Symbol">)</a> <a id="3266" class="Symbol">=</a> <a id="3268" href="SMT.Script.html#3080" class="Datatype">Model</a> <a id="3274" href="SMT.Script.html#3263" class="Bound">Γ</a>

<a id="3277" class="Comment">-- |List of SMT-LIB results.</a>
<a id="3306" class="Keyword">data</a> <a id="Results"></a><a id="3311" href="SMT.Script.html#3311" class="Datatype">Results</a> <a id="3319" class="Symbol">:</a> <a id="3321" class="Symbol">(</a><a id="3322" href="SMT.Script.html#3322" class="Bound">Ξ</a> <a id="3324" class="Symbol">:</a> <a id="3326" href="SMT.Script.html#2496" class="Function">OutputCtxt</a><a id="3336" class="Symbol">)</a> <a id="3338" class="Symbol">→</a> <a id="3340" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="3344" class="Keyword">where</a>
  <a id="Results.[]"></a><a id="3352" href="SMT.Script.html#3352" class="InductiveConstructor">[]</a>  <a id="3356" class="Symbol">:</a> <a id="3358" href="SMT.Script.html#3311" class="Datatype">Results</a> <a id="3366" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Results._∷_"></a><a id="3371" href="SMT.Script.html#3371" class="InductiveConstructor Operator">_∷_</a> <a id="3375" class="Symbol">:</a> <a id="3377" href="SMT.Script.html#3200" class="Function">Result</a> <a id="3384" href="SMT.Script.html#2566" class="Generalizable">ξ</a> <a id="3386" class="Symbol">→</a> <a id="3388" href="SMT.Script.html#3311" class="Datatype">Results</a> <a id="3396" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="3398" class="Symbol">→</a> <a id="3400" href="SMT.Script.html#3311" class="Datatype">Results</a> <a id="3408" class="Symbol">(</a><a id="3409" href="SMT.Script.html#2566" class="Generalizable">ξ</a> <a id="3411" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3413" href="SMT.Script.html#2591" class="Generalizable">Ξ</a><a id="3414" class="Symbol">)</a>


<a id="3418" class="Comment">----------------------</a>
<a id="3441" class="Comment">-- SMT-LIB Commands --</a>
<a id="3464" class="Comment">----------------------</a>

<a id="3488" class="Comment">-- |SMT-LIB commands.</a>
<a id="3510" class="Comment">--</a>
<a id="3513" class="Comment">--  NOTE: It is most natural to think of scripts as a list of commands,</a>
<a id="3585" class="Comment">--        but unfortunatly, commands such as `declare-const` bind a new</a>
<a id="3657" class="Comment">--        variable. Therefore, Command has two type-level arguments, `Γ`</a>
<a id="3730" class="Comment">--        and `Γ′`, which represent the binding context before and after</a>
<a id="3803" class="Comment">--        executing the command. Similarly, scripts have outputs. Therefore,</a>
<a id="3880" class="Comment">--        Commands have two more type-level arguments, `Ξ` and `Ξ′`, which</a>
<a id="3955" class="Comment">--        represent the list of outputs given by the SMT solver in order.</a>
<a id="4029" class="Comment">--</a>
<a id="4032" class="Keyword">data</a> <a id="Command"></a><a id="4037" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4045" class="Symbol">(</a><a id="4046" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4048" class="Symbol">:</a> <a id="4050" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="4054" class="Symbol">)</a> <a id="4056" class="Symbol">:</a> <a id="4058" class="Symbol">(</a><a id="4059" href="SMT.Script.html#4059" class="Bound">Ξ</a> <a id="4061" class="Symbol">:</a> <a id="4063" href="SMT.Script.html#2496" class="Function">OutputCtxt</a><a id="4073" class="Symbol">)</a> <a id="4075" class="Symbol">(</a><a id="4076" href="SMT.Script.html#4076" class="Bound">Γ′</a> <a id="4079" class="Symbol">:</a> <a id="4081" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="4085" class="Symbol">)</a> <a id="4087" class="Symbol">(</a><a id="4088" href="SMT.Script.html#4088" class="Bound">Ξ′</a> <a id="4091" class="Symbol">:</a> <a id="4093" href="SMT.Script.html#2496" class="Function">OutputCtxt</a><a id="4103" class="Symbol">)</a> <a id="4105" class="Symbol">→</a> <a id="4107" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4111" class="Keyword">where</a>
  <a id="Command.set-logic"></a><a id="4119" href="SMT.Script.html#4119" class="InductiveConstructor">set-logic</a>     <a id="4133" class="Symbol">:</a> <a id="4135" class="Symbol">(</a><a id="4136" href="SMT.Script.html#4136" class="Bound">l</a> <a id="4138" class="Symbol">:</a> <a id="4140" href="SMT.Logics.html#533" class="Datatype">Logic</a><a id="4145" class="Symbol">)</a> <a id="4147" class="Symbol">→</a> <a id="4149" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4157" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4159" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="4161" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4163" href="SMT.Script.html#2591" class="Generalizable">Ξ</a>
  <a id="Command.declare-const"></a><a id="4167" href="SMT.Script.html#4167" class="InductiveConstructor">declare-const</a> <a id="4181" class="Symbol">:</a> <a id="4183" class="Symbol">(</a><a id="4184" href="SMT.Script.html#4184" class="Bound">σ</a> <a id="4186" class="Symbol">:</a> <a id="4188" href="SMT.Theory.html#732" class="Field">Sort</a><a id="4192" class="Symbol">)</a> <a id="4194" class="Symbol">→</a> <a id="4196" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4204" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4206" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="4208" class="Symbol">(</a><a id="4209" href="SMT.Script.html#4184" class="Bound">σ</a> <a id="4211" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4213" href="SMT.Script.html#4046" class="Bound">Γ</a><a id="4214" class="Symbol">)</a> <a id="4216" href="SMT.Script.html#2591" class="Generalizable">Ξ</a>
  <a id="Command.assert"></a><a id="4220" href="SMT.Script.html#4220" class="InductiveConstructor">assert</a>        <a id="4234" class="Symbol">:</a> <a id="4236" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="4241" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4243" href="SMT.Theory.html#753" class="Field">BOOL</a> <a id="4248" class="Symbol">→</a> <a id="4250" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4258" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4260" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="4262" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4264" href="SMT.Script.html#2591" class="Generalizable">Ξ</a>
  <a id="Command.check-sat"></a><a id="4268" href="SMT.Script.html#4268" class="InductiveConstructor">check-sat</a>     <a id="4282" class="Symbol">:</a> <a id="4284" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4292" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4294" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="4296" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4298" class="Symbol">(</a><a id="4299" href="SMT.Script.html#2427" class="InductiveConstructor">SAT</a> <a id="4303" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4305" href="SMT.Script.html#2591" class="Generalizable">Ξ</a><a id="4306" class="Symbol">)</a>
  <a id="Command.get-model"></a><a id="4310" href="SMT.Script.html#4310" class="InductiveConstructor">get-model</a>     <a id="4324" class="Symbol">:</a> <a id="4326" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4334" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4336" class="Symbol">(</a><a id="4337" href="SMT.Script.html#2427" class="InductiveConstructor">SAT</a> <a id="4341" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4343" href="SMT.Script.html#2591" class="Generalizable">Ξ</a><a id="4344" class="Symbol">)</a> <a id="4346" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4348" class="Symbol">(</a><a id="4349" href="SMT.Script.html#2448" class="InductiveConstructor">MODEL</a> <a id="4355" href="SMT.Script.html#4046" class="Bound">Γ</a> <a id="4357" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4359" href="SMT.Script.html#2427" class="InductiveConstructor">SAT</a> <a id="4363" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="4365" href="SMT.Script.html#2591" class="Generalizable">Ξ</a><a id="4366" class="Symbol">)</a>


<a id="4370" class="Comment">---------------------</a>
<a id="4392" class="Comment">-- SMT-LIB Scripts --</a>
<a id="4414" class="Comment">---------------------</a>

<a id="4437" class="Comment">-- |SMT-LIB scripts.</a>
<a id="4458" class="Keyword">data</a> <a id="Script"></a><a id="4463" href="SMT.Script.html#4463" class="Datatype">Script</a> <a id="4470" class="Symbol">(</a><a id="4471" href="SMT.Script.html#4471" class="Bound">Γ</a> <a id="4473" class="Symbol">:</a> <a id="4475" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="4479" class="Symbol">)</a> <a id="4481" class="Symbol">:</a> <a id="4483" class="Symbol">(</a><a id="4484" href="SMT.Script.html#4484" class="Bound">Γ″</a> <a id="4487" class="Symbol">:</a> <a id="4489" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="4493" class="Symbol">)</a> <a id="4495" class="Symbol">(</a><a id="4496" href="SMT.Script.html#4496" class="Bound">Ξ</a> <a id="4498" class="Symbol">:</a> <a id="4500" href="SMT.Script.html#2496" class="Function">OutputCtxt</a><a id="4510" class="Symbol">)</a> <a id="4512" class="Symbol">→</a> <a id="4514" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="4518" class="Keyword">where</a>
  <a id="Script.[]"></a><a id="4526" href="SMT.Script.html#4526" class="InductiveConstructor">[]</a>  <a id="4530" class="Symbol">:</a> <a id="4532" href="SMT.Script.html#4463" class="Datatype">Script</a> <a id="4539" href="SMT.Script.html#4471" class="Bound">Γ</a> <a id="4541" href="SMT.Script.html#4471" class="Bound">Γ</a> <a id="4543" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="Script._∷_"></a><a id="4548" href="SMT.Script.html#4548" class="InductiveConstructor Operator">_∷_</a> <a id="4552" class="Symbol">:</a> <a id="4554" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="4562" href="SMT.Script.html#4471" class="Bound">Γ</a> <a id="4564" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="4566" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="4569" href="SMT.Script.html#2593" class="Generalizable">Ξ′</a> <a id="4572" class="Symbol">→</a> <a id="4574" href="SMT.Script.html#4463" class="Datatype">Script</a> <a id="4581" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="4584" href="SMT.Script.html#632" class="Generalizable">Γ″</a> <a id="4587" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="4589" class="Symbol">→</a> <a id="4591" href="SMT.Script.html#4463" class="Datatype">Script</a> <a id="4598" href="SMT.Script.html#4471" class="Bound">Γ</a> <a id="4600" href="SMT.Script.html#632" class="Generalizable">Γ″</a> <a id="4603" href="SMT.Script.html#2593" class="Generalizable">Ξ′</a>


<a id="4608" class="Comment">--------------------------</a>
<a id="4635" class="Comment">-- Printing and Parsing --</a>
<a id="4662" class="Comment">--------------------------</a>

<a id="4690" class="Keyword">module</a> <a id="Interaction"></a><a id="4697" href="SMT.Script.html#4697" class="Module">Interaction</a>
  <a id="4711" class="Symbol">(</a><a id="4712" href="SMT.Script.html#4712" class="Bound">printable</a> <a id="4722" class="Symbol">:</a> <a id="4724" href="SMT.Theory.html#855" class="Record">Printable</a> <a id="4734" href="SMT.Script.html#44" class="Bound">theory</a><a id="4740" class="Symbol">)</a>
  <a id="4744" class="Keyword">where</a>

  <a id="4753" class="Keyword">open</a> <a id="4758" class="Keyword">import</a> <a id="4765" href="Category.Monad.html" class="Module">Category.Monad</a>
  <a id="4782" class="Keyword">open</a> <a id="4787" class="Keyword">import</a> <a id="4794" href="Category.Monad.State.html" class="Module">Category.Monad.State</a> <a id="4815" class="Symbol">as</a> <a id="4818" class="Module">StateCat</a> <a id="4827" class="Keyword">using</a> <a id="4833" class="Symbol">(</a><a id="4834" href="Category.Monad.State.html#2659" class="Record">RawIMonadState</a><a id="4848" class="Symbol">;</a> <a id="4850" href="Category.Monad.State.html#666" class="Function">IStateT</a><a id="4857" class="Symbol">)</a>
  <a id="4861" class="Keyword">open</a> <a id="4866" class="Keyword">import</a> <a id="4873" href="Codata.Musical.Stream.html" class="Module">Codata.Musical.Stream</a> <a id="4895" class="Symbol">as</a> <a id="4898" class="Module">Stream</a> <a id="4905" class="Keyword">using</a> <a id="4911" class="Symbol">(</a><a id="4912" href="Codata.Musical.Stream.html#674" class="Datatype">Stream</a><a id="4918" class="Symbol">)</a>
  <a id="4922" class="Keyword">open</a> <a id="4927" class="Keyword">import</a> <a id="4934" href="Data.Char.html" class="Module">Data.Char</a> <a id="4944" class="Symbol">as</a> <a id="4947" class="Module">Char</a> <a id="4952" class="Keyword">using</a> <a id="4958" class="Symbol">(</a><a id="4959" href="Agda.Builtin.Char.html#227" class="Postulate">Char</a><a id="4963" class="Symbol">)</a>
  <a id="4967" class="Keyword">open</a> <a id="4972" class="Keyword">import</a> <a id="4979" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="4988" class="Symbol">as</a> <a id="4991" class="Module">Nat</a> <a id="4995" class="Keyword">using</a> <a id="5001" class="Symbol">(</a><a id="5002" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="5003" class="Symbol">)</a>
  <a id="5007" class="Keyword">open</a> <a id="5012" class="Keyword">import</a> <a id="5019" href="Data.Nat.Show.html" class="Module">Data.Nat.Show</a> <a id="5033" class="Keyword">renaming</a> <a id="5042" class="Symbol">(</a><a id="5043" href="Data.Nat.Show.html#1076" class="Function">show</a> <a id="5048" class="Symbol">to</a> <a id="Show.show"></a><a id="5051" href="SMT.Script.html#5051" class="Function">showℕ</a><a id="5056" class="Symbol">)</a>
  <a id="5060" class="Keyword">open</a> <a id="5065" class="Keyword">import</a> <a id="5072" href="Data.Product.html" class="Module">Data.Product</a> <a id="5085" class="Symbol">as</a> <a id="5088" class="Module">Product</a> <a id="5096" class="Keyword">using</a> <a id="5102" class="Symbol">(</a><a id="5103" href="Data.Product.html#1167" class="Function Operator">_×_</a><a id="5106" class="Symbol">;</a> <a id="5108" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="5111" class="Symbol">;</a> <a id="5113" href="Data.Product.html#2196" class="Function Operator">-,_</a><a id="5116" class="Symbol">;</a> <a id="5118" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a><a id="5123" class="Symbol">;</a> <a id="5125" href="Agda.Builtin.Sigma.html#264" class="Field">proj₂</a><a id="5130" class="Symbol">)</a>
  <a id="5134" class="Keyword">open</a> <a id="5139" class="Keyword">import</a> <a id="5146" href="Data.String.html" class="Module">Data.String</a> <a id="5158" class="Symbol">as</a> <a id="5161" class="Module">String</a> <a id="5168" class="Keyword">using</a> <a id="5174" class="Symbol">(</a><a id="5175" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="5181" class="Symbol">;</a> <a id="5183" href="Data.String.Base.html#2177" class="Function Operator">_++_</a><a id="5187" class="Symbol">;</a> <a id="5189" href="Data.String.Base.html#1513" class="Primitive">toList</a><a id="5195" class="Symbol">;</a> <a id="5197" href="Data.String.Base.html#2072" class="Function">fromList⁺</a><a id="5206" class="Symbol">)</a>
  <a id="5210" class="Keyword">open</a> <a id="5215" class="Keyword">import</a> <a id="5222" href="Data.Unit.html" class="Module">Data.Unit</a> <a id="5232" class="Symbol">as</a> <a id="5235" class="Module">Unit</a> <a id="5240" class="Keyword">using</a> <a id="5246" class="Symbol">(</a><a id="5247" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="5248" class="Symbol">)</a>
  <a id="5252" class="Keyword">open</a> <a id="5257" class="Keyword">import</a> <a id="5264" href="Data.Vec.html" class="Module">Data.Vec</a> <a id="5273" class="Symbol">as</a> <a id="5276" class="Module">Vec</a> <a id="5280" class="Keyword">using</a> <a id="5286" class="Symbol">(</a><a id="5287" href="Data.Vec.Base.html#959" class="Datatype">Vec</a><a id="5290" class="Symbol">)</a>
  <a id="5294" class="Keyword">open</a> <a id="5299" class="Keyword">import</a> <a id="5306" href="Function.html" class="Module">Function</a> <a id="5315" class="Keyword">using</a> <a id="5321" class="Symbol">(</a><a id="5322" href="Function.Base.html#636" class="Function">const</a><a id="5327" class="Symbol">;</a> <a id="5329" href="Function.Base.html#615" class="Function">id</a><a id="5331" class="Symbol">;</a> <a id="5333" href="Function.Base.html#992" class="Function Operator">_∘_</a><a id="5336" class="Symbol">)</a>
  <a id="5340" class="Keyword">import</a> <a id="5347" href="Function.Identity.Categorical.html" class="Module">Function.Identity.Categorical</a> <a id="5377" class="Symbol">as</a> <a id="5380" class="Module">Identity</a>
  <a id="5391" class="Keyword">open</a> <a id="5396" class="Keyword">import</a> <a id="5403" href="Text.Parser.String.html" class="Module">Text.Parser.String</a>

  <a id="5425" class="Keyword">open</a> <a id="5430" href="SMT.Theory.html#855" class="Module">Printable</a> <a id="5440" href="SMT.Script.html#4712" class="Bound">printable</a>

  <a id="5453" class="Keyword">private</a>
    <a id="5465" class="Keyword">variable</a>
      <a id="5480" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="5482" class="Symbol">:</a> <a id="5484" href="SMT.Theory.html#732" class="Field">Sort</a> <a id="5489" class="Symbol">→</a> <a id="5491" href="Agda.Primitive.html#326" class="Primitive">Set</a>

  <a id="5498" class="Comment">-- |Environments, i.e., lists where the types of the elements</a>
  <a id="5562" class="Comment">--  are determined by a type-level list.</a>
  <a id="5605" class="Keyword">data</a> <a id="Interaction.Env"></a><a id="5610" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5614" class="Symbol">(</a><a id="5615" href="SMT.Script.html#5615" class="Bound">T</a> <a id="5617" class="Symbol">:</a> <a id="5619" href="SMT.Theory.html#732" class="Field">Sort</a> <a id="5624" class="Symbol">→</a> <a id="5626" href="Agda.Primitive.html#326" class="Primitive">Set</a><a id="5629" class="Symbol">)</a> <a id="5631" class="Symbol">:</a> <a id="5633" class="Symbol">(</a><a id="5634" href="SMT.Script.html#5634" class="Bound">Γ</a> <a id="5636" class="Symbol">:</a> <a id="5638" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="5642" class="Symbol">)</a> <a id="5644" class="Symbol">→</a> <a id="5646" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="5650" class="Keyword">where</a>
    <a id="Interaction.Env.[]"></a><a id="5660" href="SMT.Script.html#5660" class="InductiveConstructor">[]</a>  <a id="5664" class="Symbol">:</a> <a id="5666" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5670" href="SMT.Script.html#5615" class="Bound">T</a> <a id="5672" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="Interaction.Env._∷_"></a><a id="5679" href="SMT.Script.html#5679" class="InductiveConstructor Operator">_∷_</a> <a id="5683" class="Symbol">:</a> <a id="5685" href="SMT.Script.html#5615" class="Bound">T</a> <a id="5687" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="5689" class="Symbol">→</a> <a id="5691" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5695" href="SMT.Script.html#5615" class="Bound">T</a> <a id="5697" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="5699" class="Symbol">→</a> <a id="5701" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5705" href="SMT.Script.html#5615" class="Bound">T</a> <a id="5707" class="Symbol">(</a><a id="5708" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="5710" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5712" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="5713" class="Symbol">)</a>

  <a id="5718" class="Comment">-- |Get the first element in a non-empty environment.</a>
  <a id="Interaction.head"></a><a id="5774" href="SMT.Script.html#5774" class="Function">head</a> <a id="5779" class="Symbol">:</a> <a id="5781" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5785" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="5787" class="Symbol">(</a><a id="5788" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="5790" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5792" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="5793" class="Symbol">)</a> <a id="5795" class="Symbol">→</a> <a id="5797" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="5799" href="SMT.Script.html#608" class="Generalizable">σ</a>
  <a id="5803" href="SMT.Script.html#5774" class="Function">head</a> <a id="5808" class="Symbol">(</a><a id="5809" href="SMT.Script.html#5809" class="Bound">x</a> <a id="5811" href="SMT.Script.html#5679" class="InductiveConstructor Operator">∷</a> <a id="5813" href="SMT.Script.html#5813" class="Bound Operator">_env</a><a id="5817" class="Symbol">)</a> <a id="5819" class="Symbol">=</a> <a id="5821" href="SMT.Script.html#5809" class="Bound">x</a>

  <a id="5826" class="Comment">-- |Remove the first element from a non-empty environment.</a>
  <a id="Interaction.tail"></a><a id="5887" href="SMT.Script.html#5887" class="Function">tail</a> <a id="5892" class="Symbol">:</a> <a id="5894" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5898" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="5900" class="Symbol">(</a><a id="5901" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="5903" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="5905" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="5906" class="Symbol">)</a> <a id="5908" class="Symbol">→</a> <a id="5910" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="5914" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="5916" href="SMT.Script.html#627" class="Generalizable">Γ</a>
  <a id="5920" href="SMT.Script.html#5887" class="Function">tail</a> <a id="5925" class="Symbol">(</a><a id="5926" href="SMT.Script.html#5926" class="Bound Operator">_x</a> <a id="5929" href="SMT.Script.html#5679" class="InductiveConstructor Operator">∷</a> <a id="5931" href="SMT.Script.html#5931" class="Bound">env</a><a id="5934" class="Symbol">)</a> <a id="5936" class="Symbol">=</a> <a id="5938" href="SMT.Script.html#5931" class="Bound">env</a>

  <a id="5945" class="Comment">-- |Get the i&#39;th element from an environment.</a>
  <a id="Interaction.lookup"></a><a id="5993" href="SMT.Script.html#5993" class="Function">lookup</a> <a id="6000" class="Symbol">:</a> <a id="6002" class="Symbol">(</a><a id="6003" href="SMT.Script.html#6003" class="Bound">env</a> <a id="6007" class="Symbol">:</a> <a id="6009" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="6013" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="6015" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="6016" class="Symbol">)</a> <a id="6018" class="Symbol">(</a><a id="6019" href="SMT.Script.html#6019" class="Bound">i</a> <a id="6021" class="Symbol">:</a> <a id="6023" href="Data.Fin.Base.html#1066" class="Datatype">Fin</a> <a id="6027" class="Symbol">_)</a> <a id="6030" class="Symbol">→</a> <a id="6032" href="SMT.Script.html#5480" class="Generalizable">T</a> <a id="6034" class="Symbol">(</a><a id="6035" href="Data.List.Base.html#5816" class="Function">List.lookup</a> <a id="6047" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="6049" href="SMT.Script.html#6019" class="Bound">i</a><a id="6050" class="Symbol">)</a>
  <a id="6054" href="SMT.Script.html#5993" class="Function">lookup</a> <a id="6061" href="SMT.Script.html#5660" class="InductiveConstructor">[]</a>          <a id="6073" class="Symbol">()</a>
  <a id="6078" href="SMT.Script.html#5993" class="Function">lookup</a> <a id="6085" class="Symbol">(</a> <a id="6087" href="SMT.Script.html#6087" class="Bound">x</a> <a id="6089" href="SMT.Script.html#5679" class="InductiveConstructor Operator">∷</a> <a id="6091" href="SMT.Script.html#6091" class="Bound Operator">_env</a><a id="6095" class="Symbol">)</a> <a id="6097" href="Data.Fin.Base.html#1088" class="InductiveConstructor">Fin.zero</a>    <a id="6109" class="Symbol">=</a> <a id="6111" href="SMT.Script.html#6087" class="Bound">x</a>
  <a id="6115" href="SMT.Script.html#5993" class="Function">lookup</a> <a id="6122" class="Symbol">(</a><a id="6123" href="SMT.Script.html#6123" class="Bound Operator">_x</a> <a id="6126" href="SMT.Script.html#5679" class="InductiveConstructor Operator">∷</a>  <a id="6129" href="SMT.Script.html#6129" class="Bound">env</a><a id="6132" class="Symbol">)</a> <a id="6134" class="Symbol">(</a><a id="6135" href="Data.Fin.Base.html#1119" class="InductiveConstructor">Fin.suc</a> <a id="6143" href="SMT.Script.html#6143" class="Bound">i</a><a id="6144" class="Symbol">)</a> <a id="6146" class="Symbol">=</a> <a id="6148" href="SMT.Script.html#5993" class="Function">lookup</a> <a id="6155" href="SMT.Script.html#6129" class="Bound">env</a> <a id="6159" href="SMT.Script.html#6143" class="Bound">i</a>

  <a id="6164" class="Comment">-- |Names.</a>
  <a id="Interaction.Name"></a><a id="6177" href="SMT.Script.html#6177" class="Function">Name</a> <a id="6182" class="Symbol">:</a> <a id="6184" href="Agda.Primitive.html#326" class="Primitive">Set</a>
  <a id="6190" href="SMT.Script.html#6177" class="Function">Name</a> <a id="6195" class="Symbol">=</a> <a id="6197" href="Agda.Builtin.String.html#336" class="Postulate">String</a>

  <a id="6207" class="Comment">-- |Name states, i.e., an environment of names, one for every</a>
  <a id="6271" class="Comment">--  variable in the context Γ, and a supply  of fresh names.</a>
  <a id="6334" class="Comment">--</a>
  <a id="6339" class="Comment">--  NOTE: the current implementation does not guarantee that</a>
  <a id="6402" class="Comment">--        each name in the supply is distinct. If we need this</a>
  <a id="6467" class="Comment">--        in the future, there is `Data.List.Fresh`.</a>
  <a id="6522" class="Comment">--</a>
  <a id="6527" class="Keyword">record</a> <a id="Interaction.Names"></a><a id="6534" href="SMT.Script.html#6534" class="Record">Names</a> <a id="6540" class="Symbol">(</a><a id="6541" href="SMT.Script.html#6541" class="Bound">Γ</a> <a id="6543" class="Symbol">:</a> <a id="6545" href="SMT.Script.html#556" class="Function">Ctxt</a><a id="6549" class="Symbol">)</a> <a id="6551" class="Symbol">:</a> <a id="6553" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="6557" class="Keyword">where</a>
    <a id="6567" class="Keyword">field</a>
      <a id="Interaction.Names.nameEnv"></a><a id="6579" href="SMT.Script.html#6579" class="Field">nameEnv</a>    <a id="6590" class="Symbol">:</a> <a id="6592" href="SMT.Script.html#5610" class="Datatype">Env</a> <a id="6596" class="Symbol">(</a><a id="6597" href="Function.Base.html#636" class="Function">const</a> <a id="6603" href="SMT.Script.html#6177" class="Function">Name</a><a id="6607" class="Symbol">)</a> <a id="6609" href="SMT.Script.html#6541" class="Bound">Γ</a>
      <a id="Interaction.Names.nameSupply"></a><a id="6617" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="6628" class="Symbol">:</a> <a id="6630" href="Codata.Musical.Stream.html#674" class="Datatype">Stream</a> <a id="6637" href="SMT.Script.html#6177" class="Function">Name</a>

  <a id="6645" class="Keyword">open</a> <a id="6650" href="SMT.Script.html#6534" class="Module">Names</a> <a id="6656" class="Comment">-- bring `nameEnv` and `nameSupply` in scope</a>

  <a id="6704" class="Comment">-- When showing terms, we need to pass around a name state,</a>
  <a id="6766" class="Comment">-- for which we&#39;ll use an indexed monad, indexed by the context,</a>
  <a id="6833" class="Comment">-- so we bring the functions from the indexed monad in scope.</a>
  <a id="6897" class="Keyword">private</a>
    <a id="Interaction.monadStateNameState"></a><a id="6909" href="SMT.Script.html#6909" class="Function">monadStateNameState</a> <a id="6929" class="Symbol">=</a> <a id="6931" href="Category.Monad.State.html#2986" class="Function">StateCat.StateTIMonadState</a> <a id="6958" href="SMT.Script.html#6534" class="Record">Names</a> <a id="6964" href="Function.Identity.Categorical.html#651" class="Function">Identity.monad</a>

  <a id="6982" class="Keyword">open</a> <a id="6987" href="Category.Monad.State.html#2659" class="Module">RawIMonadState</a> <a id="7002" href="SMT.Script.html#6909" class="Function">monadStateNameState</a>
    <a id="7026" class="Keyword">using</a> <a id="7032" class="Symbol">(</a><a id="7033" href="Category.Monad.Indexed.html#644" class="Function">return</a><a id="7039" class="Symbol">;</a> <a id="7041" href="Category.Monad.Indexed.html#677" class="Function Operator">_&gt;&gt;=_</a><a id="7046" class="Symbol">;</a> <a id="7048" href="Category.Monad.Indexed.html#735" class="Function Operator">_&gt;&gt;_</a><a id="7052" class="Symbol">;</a> <a id="7054" href="Category.Monad.State.html#2831" class="Field">put</a><a id="7057" class="Symbol">;</a> <a id="7059" href="Category.Monad.State.html#2799" class="Field">get</a><a id="7062" class="Symbol">;</a> <a id="7064" href="Category.Monad.State.html#2906" class="Function">modify</a><a id="7070" class="Symbol">)</a>


  <a id="7076" class="Comment">-- |Add a fresh name to the front of the name environment.</a>
  <a id="Interaction.pushFreshName"></a><a id="7137" href="SMT.Script.html#7137" class="Function">pushFreshName</a> <a id="7151" class="Symbol">:</a> <a id="7153" class="Symbol">(</a><a id="7154" href="SMT.Script.html#7154" class="Bound">σ</a> <a id="7156" class="Symbol">:</a> <a id="7158" href="SMT.Theory.html#732" class="Field">Sort</a><a id="7162" class="Symbol">)</a> <a id="7164" class="Symbol">→</a> <a id="7166" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="7174" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7180" href="Function.Base.html#615" class="Function">id</a> <a id="7183" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="7185" class="Symbol">(</a><a id="7186" href="SMT.Script.html#7154" class="Bound">σ</a> <a id="7188" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7190" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="7191" class="Symbol">)</a> <a id="7193" href="SMT.Script.html#6177" class="Function">Name</a>
  <a id="7200" href="SMT.Script.html#7137" class="Function">pushFreshName</a> <a id="7214" href="SMT.Script.html#7214" class="Bound">σ</a> <a id="7216" class="Symbol">=</a> <a id="7218" class="Keyword">do</a>
    <a id="7225" href="SMT.Script.html#7225" class="Bound">names</a> <a id="7231" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="7233" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="7241" class="Keyword">let</a> <a id="7245" href="SMT.Script.html#7245" class="Bound">names′</a> <a id="7252" class="Symbol">=</a> <a id="7254" href="SMT.Script.html#7343" class="Function">pushFreshName′</a> <a id="7269" href="SMT.Script.html#7214" class="Bound">σ</a> <a id="7271" href="SMT.Script.html#7225" class="Bound">names</a>
    <a id="7281" href="Category.Monad.State.html#2831" class="Function">put</a> <a id="7285" href="SMT.Script.html#7245" class="Bound">names′</a>
    <a id="7296" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7303" class="Symbol">(</a><a id="7304" href="SMT.Script.html#5774" class="Function">head</a> <a id="7309" class="Symbol">(</a><a id="7310" href="SMT.Script.html#6579" class="Field">nameEnv</a> <a id="7318" href="SMT.Script.html#7245" class="Bound">names′</a><a id="7324" class="Symbol">))</a>
    <a id="7331" class="Keyword">where</a>
      <a id="7343" href="SMT.Script.html#7343" class="Function">pushFreshName′</a> <a id="7358" class="Symbol">:</a> <a id="7360" class="Symbol">(</a><a id="7361" href="SMT.Script.html#7361" class="Bound">σ</a> <a id="7363" class="Symbol">:</a> <a id="7365" href="SMT.Theory.html#732" class="Field">Sort</a><a id="7369" class="Symbol">)</a> <a id="7371" class="Symbol">→</a> <a id="7373" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7379" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="7381" class="Symbol">→</a> <a id="7383" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7389" class="Symbol">(</a><a id="7390" href="SMT.Script.html#7361" class="Bound">σ</a> <a id="7392" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7394" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="7395" class="Symbol">)</a>
      <a id="7403" href="SMT.Script.html#6579" class="Field">nameEnv</a>    <a id="7414" class="Symbol">(</a><a id="7415" href="SMT.Script.html#7343" class="Function">pushFreshName′</a> <a id="7430" href="SMT.Script.html#7430" class="Bound">σ</a> <a id="7432" href="SMT.Script.html#7432" class="Bound">names</a><a id="7437" class="Symbol">)</a> <a id="7439" class="Symbol">=</a> <a id="7441" href="Codata.Musical.Stream.html#1028" class="Function">Stream.head</a> <a id="7453" class="Symbol">(</a><a id="7454" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="7465" href="SMT.Script.html#7432" class="Bound">names</a><a id="7470" class="Symbol">)</a> <a id="7472" href="SMT.Script.html#5679" class="InductiveConstructor Operator">∷</a> <a id="7474" href="SMT.Script.html#6579" class="Field">nameEnv</a> <a id="7482" href="SMT.Script.html#7432" class="Bound">names</a>
      <a id="7494" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="7505" class="Symbol">(</a><a id="7506" href="SMT.Script.html#7343" class="Function">pushFreshName′</a> <a id="7521" href="SMT.Script.html#7521" class="Bound">σ</a> <a id="7523" href="SMT.Script.html#7523" class="Bound">names</a><a id="7528" class="Symbol">)</a> <a id="7530" class="Symbol">=</a> <a id="7532" href="Codata.Musical.Stream.html#1087" class="Function">Stream.tail</a> <a id="7544" class="Symbol">(</a><a id="7545" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="7556" href="SMT.Script.html#7523" class="Bound">names</a><a id="7561" class="Symbol">)</a>


  <a id="7567" class="Comment">-- |Remove first name from the name environment.</a>
  <a id="Interaction.popName"></a><a id="7618" href="SMT.Script.html#7618" class="Function">popName</a> <a id="7626" class="Symbol">:</a> <a id="7628" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="7636" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7642" href="Function.Base.html#615" class="Function">id</a> <a id="7645" class="Symbol">(</a><a id="7646" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="7648" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7650" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="7651" class="Symbol">)</a> <a id="7653" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="7655" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="7659" href="SMT.Script.html#7618" class="Function">popName</a> <a id="7667" class="Symbol">=</a> <a id="7669" class="Keyword">do</a> <a id="7672" href="Category.Monad.State.html#2906" class="Function">modify</a> <a id="7679" href="SMT.Script.html#7714" class="Function">popName′</a><a id="7687" class="Symbol">;</a> <a id="7689" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="7696" class="Symbol">_</a>
    <a id="7702" class="Keyword">where</a>
      <a id="7714" href="SMT.Script.html#7714" class="Function">popName′</a> <a id="7723" class="Symbol">:</a> <a id="7725" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7731" class="Symbol">(</a><a id="7732" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="7734" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="7736" href="SMT.Script.html#627" class="Generalizable">Γ</a><a id="7737" class="Symbol">)</a> <a id="7739" class="Symbol">→</a> <a id="7741" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7747" href="SMT.Script.html#627" class="Generalizable">Γ</a>
      <a id="7755" href="SMT.Script.html#6579" class="Field">nameEnv</a>    <a id="7766" class="Symbol">(</a><a id="7767" href="SMT.Script.html#7714" class="Function">popName′</a> <a id="7776" href="SMT.Script.html#7776" class="Bound">names</a><a id="7781" class="Symbol">)</a> <a id="7783" class="Symbol">=</a> <a id="7785" href="SMT.Script.html#5887" class="Function">tail</a> <a id="7790" class="Symbol">(</a><a id="7791" href="SMT.Script.html#6579" class="Field">nameEnv</a> <a id="7799" href="SMT.Script.html#7776" class="Bound">names</a><a id="7804" class="Symbol">)</a>
      <a id="7812" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="7823" class="Symbol">(</a><a id="7824" href="SMT.Script.html#7714" class="Function">popName′</a> <a id="7833" href="SMT.Script.html#7833" class="Bound">names</a><a id="7838" class="Symbol">)</a> <a id="7840" class="Symbol">=</a> <a id="7842" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="7853" href="SMT.Script.html#7833" class="Bound">names</a>


  <a id="7863" class="Comment">-- |Get i&#39;th name from the name environment in the state monad.</a>
  <a id="Interaction.getName"></a><a id="7929" href="SMT.Script.html#7929" class="Function">getName</a> <a id="7937" class="Symbol">:</a> <a id="7939" class="Symbol">(</a><a id="7940" href="SMT.Script.html#7940" class="Bound">i</a> <a id="7942" class="Symbol">:</a> <a id="7944" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="7946" href="SMT.Script.html#741" class="Function Operator">∋</a> <a id="7948" href="SMT.Script.html#608" class="Generalizable">σ</a><a id="7949" class="Symbol">)</a> <a id="7951" class="Symbol">→</a> <a id="7953" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="7961" href="SMT.Script.html#6534" class="Record">Names</a> <a id="7967" href="Function.Base.html#615" class="Function">id</a> <a id="7970" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="7972" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="7974" href="SMT.Script.html#6177" class="Function">Name</a>
  <a id="7981" href="SMT.Script.html#7929" class="Function">getName</a> <a id="7989" class="Symbol">(</a><a id="7990" href="SMT.Script.html#7990" class="Bound">i</a> <a id="7992" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="7994" href="SMT.Script.html#7994" class="Bound Operator">_prf</a><a id="7998" class="Symbol">)</a> <a id="8000" class="Symbol">=</a> <a id="8002" class="Keyword">do</a>
    <a id="8009" href="SMT.Script.html#8009" class="Bound">names</a> <a id="8015" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8017" href="Category.Monad.State.html#2799" class="Function">get</a>
    <a id="8025" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8032" class="Symbol">(</a><a id="8033" href="SMT.Script.html#5993" class="Function">lookup</a> <a id="8040" class="Symbol">(</a><a id="8041" href="SMT.Script.html#6579" class="Field">nameEnv</a> <a id="8049" href="SMT.Script.html#8009" class="Bound">names</a><a id="8054" class="Symbol">)</a> <a id="8056" href="SMT.Script.html#7990" class="Bound">i</a><a id="8057" class="Symbol">)</a>

  <a id="8062" class="Comment">-- |Create an S-expression from a list of strings.</a>
  <a id="8115" class="Comment">--</a>
  <a id="8120" class="Comment">-- @</a>
  <a id="8127" class="Comment">--   mkSTerm (&quot;*&quot; ∷ &quot;4&quot; ∷ &quot;5&quot;) ≡ &quot;(* 4 5)&quot;</a>
  <a id="8172" class="Comment">-- @</a>
  <a id="8179" class="Comment">--</a>
  <a id="Interaction.mkSTerm"></a><a id="8184" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="8192" class="Symbol">:</a> <a id="8194" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="8199" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="8206" class="Symbol">→</a> <a id="8208" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="8217" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="8225" class="Symbol">=</a> <a id="8227" href="Data.String.Base.html#2863" class="Function">String.parens</a> <a id="8241" href="Function.Base.html#992" class="Function Operator">∘</a> <a id="8243" href="Data.String.Base.html#2805" class="Function">String.unwords</a>

  <a id="8261" class="Keyword">mutual</a>

    <a id="8273" class="Comment">-- |Show a term as an S-expression. The code below passes a name state in</a>
    <a id="8351" class="Comment">--  a state monad. For the pure version, see `showTerm` below.</a>
    <a id="8418" class="Comment">--</a>
    <a id="Interaction.showTermS"></a><a id="8425" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8435" class="Symbol">:</a> <a id="8437" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="8442" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="8444" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="8446" class="Symbol">→</a> <a id="8448" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="8456" href="SMT.Script.html#6534" class="Record">Names</a> <a id="8462" href="Function.Base.html#615" class="Function">id</a> <a id="8465" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="8467" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="8469" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
    <a id="8480" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8490" class="Symbol">(</a><a id="8491" href="SMT.Script.html#1009" class="InductiveConstructor">var</a> <a id="8495" href="SMT.Script.html#8495" class="Bound">i</a><a id="8496" class="Symbol">)</a> <a id="8498" class="Symbol">=</a> <a id="8500" class="Keyword">do</a>
      <a id="8509" href="SMT.Script.html#8509" class="Bound">n</a> <a id="8511" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8513" href="SMT.Script.html#7929" class="Function">getName</a> <a id="8521" href="SMT.Script.html#8495" class="Bound">i</a>
      <a id="8529" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8536" href="SMT.Script.html#8509" class="Bound">n</a>
    <a id="8542" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8552" class="Symbol">(</a><a id="8553" href="SMT.Script.html#1051" class="InductiveConstructor">lit</a> <a id="8557" href="SMT.Script.html#8557" class="Bound">l</a><a id="8558" class="Symbol">)</a> <a id="8560" class="Symbol">=</a>
      <a id="8568" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8575" class="Symbol">(</a><a id="8576" href="SMT.Theory.html#963" class="Field">showLiteral</a> <a id="8588" href="SMT.Script.html#8557" class="Bound">l</a><a id="8589" class="Symbol">)</a>
    <a id="8595" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8605" class="Symbol">(</a><a id="8606" href="SMT.Script.html#1097" class="InductiveConstructor">app</a> <a id="8610" href="SMT.Script.html#8610" class="Bound">x</a> <a id="8612" href="SMT.Script.html#8612" class="Bound">xs</a><a id="8614" class="Symbol">)</a> <a id="8616" class="Symbol">=</a> <a id="8618" class="Keyword">do</a>
      <a id="8627" class="Keyword">let</a> <a id="8631" href="SMT.Script.html#8631" class="Bound">x′</a> <a id="8634" class="Symbol">=</a> <a id="8636" href="SMT.Theory.html#1016" class="Field">showIdentifier</a> <a id="8651" href="SMT.Script.html#8610" class="Bound">x</a>
      <a id="8659" href="SMT.Script.html#8659" class="Bound">xs′</a> <a id="8663" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8665" href="SMT.Script.html#9361" class="Function">showArgsS</a> <a id="8675" href="SMT.Script.html#8612" class="Bound">xs</a>
      <a id="8684" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8691" class="Symbol">(</a><a id="8692" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="8700" class="Symbol">(</a><a id="8701" href="SMT.Script.html#8631" class="Bound">x′</a> <a id="8704" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8706" href="SMT.Script.html#8659" class="Bound">xs′</a><a id="8709" class="Symbol">))</a>
    <a id="8716" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8726" class="Symbol">(</a><a id="8727" href="SMT.Script.html#1191" class="InductiveConstructor">forAll</a> <a id="8734" class="Symbol">{</a><a id="8735" href="SMT.Script.html#8735" class="Bound">σ</a><a id="8736" class="Symbol">}</a> <a id="8738" href="SMT.Script.html#8738" class="Bound">x</a><a id="8739" class="Symbol">)</a> <a id="8741" class="Symbol">=</a> <a id="8743" class="Keyword">do</a>
      <a id="8752" href="SMT.Script.html#8752" class="Bound">n′</a> <a id="8755" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8757" href="SMT.Script.html#7137" class="Function">pushFreshName</a> <a id="8771" href="SMT.Script.html#8735" class="Bound">σ</a>
      <a id="8779" class="Keyword">let</a> <a id="8783" href="SMT.Script.html#8783" class="Bound">σ′</a> <a id="8786" class="Symbol">=</a> <a id="8788" href="SMT.Theory.html#928" class="Field">showSort</a> <a id="8797" href="SMT.Script.html#8735" class="Bound">σ</a>
      <a id="8805" href="SMT.Script.html#8805" class="Bound">x′</a> <a id="8808" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8810" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8820" href="SMT.Script.html#8738" class="Bound">x</a>
      <a id="8828" href="SMT.Script.html#7618" class="Function">popName</a>
      <a id="8842" class="Keyword">let</a> <a id="8846" href="SMT.Script.html#8846" class="Bound">nσs′</a> <a id="8851" class="Symbol">=</a> <a id="8853" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="8861" class="Symbol">(</a><a id="8862" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="8870" class="Symbol">(</a><a id="8871" href="SMT.Script.html#8752" class="Bound">n′</a> <a id="8874" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8876" href="SMT.Script.html#8783" class="Bound">σ′</a> <a id="8879" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8881" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8883" class="Symbol">)</a> <a id="8885" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8887" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8889" class="Symbol">)</a>
      <a id="8897" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="8904" class="Symbol">(</a><a id="8905" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="8913" class="Symbol">(</a><a id="8914" class="String">&quot;forall&quot;</a> <a id="8923" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8925" href="SMT.Script.html#8846" class="Bound">nσs′</a> <a id="8930" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8932" href="SMT.Script.html#8805" class="Bound">x′</a> <a id="8935" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="8937" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="8939" class="Symbol">))</a>
    <a id="8946" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="8956" class="Symbol">(</a><a id="8957" href="SMT.Script.html#1248" class="InductiveConstructor">exists</a> <a id="8964" class="Symbol">{</a><a id="8965" href="SMT.Script.html#8965" class="Bound">σ</a><a id="8966" class="Symbol">}</a> <a id="8968" href="SMT.Script.html#8968" class="Bound">x</a><a id="8969" class="Symbol">)</a> <a id="8971" class="Symbol">=</a> <a id="8973" class="Keyword">do</a>
      <a id="8982" href="SMT.Script.html#8982" class="Bound">n′</a> <a id="8985" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="8987" href="SMT.Script.html#7137" class="Function">pushFreshName</a> <a id="9001" href="SMT.Script.html#8965" class="Bound">σ</a>
      <a id="9009" class="Keyword">let</a> <a id="9013" href="SMT.Script.html#9013" class="Bound">σ′</a> <a id="9016" class="Symbol">=</a> <a id="9018" href="SMT.Theory.html#928" class="Field">showSort</a> <a id="9027" href="SMT.Script.html#8965" class="Bound">σ</a>
      <a id="9035" href="SMT.Script.html#9035" class="Bound">x′</a> <a id="9038" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9040" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="9050" href="SMT.Script.html#8968" class="Bound">x</a>
      <a id="9058" href="SMT.Script.html#7618" class="Function">popName</a>
      <a id="9072" class="Keyword">let</a> <a id="9076" href="SMT.Script.html#9076" class="Bound">nσs′</a> <a id="9081" class="Symbol">=</a> <a id="9083" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="9091" class="Symbol">(</a><a id="9092" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="9100" class="Symbol">(</a><a id="9101" href="SMT.Script.html#8982" class="Bound">n′</a> <a id="9104" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9106" href="SMT.Script.html#9013" class="Bound">σ′</a> <a id="9109" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9111" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9113" class="Symbol">)</a> <a id="9115" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9117" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9119" class="Symbol">)</a>
      <a id="9127" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9134" class="Symbol">(</a><a id="9135" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="9143" class="Symbol">(</a><a id="9144" class="String">&quot;exists&quot;</a> <a id="9153" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9155" href="SMT.Script.html#9076" class="Bound">nσs′</a> <a id="9160" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9162" href="SMT.Script.html#9035" class="Bound">x′</a> <a id="9165" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9167" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9169" class="Symbol">))</a>

    <a id="9177" class="Comment">-- |Show a series of terms as S-expression.</a>
    <a id="9225" class="Comment">--</a>
    <a id="9232" class="Comment">--  This is explicit to avoid sized-types, as Agda cannot infer that the call</a>
    <a id="9314" class="Comment">--  `mapM showTermS xs` terminates.</a>
    <a id="9354" class="Comment">--</a>
    <a id="Interaction.showArgsS"></a><a id="9361" href="SMT.Script.html#9361" class="Function">showArgsS</a> <a id="9371" class="Symbol">:</a> <a id="9373" href="SMT.Script.html#1309" class="Datatype">Args</a> <a id="9378" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="9380" href="SMT.Script.html#646" class="Generalizable">Δ</a> <a id="9382" class="Symbol">→</a> <a id="9384" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="9392" href="SMT.Script.html#6534" class="Record">Names</a> <a id="9398" href="Function.Base.html#615" class="Function">id</a> <a id="9401" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="9403" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="9405" class="Symbol">(</a><a id="9406" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="9411" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="9417" class="Symbol">)</a>
    <a id="9423" href="SMT.Script.html#9361" class="Function">showArgsS</a> <a id="9433" href="SMT.Script.html#1354" class="InductiveConstructor">[]</a> <a id="9436" class="Symbol">=</a> <a id="9438" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9445" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
    <a id="9452" href="SMT.Script.html#9361" class="Function">showArgsS</a> <a id="9462" class="Symbol">(</a><a id="9463" href="SMT.Script.html#9463" class="Bound">x</a> <a id="9465" href="SMT.Script.html#1374" class="InductiveConstructor Operator">∷</a> <a id="9467" href="SMT.Script.html#9467" class="Bound">xs</a><a id="9469" class="Symbol">)</a> <a id="9471" class="Symbol">=</a> <a id="9473" class="Keyword">do</a>
      <a id="9482" href="SMT.Script.html#9482" class="Bound">x′</a> <a id="9485" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9487" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="9497" href="SMT.Script.html#9463" class="Bound">x</a>
      <a id="9505" href="SMT.Script.html#9505" class="Bound">xs′</a> <a id="9509" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9511" href="SMT.Script.html#9361" class="Function">showArgsS</a> <a id="9521" href="SMT.Script.html#9467" class="Bound">xs</a>
      <a id="9530" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9537" class="Symbol">(</a><a id="9538" href="SMT.Script.html#9482" class="Bound">x′</a> <a id="9541" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9543" href="SMT.Script.html#9505" class="Bound">xs′</a><a id="9546" class="Symbol">)</a>

  <a id="9551" class="Comment">-- |Show a command as an S-expression. The code below passes a name state in</a>
  <a id="9630" class="Comment">--  a state monad. For the pure version, see `showCommand` below.</a>
  <a id="Interaction.showCommandS"></a><a id="9698" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="9711" class="Symbol">:</a> <a id="9713" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="9721" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="9724" href="SMT.Script.html#2593" class="Generalizable">Ξ′</a> <a id="9727" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="9729" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="9731" class="Symbol">→</a> <a id="9733" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="9741" href="SMT.Script.html#6534" class="Record">Names</a> <a id="9747" href="Function.Base.html#615" class="Function">id</a> <a id="9750" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="9753" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="9755" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="9764" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="9777" class="Symbol">(</a><a id="9778" href="SMT.Script.html#4119" class="InductiveConstructor">set-logic</a> <a id="9788" href="SMT.Script.html#9788" class="Bound">l</a><a id="9789" class="Symbol">)</a> <a id="9791" class="Symbol">=</a>
    <a id="9797" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9804" class="Symbol">(</a><a id="9805" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="9813" class="Symbol">(</a><a id="9814" class="String">&quot;set-logic&quot;</a> <a id="9826" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9828" href="SMT.Logics.html#6232" class="Function">showLogic</a> <a id="9838" href="SMT.Script.html#9788" class="Bound">l</a> <a id="9840" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9842" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9844" class="Symbol">))</a>
  <a id="9849" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="9862" class="Symbol">(</a><a id="9863" href="SMT.Script.html#4167" class="InductiveConstructor">declare-const</a> <a id="9877" href="SMT.Script.html#9877" class="Bound">σ</a><a id="9878" class="Symbol">)</a> <a id="9880" class="Symbol">=</a> <a id="9882" class="Keyword">do</a>
    <a id="9889" href="SMT.Script.html#9889" class="Bound">n′</a> <a id="9892" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="9894" href="SMT.Script.html#7137" class="Function">pushFreshName</a> <a id="9908" href="SMT.Script.html#9877" class="Bound">σ</a>
    <a id="9914" class="Keyword">let</a> <a id="9918" href="SMT.Script.html#9918" class="Bound">σ′</a> <a id="9921" class="Symbol">=</a> <a id="9923" href="SMT.Theory.html#928" class="Field">showSort</a> <a id="9932" href="SMT.Script.html#9877" class="Bound">σ</a>
    <a id="9938" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="9945" class="Symbol">(</a><a id="9946" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="9954" class="Symbol">(</a><a id="9955" class="String">&quot;declare-const&quot;</a> <a id="9971" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9973" href="SMT.Script.html#9889" class="Bound">n′</a> <a id="9976" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9978" href="SMT.Script.html#9918" class="Bound">σ′</a> <a id="9981" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="9983" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="9985" class="Symbol">))</a>
  <a id="9990" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="10003" class="Symbol">(</a><a id="10004" href="SMT.Script.html#4220" class="InductiveConstructor">assert</a> <a id="10011" href="SMT.Script.html#10011" class="Bound">x</a><a id="10012" class="Symbol">)</a> <a id="10014" class="Symbol">=</a> <a id="10016" class="Keyword">do</a>
    <a id="10023" href="SMT.Script.html#10023" class="Bound">x′</a> <a id="10026" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10028" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="10038" href="SMT.Script.html#10011" class="Bound">x</a>
    <a id="10044" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10051" class="Symbol">(</a><a id="10052" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="10060" class="Symbol">(</a><a id="10061" class="String">&quot;assert&quot;</a> <a id="10070" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10072" href="SMT.Script.html#10023" class="Bound">x′</a> <a id="10075" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10077" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10079" class="Symbol">))</a>
  <a id="10084" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="10097" href="SMT.Script.html#4268" class="InductiveConstructor">check-sat</a> <a id="10107" class="Symbol">=</a>
    <a id="10113" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10120" class="Symbol">(</a><a id="10121" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="10129" class="Symbol">(</a><a id="10130" class="String">&quot;check-sat&quot;</a> <a id="10142" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10144" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10146" class="Symbol">))</a>
  <a id="10151" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="10164" href="SMT.Script.html#4310" class="InductiveConstructor">get-model</a> <a id="10174" class="Symbol">=</a>
    <a id="10180" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10187" class="Symbol">(</a><a id="10188" href="SMT.Script.html#8184" class="Function">mkSTerm</a> <a id="10196" class="Symbol">(</a><a id="10197" class="String">&quot;get-model&quot;</a> <a id="10209" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10211" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="10213" class="Symbol">))</a>

  <a id="10219" class="Comment">-- |Show a script as an S-expression. The code below passes a name state in</a>
  <a id="10297" class="Comment">--  a state monad. For the pure version, see `showScript` below.</a>
  <a id="Interaction.showScriptS"></a><a id="10364" href="SMT.Script.html#10364" class="Function">showScriptS</a> <a id="10376" class="Symbol">:</a> <a id="10378" href="SMT.Script.html#4463" class="Datatype">Script</a> <a id="10385" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="10387" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="10390" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="10392" class="Symbol">→</a> <a id="10394" href="Category.Monad.State.html#666" class="Function">IStateT</a> <a id="10402" href="SMT.Script.html#6534" class="Record">Names</a> <a id="10408" href="Function.Base.html#615" class="Function">id</a> <a id="10411" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="10413" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="10416" class="Symbol">(</a><a id="10417" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="10422" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="10428" class="Symbol">)</a>
  <a id="10432" href="SMT.Script.html#10364" class="Function">showScriptS</a> <a id="10444" href="SMT.Script.html#4526" class="InductiveConstructor">[]</a> <a id="10447" class="Symbol">=</a> <a id="10449" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10456" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="10461" href="SMT.Script.html#10364" class="Function">showScriptS</a> <a id="10473" class="Symbol">(</a><a id="10474" href="SMT.Script.html#10474" class="Bound">cmd</a> <a id="10478" href="SMT.Script.html#4548" class="InductiveConstructor Operator">∷</a> <a id="10480" href="SMT.Script.html#10480" class="Bound">cmds</a><a id="10484" class="Symbol">)</a> <a id="10486" class="Symbol">=</a> <a id="10488" class="Keyword">do</a>
    <a id="10495" href="SMT.Script.html#10495" class="Bound">cmd′</a> <a id="10500" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10502" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="10515" href="SMT.Script.html#10474" class="Bound">cmd</a>
    <a id="10523" href="SMT.Script.html#10523" class="Bound">cmds′</a> <a id="10529" href="Category.Monad.Indexed.html#677" class="Function Operator">←</a> <a id="10531" href="SMT.Script.html#10364" class="Function">showScriptS</a> <a id="10543" href="SMT.Script.html#10480" class="Bound">cmds</a>
    <a id="10552" href="Category.Monad.Indexed.html#644" class="Function">return</a> <a id="10559" class="Symbol">(</a><a id="10560" href="SMT.Script.html#10495" class="Bound">cmd′</a> <a id="10565" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="10567" href="SMT.Script.html#10523" class="Bound">cmds′</a><a id="10572" class="Symbol">)</a>

  <a id="10577" class="Comment">-- |A name state for the empty context, which supplies the names x0, x1, x2, ...</a>
  <a id="Interaction.x′es"></a><a id="10660" href="SMT.Script.html#10660" class="Function">x′es</a> <a id="10665" class="Symbol">:</a> <a id="10667" href="SMT.Script.html#6534" class="Record">Names</a> <a id="10673" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
  <a id="10678" href="SMT.Script.html#6579" class="Field">nameEnv</a>    <a id="10689" href="SMT.Script.html#10660" class="Function">x′es</a> <a id="10694" class="Symbol">=</a> <a id="10696" href="SMT.Script.html#5660" class="InductiveConstructor">[]</a>
  <a id="10701" href="SMT.Script.html#6617" class="Field">nameSupply</a> <a id="10712" href="SMT.Script.html#10660" class="Function">x′es</a> <a id="10717" class="Symbol">=</a> <a id="10719" href="Codata.Musical.Stream.html#1156" class="Function">Stream.map</a> <a id="10730" class="Symbol">(λ</a> <a id="10733" href="SMT.Script.html#10733" class="Bound">n</a> <a id="10735" class="Symbol">→</a> <a id="10737" class="String">&quot;x&quot;</a> <a id="10741" href="Data.String.Base.html#2177" class="Function Operator">++</a> <a id="10744" href="SMT.Script.html#5051" class="Function">showℕ</a> <a id="10750" href="SMT.Script.html#10733" class="Bound">n</a><a id="10751" class="Symbol">)</a> <a id="10753" class="Symbol">(</a><a id="10754" href="Codata.Musical.Stream.html#1753" class="Function">Stream.iterate</a> <a id="10769" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">ℕ.suc</a> <a id="10775" class="Number">0</a><a id="10776" class="Symbol">)</a>

  <a id="10781" class="Comment">-- |Show a term as an S-expression.</a>
  <a id="Interaction.showTerm"></a><a id="10819" href="SMT.Script.html#10819" class="Function">showTerm</a> <a id="10828" class="Symbol">:</a> <a id="10830" href="SMT.Script.html#6534" class="Record">Names</a> <a id="10836" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="10838" class="Symbol">→</a> <a id="10840" href="SMT.Script.html#964" class="Datatype">Term</a> <a id="10845" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="10847" href="SMT.Script.html#608" class="Generalizable">σ</a> <a id="10849" class="Symbol">→</a> <a id="10851" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="10860" href="SMT.Script.html#10819" class="Function">showTerm</a> <a id="10869" href="SMT.Script.html#10869" class="Bound">names</a> <a id="10875" href="SMT.Script.html#10875" class="Bound">x</a> <a id="10877" class="Symbol">=</a> <a id="10879" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="10885" class="Symbol">(</a><a id="10886" href="SMT.Script.html#8425" class="Function">showTermS</a> <a id="10896" href="SMT.Script.html#10875" class="Bound">x</a> <a id="10898" href="SMT.Script.html#10869" class="Bound">names</a><a id="10903" class="Symbol">)</a>

  <a id="10908" class="Comment">-- |Show a command as an S-expression.</a>
  <a id="Interaction.showCommand"></a><a id="10949" href="SMT.Script.html#10949" class="Function">showCommand</a> <a id="10961" class="Symbol">:</a> <a id="10963" href="SMT.Script.html#6534" class="Record">Names</a> <a id="10969" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="10971" class="Symbol">→</a> <a id="10973" href="SMT.Script.html#4037" class="Datatype">Command</a> <a id="10981" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="10983" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="10985" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="10988" href="SMT.Script.html#2593" class="Generalizable">Ξ′</a> <a id="10991" class="Symbol">→</a> <a id="10993" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="11002" href="SMT.Script.html#10949" class="Function">showCommand</a> <a id="11014" href="SMT.Script.html#11014" class="Bound">names</a> <a id="11020" href="SMT.Script.html#11020" class="Bound">cmd</a> <a id="11024" class="Symbol">=</a> <a id="11026" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="11032" class="Symbol">(</a><a id="11033" href="SMT.Script.html#9698" class="Function">showCommandS</a> <a id="11046" href="SMT.Script.html#11020" class="Bound">cmd</a> <a id="11050" href="SMT.Script.html#11014" class="Bound">names</a><a id="11055" class="Symbol">)</a>

  <a id="11060" class="Comment">-- |Show a script as an S-expression.</a>
  <a id="Interaction.showScript"></a><a id="11100" href="SMT.Script.html#11100" class="Function">showScript</a> <a id="11111" class="Symbol">:</a> <a id="11113" href="SMT.Script.html#6534" class="Record">Names</a> <a id="11119" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="11121" class="Symbol">→</a> <a id="11123" href="SMT.Script.html#4463" class="Datatype">Script</a> <a id="11130" href="SMT.Script.html#627" class="Generalizable">Γ</a> <a id="11132" href="SMT.Script.html#629" class="Generalizable">Γ′</a> <a id="11135" href="SMT.Script.html#2591" class="Generalizable">Ξ</a> <a id="11137" class="Symbol">→</a> <a id="11139" href="Agda.Builtin.String.html#336" class="Postulate">String</a>
  <a id="11148" href="SMT.Script.html#11100" class="Function">showScript</a> <a id="11159" href="SMT.Script.html#11159" class="Bound">names</a> <a id="11165" href="SMT.Script.html#11165" class="Bound">cmd</a> <a id="11169" class="Symbol">=</a> <a id="11171" href="Data.String.Base.html#2550" class="Function">String.unlines</a> <a id="11186" class="Symbol">(</a><a id="11187" href="Agda.Builtin.Sigma.html#252" class="Field">proj₁</a> <a id="11193" class="Symbol">(</a><a id="11194" href="SMT.Script.html#10364" class="Function">showScriptS</a> <a id="11206" href="SMT.Script.html#11165" class="Bound">cmd</a> <a id="11210" href="SMT.Script.html#11159" class="Bound">names</a><a id="11215" class="Symbol">))</a>

  <a id="Interaction.parseSat"></a><a id="11221" href="SMT.Script.html#11221" class="Function">parseSat</a> <a id="11230" class="Symbol">:</a> <a id="11232" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="11235" href="Text.Parser.String.html#2399" class="Function">Parser</a> <a id="11242" href="SMT.Script.html#2646" class="Datatype">Sat</a> <a id="11246" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="11250" href="SMT.Script.html#11221" class="Function">parseSat</a> <a id="11259" class="Symbol">=</a> <a id="11261" href="SMT.Script.html#11306" class="Function">pSat</a> <a id="11266" href="Text.Parser.String.html#3822" class="Function Operator">&lt;|&gt;</a> <a id="11270" href="SMT.Script.html#11345" class="Function">pUnsat</a> <a id="11277" href="Text.Parser.String.html#3822" class="Function Operator">&lt;|&gt;</a> <a id="11281" href="SMT.Script.html#11386" class="Function">pUnknown</a>
    <a id="11294" class="Keyword">where</a>
      <a id="11306" href="SMT.Script.html#11306" class="Function">pSat</a>     <a id="11315" class="Symbol">=</a> <a id="11317" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a>     <a id="11325" href="Text.Parser.String.html#4016" class="Function Operator">&lt;$</a> <a id="11328" href="Text.Parser.String.html#4603" class="Function">text</a> <a id="11333" class="String">&quot;sat&quot;</a>
      <a id="11345" href="SMT.Script.html#11345" class="Function">pUnsat</a>   <a id="11354" class="Symbol">=</a> <a id="11356" href="SMT.Script.html#2680" class="InductiveConstructor">unsat</a>   <a id="11364" href="Text.Parser.String.html#4016" class="Function Operator">&lt;$</a> <a id="11367" href="Text.Parser.String.html#4603" class="Function">text</a> <a id="11372" class="String">&quot;unsat&quot;</a>
      <a id="11386" href="SMT.Script.html#11386" class="Function">pUnknown</a> <a id="11395" class="Symbol">=</a> <a id="11397" href="SMT.Script.html#2696" class="InductiveConstructor">unknown</a> <a id="11405" href="Text.Parser.String.html#4016" class="Function Operator">&lt;$</a> <a id="11408" href="Text.Parser.String.html#4603" class="Function">text</a> <a id="11413" class="String">&quot;unknown&quot;</a>

  <a id="11426" href="SMT.Script.html#11426" class="Function">_</a> <a id="11428" class="Symbol">:</a> <a id="11430" href="SMT.Script.html#11221" class="Function">parseSat</a> <a id="11439" href="Text.Parser.String.html#5923" class="Function Operator">parses</a> <a id="11446" class="String">&quot;sat&quot;</a> <a id="11452" href="Text.Parser.String.html#5923" class="Function Operator">as</a> <a id="11455" class="Symbol">(</a><a id="11456" href="SMT.Script.html#2711" class="Function Operator">_≟-Sat</a> <a id="11463" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a><a id="11466" class="Symbol">)</a>
  <a id="11470" class="Symbol">_</a> <a id="11472" class="Symbol">=</a> <a id="11474" class="Symbol">_</a>
  
  <a id="11481" href="SMT.Script.html#11481" class="Function">_</a> <a id="11483" class="Symbol">:</a> <a id="11485" href="SMT.Script.html#11221" class="Function">parseSat</a> <a id="11494" href="Text.Parser.String.html#5923" class="Function Operator">parses</a> <a id="11501" class="String">&quot;sat&quot;</a> <a id="11507" href="Text.Parser.String.html#5923" class="Function Operator">as</a> <a id="11510" class="Symbol">(</a><a id="11511" href="SMT.Script.html#2711" class="Function Operator">_≟-Sat</a> <a id="11518" href="SMT.Script.html#2664" class="InductiveConstructor">sat</a><a id="11521" class="Symbol">)</a>
  <a id="11525" class="Symbol">_</a> <a id="11527" class="Symbol">=</a> <a id="11529" class="Symbol">_</a>


  <a id="Interaction.parseResult"></a><a id="11535" href="SMT.Script.html#11535" class="Function">parseResult</a> <a id="11547" class="Symbol">:</a> <a id="11549" class="Symbol">(</a><a id="11550" href="SMT.Script.html#11550" class="Bound">ξ</a> <a id="11552" class="Symbol">:</a> <a id="11554" href="SMT.Script.html#2402" class="Datatype">OutputType</a><a id="11564" class="Symbol">)</a> <a id="11566" class="Symbol">→</a> <a id="11568" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="11571" href="Text.Parser.String.html#2399" class="Function">Parser</a> <a id="11578" class="Symbol">(</a><a id="11579" href="SMT.Script.html#3200" class="Function">Result</a> <a id="11586" href="SMT.Script.html#11550" class="Bound">ξ</a><a id="11587" class="Symbol">)</a> <a id="11589" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="11593" href="SMT.Script.html#11535" class="Function">parseResult</a> <a id="11605" href="SMT.Script.html#2427" class="InductiveConstructor">SAT</a>       <a id="11615" class="Symbol">=</a> <a id="11617" href="SMT.Script.html#11221" class="Function">parseSat</a>
  <a id="11628" href="SMT.Script.html#11535" class="Function">parseResult</a> <a id="11640" class="Symbol">(</a><a id="11641" href="SMT.Script.html#2448" class="InductiveConstructor">MODEL</a> <a id="11647" href="SMT.Script.html#11647" class="Bound">Γ</a><a id="11648" class="Symbol">)</a> <a id="11650" class="Symbol">=</a> <a id="11652" href="SMT.Script.html#11704" class="Postulate">notYetImplemented</a>
    <a id="11674" class="Keyword">where</a>
      <a id="11686" class="Keyword">postulate</a>
        <a id="11704" href="SMT.Script.html#11704" class="Postulate">notYetImplemented</a> <a id="11722" class="Symbol">:</a> <a id="11724" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="11727" href="Text.Parser.String.html#2399" class="Function">Parser</a> <a id="11734" class="Symbol">(</a><a id="11735" href="SMT.Script.html#3200" class="Function">Result</a> <a id="11742" class="Symbol">(</a><a id="11743" href="SMT.Script.html#2448" class="InductiveConstructor">MODEL</a> <a id="11749" href="SMT.Script.html#11647" class="Bound">Γ</a><a id="11750" class="Symbol">))</a><a id="11752" href="Relation.Unary.html#3359" class="Function">]</a>

  <a id="Interaction.parseResults"></a><a id="11757" href="SMT.Script.html#11757" class="Function">parseResults</a> <a id="11770" class="Symbol">:</a> <a id="11772" class="Symbol">(</a><a id="11773" href="SMT.Script.html#11773" class="Bound">ξ</a> <a id="11775" class="Symbol">:</a> <a id="11777" href="SMT.Script.html#2402" class="Datatype">OutputType</a><a id="11787" class="Symbol">)</a> <a id="11789" class="Symbol">(</a><a id="11790" href="SMT.Script.html#11790" class="Bound">Ξ</a> <a id="11792" class="Symbol">:</a> <a id="11794" href="SMT.Script.html#2496" class="Function">OutputCtxt</a><a id="11804" class="Symbol">)</a> <a id="11806" class="Symbol">→</a> <a id="11808" href="Relation.Unary.html#3359" class="Function">∀[</a> <a id="11811" href="Text.Parser.String.html#2399" class="Function">Parser</a> <a id="11818" class="Symbol">(</a><a id="11819" href="SMT.Script.html#3311" class="Datatype">Results</a> <a id="11827" class="Symbol">(</a><a id="11828" href="SMT.Script.html#11773" class="Bound">ξ</a> <a id="11830" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11832" href="SMT.Script.html#11790" class="Bound">Ξ</a><a id="11833" class="Symbol">))</a> <a id="11836" href="Relation.Unary.html#3359" class="Function">]</a>
  <a id="11840" href="SMT.Script.html#11757" class="Function">parseResults</a> <a id="11853" href="SMT.Script.html#11853" class="Bound">ξ</a> <a id="11855" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a> <a id="11858" class="Symbol">=</a> <a id="11860" class="Symbol">(</a><a id="11861" href="SMT.Script.html#3371" class="InductiveConstructor Operator">_∷</a> <a id="11864" href="SMT.Script.html#3352" class="InductiveConstructor">[]</a><a id="11866" class="Symbol">)</a> <a id="11868" href="Text.Parser.String.html#3920" class="Function Operator">&lt;$&gt;</a> <a id="11872" href="SMT.Script.html#11535" class="Function">parseResult</a> <a id="11884" href="SMT.Script.html#11853" class="Bound">ξ</a>
  <a id="11888" href="SMT.Script.html#11757" class="Function">parseResults</a> <a id="11901" href="SMT.Script.html#11901" class="Bound">ξ</a> <a id="11903" class="Symbol">(</a><a id="11904" href="SMT.Script.html#11904" class="Bound">ξ′</a> <a id="11907" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="11909" href="SMT.Script.html#11909" class="Bound">Ξ</a><a id="11910" class="Symbol">)</a> <a id="11912" class="Symbol">=</a> <a id="11914" href="SMT.Script.html#3371" class="InductiveConstructor Operator">_∷_</a> <a id="11918" href="Text.Parser.String.html#3920" class="Function Operator">&lt;$&gt;</a> <a id="11922" href="SMT.Script.html#11535" class="Function">parseResult</a> <a id="11934" href="SMT.Script.html#11901" class="Bound">ξ</a> <a id="11936" href="Text.Parser.String.html#4104" class="Function Operator">&lt;*&gt;</a> <a id="11940" href="Text.Parser.String.html#3682" class="Function">box</a> <a id="11944" class="Symbol">(</a><a id="11945" href="SMT.Script.html#11757" class="Function">parseResults</a> <a id="11958" href="SMT.Script.html#11904" class="Bound">ξ′</a> <a id="11961" href="SMT.Script.html#11909" class="Bound">Ξ</a><a id="11962" class="Symbol">)</a>

</pre></body></html>