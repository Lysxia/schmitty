<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Reflection.External</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Support for system calls as part of reflection</a>
<a id="156" class="Comment">------------------------------------------------------------------------</a>

<a id="230" class="Symbol">{-#</a> <a id="234" class="Keyword">OPTIONS</a> <a id="242" class="Pragma">--without-K</a> <a id="254" class="Pragma">--safe</a> <a id="261" class="Symbol">#-}</a>

<a id="266" class="Keyword">module</a> <a id="273" href="Reflection.External.html" class="Module">Reflection.External</a> <a id="293" class="Keyword">where</a>

<a id="300" class="Keyword">import</a> <a id="307" href="Agda.Builtin.Reflection.External.html" class="Module">Agda.Builtin.Reflection.External</a> <a id="340" class="Symbol">as</a> <a id="343" class="Module">Builtin</a>

<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="378" class="Keyword">using</a> <a id="384" class="Symbol">(</a><a id="385" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="386" class="Symbol">;</a> <a id="388" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="391" class="Symbol">;</a> <a id="393" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="397" class="Symbol">;</a> <a id="399" href="Data.Nat.Base.html#2336" class="Function">NonZero</a><a id="406" class="Symbol">)</a>
<a id="408" class="Keyword">open</a> <a id="413" class="Keyword">import</a> <a id="420" href="Data.List.Base.html" class="Module">Data.List.Base</a> <a id="435" class="Keyword">using</a> <a id="441" class="Symbol">(</a><a id="442" href="Agda.Builtin.List.html#148" class="Datatype">List</a><a id="446" class="Symbol">;</a> <a id="448" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">_∷_</a><a id="451" class="Symbol">;</a> <a id="453" href="Data.List.Base.html#9981" class="InductiveConstructor">[]</a><a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Product.html" class="Module">Data.Product</a> <a id="482" class="Keyword">using</a> <a id="488" class="Symbol">(</a><a id="489" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">_,_</a><a id="492" class="Symbol">)</a>
<a id="494" class="Keyword">open</a> <a id="499" class="Keyword">import</a> <a id="506" href="Data.String.Base.html" class="Module">Data.String.Base</a> <a id="523" class="Keyword">using</a> <a id="529" class="Symbol">(</a><a id="530" href="Agda.Builtin.String.html#336" class="Postulate">String</a><a id="536" class="Symbol">;</a> <a id="538" href="Data.String.Base.html#2177" class="Function Operator">_++_</a><a id="542" class="Symbol">)</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Data.Unit.Base.html" class="Module">Data.Unit.Base</a> <a id="571" class="Keyword">using</a> <a id="577" class="Symbol">(</a><a id="578" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a><a id="579" class="Symbol">;</a> <a id="581" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="583" class="Symbol">)</a>
<a id="585" class="Keyword">open</a> <a id="590" class="Keyword">import</a> <a id="597" href="Function.html" class="Module">Function</a> <a id="606" class="Keyword">using</a> <a id="612" class="Symbol">(</a><a id="613" href="Function.Base.html#3709" class="Function Operator">case_of_</a><a id="621" class="Symbol">;</a> <a id="623" href="Function.Base.html#1577" class="Function Operator">_$_</a><a id="626" class="Symbol">)</a>
<a id="628" class="Keyword">open</a> <a id="633" class="Keyword">import</a> <a id="640" href="Reflection.html" class="Module">Reflection</a> <a id="651" class="Keyword">hiding</a> <a id="658" class="Symbol">(</a><a id="659" href="Agda.Builtin.Reflection.html#3842" class="InductiveConstructor">name</a><a id="663" class="Symbol">)</a>
  <a id="667" class="Comment">-- using (TC; return; _&gt;&gt;=_; unify; Term; con; lit; nat; string; unknown; vArg; hArg)</a>

<a id="754" class="Comment">-- |Representation for exit codes, assuming 0 is consistently used to indicate</a>
<a id="833" class="Comment">--  success across platforms.</a>
<a id="863" class="Keyword">data</a> <a id="ExitCode"></a><a id="868" href="Reflection.External.html#868" class="Datatype">ExitCode</a> <a id="877" class="Symbol">:</a> <a id="879" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="883" class="Keyword">where</a>
  <a id="ExitCode.exitSuccess"></a><a id="891" href="Reflection.External.html#891" class="InductiveConstructor">exitSuccess</a> <a id="903" class="Symbol">:</a> <a id="905" href="Reflection.External.html#868" class="Datatype">ExitCode</a>
  <a id="ExitCode.exitFailure"></a><a id="916" href="Reflection.External.html#916" class="InductiveConstructor">exitFailure</a> <a id="928" class="Symbol">:</a> <a id="930" class="Symbol">(</a><a id="931" href="Reflection.External.html#931" class="Bound">n</a> <a id="933" class="Symbol">:</a> <a id="935" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="936" class="Symbol">)</a> <a id="938" class="Symbol">{</a><a id="939" href="Reflection.External.html#939" class="Bound">n≢0</a> <a id="943" class="Symbol">:</a> <a id="945" href="Data.Nat.Base.html#2336" class="Function">NonZero</a> <a id="953" href="Reflection.External.html#931" class="Bound">n</a><a id="954" class="Symbol">}</a> <a id="956" class="Symbol">→</a> <a id="958" href="Reflection.External.html#868" class="Datatype">ExitCode</a>

<a id="968" class="Comment">-- |Specification for a command.</a>
<a id="1001" class="Keyword">record</a> <a id="CmdSpec"></a><a id="1008" href="Reflection.External.html#1008" class="Record">CmdSpec</a> <a id="1016" class="Symbol">:</a> <a id="1018" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1022" class="Keyword">where</a>
  <a id="1030" class="Keyword">constructor</a> <a id="cmdSpec"></a><a id="1042" href="Reflection.External.html#1042" class="InductiveConstructor">cmdSpec</a>
  <a id="1052" class="Keyword">field</a>
    <a id="CmdSpec.name"></a><a id="1062" href="Reflection.External.html#1062" class="Field">name</a>  <a id="1068" class="Symbol">:</a> <a id="1070" href="Agda.Builtin.String.html#336" class="Postulate">String</a>      <a id="1082" class="Comment">-- ^ Executable name (see ~/.agda/executables)</a>
    <a id="CmdSpec.args"></a><a id="1133" href="Reflection.External.html#1133" class="Field">args</a>  <a id="1139" class="Symbol">:</a> <a id="1141" href="Agda.Builtin.List.html#148" class="Datatype">List</a> <a id="1146" href="Agda.Builtin.String.html#336" class="Postulate">String</a> <a id="1153" class="Comment">-- ^ Command-line arguments for executable</a>
    <a id="CmdSpec.input"></a><a id="1200" href="Reflection.External.html#1200" class="Field">input</a> <a id="1206" class="Symbol">:</a> <a id="1208" href="Agda.Builtin.String.html#336" class="Postulate">String</a>      <a id="1220" class="Comment">-- ^ Contents of standard input</a>

<a id="1253" class="Comment">-- |Result of running a command.</a>
<a id="1286" class="Keyword">record</a> <a id="Result"></a><a id="1293" href="Reflection.External.html#1293" class="Record">Result</a> <a id="1300" class="Symbol">:</a> <a id="1302" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1306" class="Keyword">where</a>
  <a id="1314" class="Keyword">constructor</a> <a id="result"></a><a id="1326" href="Reflection.External.html#1326" class="InductiveConstructor">result</a>
  <a id="1335" class="Keyword">field</a>
    <a id="Result.exitCode"></a><a id="1345" href="Reflection.External.html#1345" class="Field">exitCode</a> <a id="1354" class="Symbol">:</a> <a id="1356" href="Reflection.External.html#868" class="Datatype">ExitCode</a> <a id="1365" class="Comment">-- ^ Exit code returned by the process</a>
    <a id="Result.output"></a><a id="1408" href="Reflection.External.html#1408" class="Field">output</a>   <a id="1417" class="Symbol">:</a> <a id="1419" href="Agda.Builtin.String.html#336" class="Postulate">String</a>   <a id="1428" class="Comment">-- ^ Contents of standard output</a>
    <a id="Result.error"></a><a id="1465" href="Reflection.External.html#1465" class="Field">error</a>    <a id="1474" class="Symbol">:</a> <a id="1476" href="Agda.Builtin.String.html#336" class="Postulate">String</a>   <a id="1485" class="Comment">-- ^ Contents of standard error</a>

<a id="1518" class="Comment">-- |Convert a natural number to an exit code.</a>
<a id="toExitCode"></a><a id="1564" href="Reflection.External.html#1564" class="Function">toExitCode</a> <a id="1575" class="Symbol">:</a> <a id="1577" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a> <a id="1579" class="Symbol">→</a> <a id="1581" href="Reflection.External.html#868" class="Datatype">ExitCode</a>
<a id="1590" href="Reflection.External.html#1564" class="Function">toExitCode</a> <a id="1601" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>    <a id="1609" class="Symbol">=</a> <a id="1611" href="Reflection.External.html#891" class="InductiveConstructor">exitSuccess</a>
<a id="1623" href="Reflection.External.html#1564" class="Function">toExitCode</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1639" href="Reflection.External.html#1639" class="Bound">n</a><a id="1640" class="Symbol">)</a> <a id="1642" class="Symbol">=</a> <a id="1644" href="Reflection.External.html#916" class="InductiveConstructor">exitFailure</a> <a id="1656" class="Symbol">(</a><a id="1657" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1661" href="Reflection.External.html#1639" class="Bound">n</a><a id="1662" class="Symbol">)</a>

<a id="1665" class="Comment">-- |Quote an exit code as an Agda term.</a>
<a id="quoteExitCode"></a><a id="1705" href="Reflection.External.html#1705" class="Function">quoteExitCode</a> <a id="1719" class="Symbol">:</a> <a id="1721" href="Reflection.External.html#868" class="Datatype">ExitCode</a> <a id="1730" class="Symbol">→</a> <a id="1732" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
<a id="1737" href="Reflection.External.html#1705" class="Function">quoteExitCode</a> <a id="1751" href="Reflection.External.html#891" class="InductiveConstructor">exitSuccess</a> <a id="1763" class="Symbol">=</a>
  <a id="1767" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="1771" class="Symbol">(</a><a id="1772" class="Keyword">quote</a> <a id="1778" href="Reflection.External.html#891" class="InductiveConstructor">exitSuccess</a><a id="1789" class="Symbol">)</a> <a id="1791" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a>
<a id="1794" href="Reflection.External.html#1705" class="Function">quoteExitCode</a> <a id="1808" class="Symbol">(</a><a id="1809" href="Reflection.External.html#916" class="InductiveConstructor">exitFailure</a> <a id="1821" href="Reflection.External.html#1821" class="Bound">n</a><a id="1822" class="Symbol">)</a> <a id="1824" class="Symbol">=</a>
  <a id="1828" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="1832" class="Symbol">(</a><a id="1833" class="Keyword">quote</a> <a id="1839" href="Reflection.External.html#916" class="InductiveConstructor">exitFailure</a><a id="1850" class="Symbol">)</a> <a id="1852" class="Symbol">(</a><a id="1853" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="1858" class="Symbol">(</a><a id="1859" href="Agda.Builtin.Reflection.html#4719" class="InductiveConstructor">lit</a> <a id="1863" class="Symbol">(</a><a id="1864" href="Agda.Builtin.Reflection.html#3672" class="InductiveConstructor">nat</a> <a id="1868" href="Reflection.External.html#1821" class="Bound">n</a><a id="1869" class="Symbol">))</a> <a id="1872" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1874" href="Reflection.Argument.html#1126" class="InductiveConstructor">hArg</a> <a id="1879" class="Symbol">(</a><a id="1880" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="1884" class="Symbol">(</a><a id="1885" class="Keyword">quote</a> <a id="1891" href="Agda.Builtin.Unit.html#201" class="InductiveConstructor">tt</a><a id="1893" class="Symbol">)</a> <a id="1895" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1897" class="Symbol">)</a> <a id="1899" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="1901" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="1903" class="Symbol">)</a>

<a id="1906" class="Comment">-- |Quote a result as an Agda term.</a>
<a id="quoteResult"></a><a id="1942" href="Reflection.External.html#1942" class="Function">quoteResult</a> <a id="1954" class="Symbol">:</a> <a id="1956" href="Reflection.External.html#1293" class="Record">Result</a> <a id="1963" class="Symbol">→</a> <a id="1965" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a>
<a id="1970" href="Reflection.External.html#1942" class="Function">quoteResult</a> <a id="1982" class="Symbol">(</a><a id="1983" href="Reflection.External.html#1326" class="InductiveConstructor">result</a> <a id="1990" href="Reflection.External.html#1990" class="Bound">exitCode</a> <a id="1999" href="Reflection.External.html#1999" class="Bound">output</a> <a id="2006" href="Reflection.External.html#2006" class="Bound">error</a><a id="2011" class="Symbol">)</a> <a id="2013" class="Symbol">=</a>
  <a id="2017" href="Agda.Builtin.Reflection.html#4404" class="InductiveConstructor">con</a> <a id="2021" class="Symbol">(</a><a id="2022" class="Keyword">quote</a> <a id="2028" href="Reflection.External.html#1326" class="InductiveConstructor">result</a><a id="2034" class="Symbol">)</a> <a id="2036" class="Symbol">(</a> <a id="2038" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="2043" class="Symbol">(</a><a id="2044" href="Reflection.External.html#1705" class="Function">quoteExitCode</a> <a id="2058" href="Reflection.External.html#1990" class="Bound">exitCode</a><a id="2066" class="Symbol">)</a>
                     <a id="2089" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2091" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="2096" class="Symbol">(</a><a id="2097" href="Agda.Builtin.Reflection.html#4719" class="InductiveConstructor">lit</a> <a id="2101" class="Symbol">(</a><a id="2102" href="Agda.Builtin.Reflection.html#3808" class="InductiveConstructor">string</a> <a id="2109" href="Reflection.External.html#1999" class="Bound">output</a><a id="2115" class="Symbol">))</a>
                     <a id="2139" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2141" href="Reflection.Argument.html#1071" class="InductiveConstructor">vArg</a> <a id="2146" class="Symbol">(</a><a id="2147" href="Agda.Builtin.Reflection.html#4719" class="InductiveConstructor">lit</a> <a id="2151" class="Symbol">(</a><a id="2152" href="Agda.Builtin.Reflection.html#3808" class="InductiveConstructor">string</a> <a id="2159" href="Reflection.External.html#2006" class="Bound">error</a><a id="2164" class="Symbol">))</a>
                     <a id="2188" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="2190" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="2192" class="Symbol">)</a>

<a id="2195" class="Comment">-- |Run command from specification in TC monad.</a>
<a id="runCmdTC"></a><a id="2243" href="Reflection.External.html#2243" class="Function">runCmdTC</a> <a id="2252" class="Symbol">:</a> <a id="2254" href="Reflection.External.html#1008" class="Record">CmdSpec</a> <a id="2262" class="Symbol">→</a> <a id="2264" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="2267" href="Reflection.External.html#1293" class="Record">Result</a>
<a id="2274" href="Reflection.External.html#2243" class="Function">runCmdTC</a> <a id="2283" href="Reflection.External.html#2283" class="Bound">c</a> <a id="2285" class="Symbol">=</a> <a id="2287" class="Keyword">do</a>
  <a id="2292" class="Symbol">(</a><a id="2293" href="Reflection.External.html#2293" class="Bound">exitCode</a> <a id="2302" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2304" class="Symbol">(</a><a id="2305" href="Reflection.External.html#2305" class="Bound">stdOut</a> <a id="2312" href="Agda.Builtin.Sigma.html#236" class="InductiveConstructor Operator">,</a> <a id="2314" href="Reflection.External.html#2314" class="Bound">stdErr</a><a id="2320" class="Symbol">))</a>
    <a id="2327" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2329" href="Agda.Builtin.Reflection.External.html#304" class="Postulate">Builtin.execTC</a> <a id="2344" class="Symbol">(</a><a id="2345" href="Reflection.External.html#1062" class="Field">CmdSpec.name</a> <a id="2358" href="Reflection.External.html#2283" class="Bound">c</a><a id="2359" class="Symbol">)</a> <a id="2361" class="Symbol">(</a><a id="2362" href="Reflection.External.html#1133" class="Field">CmdSpec.args</a> <a id="2375" href="Reflection.External.html#2283" class="Bound">c</a><a id="2376" class="Symbol">)</a> <a id="2378" class="Symbol">(</a><a id="2379" href="Reflection.External.html#1200" class="Field">CmdSpec.input</a> <a id="2393" href="Reflection.External.html#2283" class="Bound">c</a><a id="2394" class="Symbol">)</a>
  <a id="2398" href="Agda.Builtin.Reflection.html#7543" class="Postulate">return</a> <a id="2405" href="Function.Base.html#1577" class="Function Operator">$</a> <a id="2407" href="Reflection.External.html#1326" class="InductiveConstructor">result</a> <a id="2414" class="Symbol">(</a><a id="2415" href="Reflection.External.html#1564" class="Function">toExitCode</a> <a id="2426" href="Reflection.External.html#2293" class="Bound">exitCode</a><a id="2434" class="Symbol">)</a> <a id="2436" href="Reflection.External.html#2305" class="Bound">stdOut</a> <a id="2443" href="Reflection.External.html#2314" class="Bound">stdErr</a>

<a id="2451" class="Comment">-- |Run command from specification and return the full result.</a>
<a id="2514" class="Comment">--</a>
<a id="2517" class="Comment">--  NOTE: If the command fails, this macro still succeeds, and returns the</a>
<a id="2592" class="Comment">--        full result, including exit code and the contents of stderr.</a>
<a id="2663" class="Comment">--</a>
<a id="2666" class="Keyword">macro</a>
  <a id="unsafeRunCmd"></a><a id="2674" href="Reflection.External.html#2674" class="Function">unsafeRunCmd</a> <a id="2687" class="Symbol">:</a> <a id="2689" href="Reflection.External.html#1008" class="Record">CmdSpec</a> <a id="2697" class="Symbol">→</a> <a id="2699" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="2704" class="Symbol">→</a> <a id="2706" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="2709" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="2713" href="Reflection.External.html#2674" class="Function">unsafeRunCmd</a> <a id="2726" href="Reflection.External.html#2726" class="Bound">c</a> <a id="2728" href="Reflection.External.html#2728" class="Bound">hole</a> <a id="2733" class="Symbol">=</a> <a id="2735" class="Keyword">do</a>
    <a id="2742" href="Reflection.External.html#2742" class="Bound">r</a> <a id="2744" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="2746" href="Reflection.External.html#2243" class="Function">runCmdTC</a> <a id="2755" href="Reflection.External.html#2726" class="Bound">c</a>
    <a id="2761" href="Agda.Builtin.Reflection.html#7673" class="Postulate">unify</a> <a id="2767" href="Reflection.External.html#2728" class="Bound">hole</a> <a id="2772" href="Function.Base.html#1577" class="Function Operator">$</a> <a id="2774" href="Reflection.External.html#1942" class="Function">quoteResult</a> <a id="2786" href="Reflection.External.html#2742" class="Bound">r</a>

<a id="2789" class="Comment">-- |Run command from specification. If the command succeeds, it returns the</a>
<a id="2865" class="Comment">--  contents of stdout. Otherwise, it throws a type error with the contents</a>
<a id="2941" class="Comment">--  of stderr.</a>
<a id="2956" class="Keyword">macro</a>
  <a id="runCmd"></a><a id="2964" href="Reflection.External.html#2964" class="Function">runCmd</a> <a id="2971" class="Symbol">:</a> <a id="2973" href="Reflection.External.html#1008" class="Record">CmdSpec</a> <a id="2981" class="Symbol">→</a> <a id="2983" href="Agda.Builtin.Reflection.html#4246" class="Datatype">Term</a> <a id="2988" class="Symbol">→</a> <a id="2990" href="Agda.Builtin.Reflection.html#7500" class="Postulate">TC</a> <a id="2993" href="Agda.Builtin.Unit.html#164" class="Record">⊤</a>
  <a id="2997" href="Reflection.External.html#2964" class="Function">runCmd</a> <a id="3004" href="Reflection.External.html#3004" class="Bound">c</a> <a id="3006" href="Reflection.External.html#3006" class="Bound">hole</a> <a id="3011" class="Symbol">=</a> <a id="3013" class="Keyword">do</a>
    <a id="3020" href="Reflection.External.html#3020" class="Bound">r</a> <a id="3022" href="Reflection.TypeChecking.Monad.Syntax.html#682" class="Function Operator">←</a> <a id="3024" href="Reflection.External.html#2243" class="Function">runCmdTC</a> <a id="3033" href="Reflection.External.html#3004" class="Bound">c</a>
    <a id="3039" class="Keyword">let</a> <a id="3043" href="Reflection.External.html#3043" class="Bound">debugPrefix</a> <a id="3055" class="Symbol">=</a> <a id="3057" class="Symbol">(</a><a id="3058" class="String">&quot;user.&quot;</a> <a id="3066" href="Data.String.Base.html#2177" class="Function Operator">++</a> <a id="3069" href="Reflection.External.html#1062" class="Field">CmdSpec.name</a> <a id="3082" href="Reflection.External.html#3004" class="Bound">c</a><a id="3083" class="Symbol">)</a>
    <a id="3089" href="Function.Base.html#3709" class="Function Operator">case</a> <a id="3094" href="Reflection.External.html#1345" class="Field">Result.exitCode</a> <a id="3110" href="Reflection.External.html#3020" class="Bound">r</a> <a id="3112" href="Function.Base.html#3709" class="Function Operator">of</a> <a id="3115" class="Symbol">λ</a>
      <a id="3123" class="Symbol">{</a> <a id="3125" href="Reflection.External.html#891" class="InductiveConstructor">exitSuccess</a> <a id="3137" class="Symbol">→</a> <a id="3139" class="Keyword">do</a>
        <a id="3150" href="Agda.Builtin.Reflection.html#9013" class="Postulate">debugPrint</a> <a id="3161" class="Symbol">(</a><a id="3162" href="Reflection.External.html#3043" class="Bound">debugPrefix</a> <a id="3174" href="Data.String.Base.html#2177" class="Function Operator">++</a> <a id="3177" class="String">&quot;.stderr&quot;</a><a id="3186" class="Symbol">)</a> <a id="3188" class="Number">10</a> <a id="3191" class="Symbol">(</a><a id="3192" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="3199" class="Symbol">(</a><a id="3200" href="Reflection.External.html#1465" class="Field">Result.error</a> <a id="3213" href="Reflection.External.html#3020" class="Bound">r</a><a id="3214" class="Symbol">)</a> <a id="3216" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3218" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3220" class="Symbol">)</a>
        <a id="3230" href="Agda.Builtin.Reflection.html#7673" class="Postulate">unify</a> <a id="3236" href="Reflection.External.html#3006" class="Bound">hole</a> <a id="3241" href="Function.Base.html#1577" class="Function Operator">$</a> <a id="3243" href="Agda.Builtin.Reflection.html#4719" class="InductiveConstructor">lit</a> <a id="3247" class="Symbol">(</a><a id="3248" href="Agda.Builtin.Reflection.html#3808" class="InductiveConstructor">string</a> <a id="3255" class="Symbol">(</a><a id="3256" href="Reflection.External.html#1408" class="Field">Result.output</a> <a id="3270" href="Reflection.External.html#3020" class="Bound">r</a><a id="3271" class="Symbol">))</a>
      <a id="3280" class="Symbol">;</a> <a id="3282" class="Symbol">(</a><a id="3283" href="Reflection.External.html#916" class="InductiveConstructor">exitFailure</a> <a id="3295" href="Reflection.External.html#3295" class="Bound">n</a><a id="3296" class="Symbol">)</a> <a id="3298" class="Symbol">→</a> <a id="3300" class="Keyword">do</a>
        <a id="3311" href="Agda.Builtin.Reflection.html#9013" class="Postulate">debugPrint</a> <a id="3322" class="Symbol">(</a><a id="3323" href="Reflection.External.html#3043" class="Bound">debugPrefix</a> <a id="3335" href="Data.String.Base.html#2177" class="Function Operator">++</a> <a id="3338" class="String">&quot;.stdout&quot;</a><a id="3347" class="Symbol">)</a> <a id="3349" class="Number">10</a> <a id="3352" class="Symbol">(</a><a id="3353" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="3360" class="Symbol">(</a><a id="3361" href="Reflection.External.html#1408" class="Field">Result.output</a> <a id="3375" href="Reflection.External.html#3020" class="Bound">r</a><a id="3376" class="Symbol">)</a> <a id="3378" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3380" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3382" class="Symbol">)</a>
        <a id="3392" href="Agda.Builtin.Reflection.html#7713" class="Postulate">typeError</a> <a id="3402" class="Symbol">(</a><a id="3403" href="Agda.Builtin.Reflection.html#7199" class="InductiveConstructor">strErr</a> <a id="3410" class="Symbol">(</a><a id="3411" href="Reflection.External.html#1465" class="Field">Result.error</a> <a id="3424" href="Reflection.External.html#3020" class="Bound">r</a><a id="3425" class="Symbol">)</a> <a id="3427" href="Agda.Builtin.List.html#200" class="InductiveConstructor Operator">∷</a> <a id="3429" href="Agda.Builtin.List.html#185" class="InductiveConstructor">[]</a><a id="3431" class="Symbol">)</a>
      <a id="3439" class="Symbol">}</a>
</pre></body></html>